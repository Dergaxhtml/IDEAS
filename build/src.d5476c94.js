parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"awqi":[function(require,module,exports) {
"use strict";var e=require("object-assign"),t=60103,r=60106;exports.Fragment=60107,exports.StrictMode=60108,exports.Profiler=60114;var n=60109,o=60110,u=60112;exports.Suspense=60113;var s=60115,i=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;t=f("react.element"),r=f("react.portal"),exports.Fragment=f("react.fragment"),exports.StrictMode=f("react.strict_mode"),exports.Profiler=f("react.profiler"),n=f("react.provider"),o=f("react.context"),u=f("react.forward_ref"),exports.Suspense=f("react.suspense"),s=f("react.memo"),i=f("react.lazy")}var a="function"==typeof Symbol&&Symbol.iterator;function c(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=a&&e[a]||e["@@iterator"])?e:null}function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function d(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}function v(){}function h(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}d.prototype.isReactComponent={},d.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=d.prototype;var _=h.prototype=new v;_.constructor=h,e(_,d.prototype),_.isPureReactComponent=!0;var x={current:null},m=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function S(e,r,n){var o,u={},s=null,i=null;if(null!=r)for(o in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(s=""+r.key),r)m.call(r,o)&&!b.hasOwnProperty(o)&&(u[o]=r[o]);var f=arguments.length-2;if(1===f)u.children=n;else if(1<f){for(var a=Array(f),c=0;c<f;c++)a[c]=arguments[c+2];u.children=a}if(e&&e.defaultProps)for(o in f=e.defaultProps)void 0===u[o]&&(u[o]=f[o]);return{$$typeof:t,type:e,key:s,ref:i,props:u,_owner:x.current}}function $(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function g(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?g(""+e.key):t.toString(36)}function E(e,n,o,u,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var f=!1;if(null===e)f=!0;else switch(i){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case t:case r:f=!0}}if(f)return s=s(f=e),e=""===u?"."+C(f,0):u,Array.isArray(s)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),E(s,n,o,"",function(e){return e})):null!=s&&(w(s)&&(s=$(s,o+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),n.push(s)),1;if(f=0,u=""===u?".":u+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=u+C(i=e[a],a);f+=E(i,n,o,l,s)}else if("function"==typeof(l=c(e)))for(e=l.call(e),a=0;!(i=e.next()).done;)f+=E(i=i.value,n,o,l=u+C(i,a++),s);else if("object"===i)throw n=""+e,Error(p(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return f}function R(e,t,r){if(null==e)return e;var n=[],o=0;return E(e,n,"","",function(e){return t.call(r,e,o++)}),n}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error(p(143));return e}},exports.Component=d,exports.PureComponent=h,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,exports.cloneElement=function(r,n,o){if(null==r)throw Error(p(267,r));var u=e({},r.props),s=r.key,i=r.ref,f=r._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,f=x.current),void 0!==n.key&&(s=""+n.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(c in n)m.call(n,c)&&!b.hasOwnProperty(c)&&(u[c]=void 0===n[c]&&void 0!==a?a[c]:n[c])}var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];u.children=a}return{$$typeof:t,type:r.type,key:s,ref:i,props:u,_owner:f}},exports.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},exports.createElement=S,exports.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:u,render:e}},exports.isValidElement=w,exports.lazy=function(e){return{$$typeof:i,_payload:{_status:-1,_result:e},_init:j}},exports.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},exports.useCallback=function(e,t){return O().useCallback(e,t)},exports.useContext=function(e,t){return O().useContext(e,t)},exports.useDebugValue=function(){},exports.useEffect=function(e,t){return O().useEffect(e,t)},exports.useImperativeHandle=function(e,t,r){return O().useImperativeHandle(e,t,r)},exports.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},exports.useMemo=function(e,t){return O().useMemo(e,t)},exports.useReducer=function(e,t,r){return O().useReducer(e,t,r)},exports.useRef=function(e){return O().useRef(e)},exports.useState=function(e){return O().useState(e)},exports.version="17.0.1";
},{"object-assign":"J4Nk"}],"n8MK":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"awqi"}],"IvPb":[function(require,module,exports) {
"use strict";var e,t,n,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;exports.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();exports.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,s=null,u=function(){if(null!==i)try{var e=exports.unstable_now();i(!0,e),i=null}catch(t){throw setTimeout(u,0),t}};e=function(t){null!==i?setTimeout(e,0,t):(i=t,setTimeout(u,0))},t=function(e,t){s=setTimeout(e,t)},n=function(){clearTimeout(s)},exports.unstable_shouldYield=function(){return!1},r=exports.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,d=null,v=-1,x=5,y=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=y},r=function(){},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var m=new MessageChannel,w=m.port2;m.port1.onmessage=function(){if(null!==d){var e=exports.unstable_now();y=e+x;try{d(!0,e)?w.postMessage(null):(b=!1,d=null)}catch(t){throw w.postMessage(null),t}}else b=!1},e=function(e){d=e,b||(b=!0,w.postMessage(null))},t=function(e,t){v=c(function(){e(exports.unstable_now())},t)},n=function(){f(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function h(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],i=a+1,s=e[i];if(void 0!==l&&0>T(l,n))void 0!==s&&0>T(s,l)?(e[r]=s,e[i]=n,r=i):(e[r]=l,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[i]=n,r=i}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var g=[],P=[],F=1,I=null,M=3,C=!1,j=!1,A=!1;function L(e){for(var t=h(P);null!==t;){if(null===t.callback)k(P);else{if(!(t.startTime<=e))break;k(P),t.sortIndex=t.expirationTime,_(g,t)}t=h(P)}}function q(n){if(A=!1,L(n),!j)if(null!==h(g))j=!0,e(R);else{var r=h(P);null!==r&&t(q,r.startTime-n)}}function R(e,r){j=!1,A&&(A=!1,n()),C=!0;var o=M;try{for(L(r),I=h(g);null!==I&&(!(I.expirationTime>r)||e&&!exports.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,M=I.priorityLevel;var l=a(I.expirationTime<=r);r=exports.unstable_now(),"function"==typeof l?I.callback=l:I===h(g)&&k(g),L(r)}else k(g);I=h(g)}if(null!==I)var i=!0;else{var s=h(P);null!==s&&t(q,s.startTime-r),i=!1}return i}finally{I=null,M=o,C=!1}}var Y=r;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_continueExecution=function(){j||C||(j=!0,e(R))},exports.unstable_getCurrentPriorityLevel=function(){return M},exports.unstable_getFirstCallbackNode=function(){return h(g)},exports.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=Y,exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},exports.unstable_scheduleCallback=function(r,o,a){var l=exports.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:F++,callback:o,priorityLevel:r,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(r.sortIndex=a,_(P,r),null===h(g)&&r===h(P)&&(A?n():A=!0,t(q,a-l))):(r.sortIndex=i,_(g,r),j||C||(j=!0,e(R))),r},exports.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}};
},{}],"MDSO":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/scheduler.production.min.js");
},{"./cjs/scheduler.production.min.js":"IvPb"}],"i17t":[function(require,module,exports) {
"use strict";var e=require("react"),t=require("object-assign"),n=require("scheduler");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(r(227));var l=new Set,a={};function o(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c=Object.prototype.hasOwnProperty,f={},d={};function p(e){return!!c.call(d,e)||!c.call(f,e)&&(s.test(e)?d[e]=!0:(f[e]=!0,!1))}function h(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function m(e,t,n,r){if(null==t||h(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function g(e,t,n,r,l,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var l=v.hasOwnProperty(t)?v[t]:null;(null!==l?0===l.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(m(t,n,l,r)&&(n=null),r||null===l?p(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,r=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,x=60107,C=60108,_=60114,N=60109,P=60110,z=60112,L=60113,T=60120,M=60115,O=60116,R=60121,D=60128,F=60129,I=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),E=V("react.portal"),x=V("react.fragment"),C=V("react.strict_mode"),_=V("react.profiler"),N=V("react.provider"),P=V("react.context"),z=V("react.forward_ref"),L=V("react.suspense"),T=V("react.suspense_list"),M=V("react.memo"),O=V("react.lazy"),R=V("react.block"),V("react.scope"),D=V("react.opaque.id"),F=V("react.debug_trace_mode"),I=V("react.offscreen"),U=V("react.legacy_hidden")}var A,B="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function Q(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var H=!1;function j(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var r=i}Reflect.construct(e,[],t)}else{try{t.call()}catch(i){r=i}e.call(t.prototype)}else{try{throw Error()}catch(i){r=i}e()}}catch(i){if(i&&r&&"string"==typeof i.stack){for(var l=i.stack.split("\n"),a=r.stack.split("\n"),o=l.length-1,u=a.length-1;1<=o&&0<=u&&l[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(l[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||l[o]!==a[u])return"\n"+l[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function $(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 22:return e=j(e.type._render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return q(e.type);case R:return q(e._render);case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function G(e){e._valueTracker||(e._valueTracker=X(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}function ue(e,n){return e=t({children:void 0},n),(n=oe(n.children))&&(e.children=n),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function se(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function fe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==pe.svg||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),l=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}Object.keys(be).forEach(function(e){we.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var Ee=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Pe=null,ze=null;function Le(e){if(e=Sl(e)){if("function"!=typeof Ne)throw Error(r(280));var t=e.stateNode;t&&(t=xl(t),Ne(e.stateNode,e.type,t))}}function Te(e){Pe?ze?ze.push(e):ze=[e]:Pe=e}function Me(){if(Pe){var e=Pe,t=ze;if(ze=Pe=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,l){return e(t,n,r,l)}function De(){}var Fe=Oe,Ie=!1,Ue=!1;function Ve(){null===Pe&&null===ze||(De(),Me())}function Ae(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Fe(e,t,n)}finally{Ue=!1,Ve()}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var l=xl(n);if(null===l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var We=!1;if(i)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(Fs){We=!1}function He(e,t,n,r,l,a,o,u,i){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(c){this.onError(c)}}var je=!1,$e=null,qe=!1,Ke=null,Ye={onError:function(e){je=!0,$e=e}};function Xe(e,t,n,r,l,a,o,u,i){je=!1,$e=null,He.apply(Ye,arguments)}function Ge(e,t,n,l,a,o,u,i,s){if(Xe.apply(this,arguments),je){if(!je)throw Error(r(198));var c=$e;je=!1,$e=null,qe||(qe=!0,Ke=c)}}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function et(e){if(Ze(e)!==e)throw Error(r(188))}function tt(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(l=a.return)){n=l;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return et(a),e;if(o===l)return et(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=o;else{for(var u=!1,i=a.child;i;){if(i===n){u=!0,n=a,l=o;break}if(i===l){u=!0,l=a,n=o;break}i=i.sibling}if(!u){for(i=o.child;i;){if(i===n){u=!0,n=o,l=a;break}if(i===l){u=!0,l=o,n=a;break}i=i.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function nt(e){if(!(e=tt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var lt,at,ot,ut,it=!1,st=[],ct=null,ft=null,dt=null,pt=new Map,ht=new Map,mt=[],gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vt(e,t,n,r,l){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:l,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function bt(e,t,n,r,l,a){return null===e||e.nativeEvent!==a?(e=vt(t,n,r,l,a),null!==t&&(null!==(t=Sl(t))&&at(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function wt(e,t,n,r,l){switch(t){case"focusin":return ct=bt(ct,e,t,n,r,l),!0;case"dragenter":return ft=bt(ft,e,t,n,r,l),!0;case"mouseover":return dt=bt(dt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return pt.set(a,bt(pt.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,ht.set(a,bt(ht.get(a)||null,e,t,n,r,l)),!0}return!1}function kt(e){var t=kl(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Je(r)))return e.blockedOn=t,void ut(e.lanePriority,function(){n.unstable_runWithPriority(e.priority,function(){ot(r)})})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function St(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Sl(n))&&at(t),e.blockedOn=n,!1;t.shift()}return!0}function Et(e,t,n){St(e)&&n.delete(t)}function xt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=Sl(e.blockedOn))&&lt(e);break}for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ct&&St(ct)&&(ct=null),null!==ft&&St(ft)&&(ft=null),null!==dt&&St(dt)&&(dt=null),pt.forEach(Et),ht.forEach(Et)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xt)))}function _t(e){function t(t){return Ct(t,e)}if(0<st.length){Ct(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Ct(ct,e),null!==ft&&Ct(ft,e),null!==dt&&Ct(dt,e),pt.forEach(t),ht.forEach(t),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)kt(n),null===n.blockedOn&&mt.shift()}function Nt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pt={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},zt={},Lt={};function Tt(e){if(zt[e])return zt[e];if(!Pt[e])return e;var t,n=Pt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lt)return zt[e]=n[t];return e}i&&(Lt=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Mt=Tt("animationend"),Ot=Tt("animationiteration"),Rt=Tt("animationstart"),Dt=Tt("transitionend"),Ft=new Map,It=new Map,Ut=["abort","abort",Mt,"animationEnd",Ot,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],l=e[n+1];l="on"+(l[0].toUpperCase()+l.slice(1)),It.set(r,t),Ft.set(r,l),o(l,[r])}}var At=n.unstable_now;At();var Bt=8;function Wt(e){if(0!=(1&e))return Bt=15,1;if(0!=(2&e))return Bt=14,2;if(0!=(4&e))return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):0!=(32&e)?(Bt=11,32):0!==(t=192&e)?(Bt=10,t):0!=(256&e)?(Bt=9,256):0!==(t=3584&e)?(Bt=8,t):0!=(4096&e)?(Bt=7,4096):0!==(t=4186112&e)?(Bt=6,t):0!==(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):0!=(134217728&e)?(Bt=3,134217728):0!==(t=805306368&e)?(Bt=2,t):0!=(1073741824&e)?(Bt=1,1073741824):(Bt=8,e)}function Qt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ht(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,e))}}function jt(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var r=0,l=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,l=Bt=15;else if(0!==(a=134217727&n)){var i=a&~o;0!==i?(r=Wt(i),l=Bt):0!==(u&=a)&&(r=Wt(u),l=Bt)}else 0!==(a=n&~o)?(r=Wt(a),l=Bt):0!==u&&(r=Wt(u),l=Bt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Wt(t),l<=Bt)return t;Bt=l}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)l=1<<(n=31-Gt(t)),r|=e[n],t&=~l;return r}function $t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Kt(24&~t))?qt(10,t):e;case 10:return 0===(e=Kt(192&~t))?qt(8,t):e;case 8:return 0===(e=Kt(3584&~t))&&(0===(e=Kt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Kt(805306368&~t))&&(t=268435456),t}throw Error(r(358,e))}function Kt(e){return e&-e}function Yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:en,Zt=Math.log,Jt=Math.LN2;function en(e){return 0===e?32:31-(Zt(e)/Jt|0)|0}var tn=n.unstable_UserBlockingPriority,nn=n.unstable_runWithPriority,rn=!0;function ln(e,t,n,r){Ie||De();var l=on,a=Ie;Ie=!0;try{Re(l,e,t,n,r)}finally{(Ie=a)||Ve()}}function an(e,t,n,r){nn(tn,on.bind(null,e,t,n,r))}function on(e,t,n,r){var l;if(rn)if((l=0==(4&t))&&0<st.length&&-1<gt.indexOf(e))e=vt(null,e,t,n,r),st.push(e);else{var a=un(e,t,n,r);if(null===a)l&&yt(e,r);else{if(l){if(-1<gt.indexOf(e))return e=vt(a,e,t,n,r),void st.push(e);if(wt(a,e,t,n,r))return;yt(e,r)}Jr(e,t,r,null,n)}}}function un(e,t,n,r){var l=_e(r);if(null!==(l=kl(l))){var a=Ze(l);if(null===a)l=null;else{var o=a.tag;if(13===o){if(null!==(l=Je(a)))return l;l=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;l=null}else a!==l&&(l=null)}}return Jr(e,t,r,l,n),null}var sn=null,cn=null,fn=null;function dn(){if(fn)return fn;var e,t,n=cn,r=n.length,l="value"in sn?sn.value:sn.textContent,a=l.length;for(e=0;e<r&&n[e]===l[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===l[a-t];t++);return fn=l.slice(e,1<t?1-t:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function mn(){return!1}function gn(e){function n(t,n,r,l,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(l):l[o]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?hn:mn,this.isPropagationStopped=mn,this}return t(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),n}var vn,yn,bn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=gn(wn),Sn=t({},wn,{view:0,detail:0}),En=gn(Sn),xn=t({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(vn=e.screenX-bn.screenX,yn=e.screenY-bn.screenY):yn=vn=0,bn=e),vn)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),Cn=gn(xn),_n=t({},xn,{dataTransfer:0}),Nn=gn(_n),Pn=t({},Sn,{relatedTarget:0}),zn=gn(Pn),Ln=t({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tn=gn(Ln),Mn=t({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=gn(Mn),Rn=t({},wn,{data:0}),Dn=gn(Rn),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function An(){return Vn}var Bn=t({},Sn,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=pn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?pn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wn=gn(Bn),Qn=t({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hn=gn(Qn),jn=t({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An}),$n=gn(jn),qn=t({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kn=gn(qn),Yn=t({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=gn(Yn),Gn=[9,13,27,32],Zn=i&&"CompositionEvent"in window,Jn=null;i&&"documentMode"in document&&(Jn=document.documentMode);var er=i&&"TextEvent"in window&&!Jn,tr=i&&(!Zn||Jn&&8<Jn&&11>=Jn),nr=String.fromCharCode(32),rr=!1;function lr(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;function ur(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,nr);case"textInput":return(e=t.data)===nr&&rr?null:e;default:return null}}function ir(e,t){if(or)return"compositionend"===e||!Zn&&lr(e,t)?(e=dn(),fn=cn=sn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tr&&"ko"!==t.locale?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}function fr(e,t,n,r){Te(r),0<(t=tl(t,"onChange")).length&&(n=new kn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,pr=null;function hr(e){qr(e,0)}function mr(e){if(Z(El(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;if(i){var yr;if(i){var br="oninput"in document;if(!br){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),br="function"==typeof wr.oninput}yr=br}else yr=!1;vr=yr&&(!document.documentMode||9<document.documentMode)}function kr(){dr&&(dr.detachEvent("onpropertychange",Sr),pr=dr=null)}function Sr(e){if("value"===e.propertyName&&mr(pr)){var t=[];if(fr(t,pr,e,_e(e)),e=hr,Ie)e(t);else{Ie=!0;try{Oe(e,t)}finally{Ie=!1,Ve()}}}}function Er(e,t,n){"focusin"===e?(kr(),pr=n,(dr=t).attachEvent("onpropertychange",Sr)):"focusout"===e&&kr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function Cr(e,t){if("click"===e)return mr(t)}function _r(e,t){if("input"===e||"change"===e)return mr(t)}function Nr(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Pr="function"==typeof Object.is?Object.is:Nr,zr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Pr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}function Tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mr(e,t){var n,r=Tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tr(r)}}function Or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Rr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Fr=i&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ur=null,Vr=null,Ar=!1;function Br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==Ir||Ir!==J(r)||("selectionStart"in(r=Ir)&&Dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Vr&&Lr(Vr,r)||(Vr=r,0<(r=tl(Ur,"onSelect")).length&&(t=new kn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qr=0;Qr<Wr.length;Qr++)It.set(Wr[Qr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ge(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],i=u.instance,s=u.currentTarget;if(u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}else for(o=0;o<r.length;o++){if(i=(u=r[o]).instance,s=u.currentTarget,u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}}}if(qe)throw e=Ke,qe=!1,Ke=null,e}function Kr(e,t){var n=Cl(t),r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){e[Yr]||(e[Yr]=!0,l.forEach(function(t){jr.has(t)||Gr(t,!1,e,null),Gr(t,!0,e,null)}))}function Gr(e,t,n,r){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;l|=2,a=r}var o=Cl(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(l|=4),Zr(a,e,l,t),o.add(u))}function Zr(e,t,n,r){var l=It.get(t);switch(void 0===l?2:l){case 0:l=ln;break;case 1:l=an;break;default:l=on}n=l.bind(null,t,n,e),l=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),r?void 0!==l?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):void 0!==l?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jr(e,t,n,r,l){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===l||8===u.nodeType&&u.parentNode===l)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&((i=o.stateNode.containerInfo)===l||8===i.nodeType&&i.parentNode===l))return;o=o.return}for(;null!==u;){if(null===(o=kl(u)))return;if(5===(i=o.tag)||6===i){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae(function(){var r=a,l=_e(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var i=kn,s=e;switch(e){case"keypress":if(0===pn(n))break e;case"keydown":case"keyup":i=Wn;break;case"focusin":s="focus",i=zn;break;case"focusout":s="blur",i=zn;break;case"beforeblur":case"afterblur":i=zn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=$n;break;case Mt:case Ot:case Rt:i=Tn;break;case Dt:i=Kn;break;case"scroll":i=En;break;case"wheel":i=Xn;break;case"copy":case"cut":case"paste":i=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Hn}var c=0!=(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Be(h,d))&&c.push(el(h,m,p)))),f)break;h=h.return}0<c.length&&(u=new i(u,s,null,n,l),o.push({event:u,listeners:c}))}}if(0==(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(s=n.relatedTarget||n.fromElement)||!kl(s)&&!s[bl])&&(i||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,i?(i=r,null!==(s=(s=n.relatedTarget||n.toElement)?kl(s):null)&&(s!==(f=Ze(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(i=null,s=r),i!==s)){if(c=Cn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Hn,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==i?u:El(i),p=null==s?u:El(s),(u=new c(m,h+"leave",i,n,l)).target=f,u.relatedTarget=p,m=null,kl(l)===r&&((c=new c(d,h+"enter",s,n,l)).target=p,c.relatedTarget=f,m=c),f=m,i&&s)e:{for(d=s,h=0,p=c=i;p;p=nl(p))h++;for(p=0,m=d;m;m=nl(m))p++;for(;0<h-p;)c=nl(c),h--;for(;0<p-h;)d=nl(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=nl(c),d=nl(d)}c=null}else c=null;null!==i&&rl(o,u,i,c,!1),null!==s&&null!==f&&rl(o,f,s,c,!0)}if("select"===(i=(u=r?El(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===i&&"file"===u.type)var g=gr;else if(cr(u))if(vr)g=_r;else{g=xr;var v=Er}else(i=u.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=Cr);switch(g&&(g=g(e,r))?fr(o,g,n,l):(v&&v(e,u,r),"focusout"===e&&(v=u._wrapperState)&&v.controlled&&"number"===u.type&&ae(u,"number",u.value)),v=r?El(r):window,e){case"focusin":(cr(v)||"true"===v.contentEditable)&&(Ir=v,Ur=r,Vr=null);break;case"focusout":Vr=Ur=Ir=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,Br(o,n,l);break;case"selectionchange":if(Fr)break;case"keydown":case"keyup":Br(o,n,l)}var y;if(Zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else or?lr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(tr&&"ko"!==n.locale&&(or||"onCompositionStart"!==b?"onCompositionEnd"===b&&or&&(y=dn()):(cn="value"in(sn=l)?sn.value:sn.textContent,or=!0)),0<(v=tl(r,b)).length&&(b=new Dn(b,e,null,n,l),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=ar(n))&&(b.data=y))),(y=er?ur(e,n):ir(e,n))&&(0<(r=tl(r,"onBeforeInput")).length&&(l=new Dn("onBeforeInput","beforeinput",null,n,l),o.push({event:l,listeners:r}),l.data=y))}qr(o,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tl(e,t){for(var n=t+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;5===l.tag&&null!==a&&(l=a,null!=(a=Be(e,n))&&r.unshift(el(e,a,l)),null!=(a=Be(e,t))&&r.push(el(e,a,l))),e=e.return}return r}function nl(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function rl(e,t,n,r,l){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,i=u.alternate,s=u.stateNode;if(null!==i&&i===r)break;5===u.tag&&null!==s&&(u=s,l?null!=(i=Be(n,a))&&o.unshift(el(n,i,u)):l||null!=(i=Be(n,a))&&o.push(el(n,i,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function ll(){}var al=null,ol=null;function ul(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function il(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sl="function"==typeof setTimeout?setTimeout:void 0,cl="function"==typeof clearTimeout?clearTimeout:void 0;function fl(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function dl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function pl(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hl=0;function ml(e){return{$$typeof:D,toString:e,valueOf:e}}var gl=Math.random().toString(36).slice(2),vl="__reactFiber$"+gl,yl="__reactProps$"+gl,bl="__reactContainer$"+gl,wl="__reactEvents$"+gl;function kl(e){var t=e[vl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bl]||n[vl]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pl(e);null!==e;){if(n=e[vl])return n;e=pl(e)}return t}n=(e=n).parentNode}return null}function Sl(e){return!(e=e[vl]||e[bl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function El(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xl(e){return e[yl]||null}function Cl(e){var t=e[wl];return void 0===t&&(t=e[wl]=new Set),t}var _l=[],Nl=-1;function Pl(e){return{current:e}}function zl(e){0>Nl||(e.current=_l[Nl],_l[Nl]=null,Nl--)}function Ll(e,t){_l[++Nl]=e.current,e.current=t}var Tl={},Ml=Pl(Tl),Ol=Pl(!1),Rl=Tl;function Dl(e,t){var n=e.type.contextTypes;if(!n)return Tl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in n)a[l]=t[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fl(e){return null!=(e=e.childContextTypes)}function Il(){zl(Ol),zl(Ml)}function Ul(e,t,n){if(Ml.current!==Tl)throw Error(r(168));Ll(Ml,t),Ll(Ol,n)}function Vl(e,n,l){var a=e.stateNode;if(e=n.childContextTypes,"function"!=typeof a.getChildContext)return l;for(var o in a=a.getChildContext())if(!(o in e))throw Error(r(108,q(n)||"Unknown",o));return t({},l,a)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tl,Rl=Ml.current,Ll(Ml,e),Ll(Ol,Ol.current),!0}function Bl(e,t,n){var l=e.stateNode;if(!l)throw Error(r(169));n?(e=Vl(e,t,Rl),l.__reactInternalMemoizedMergedChildContext=e,zl(Ol),zl(Ml),Ll(Ml,e)):zl(Ol),Ll(Ol,n)}var Wl=null,Ql=null,Hl=n.unstable_runWithPriority,jl=n.unstable_scheduleCallback,$l=n.unstable_cancelCallback,ql=n.unstable_shouldYield,Kl=n.unstable_requestPaint,Yl=n.unstable_now,Xl=n.unstable_getCurrentPriorityLevel,Gl=n.unstable_ImmediatePriority,Zl=n.unstable_UserBlockingPriority,Jl=n.unstable_NormalPriority,ea=n.unstable_LowPriority,ta=n.unstable_IdlePriority,na={},ra=void 0!==Kl?Kl:function(){},la=null,aa=null,oa=!1,ua=Yl(),ia=1e4>ua?Yl:function(){return Yl()-ua};function sa(){switch(Xl()){case Gl:return 99;case Zl:return 98;case Jl:return 97;case ea:return 96;case ta:return 95;default:throw Error(r(332))}}function ca(e){switch(e){case 99:return Gl;case 98:return Zl;case 97:return Jl;case 96:return ea;case 95:return ta;default:throw Error(r(332))}}function fa(e,t){return e=ca(e),Hl(e,t)}function da(e,t,n){return e=ca(e),jl(e,t,n)}function pa(){if(null!==aa){var e=aa;aa=null,$l(e)}ha()}function ha(){if(!oa&&null!==la){oa=!0;var e=0;try{var t=la;fa(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),la=null}catch(n){throw null!==la&&(la=la.slice(e+1)),jl(Gl,pa),n}finally{oa=!1}}}var ma=k.ReactCurrentBatchConfig;function ga(e,n){if(e&&e.defaultProps){for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}return n}var va=Pl(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function Sa(e){var t=va.current;zl(va),e.type._context._currentValue=t}function Ea(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function xa(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(nu=!0),e.firstContext=null)}function Ca(e,t){if(wa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ba){if(null===ya)throw Error(r(308));ba=t,ya.dependencies={lanes:0,firstContext:t,responders:null}}else ba=ba.next=t;return e._currentValue}var _a=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var l=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?l=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?l=a=t:a=a.next=t}else l=a=t;return n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,n,r,l){var a=e.updateQueue;_a=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var s=i,c=s.next;s.next=null,null===u?o=c:u.next=c,u=s;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=s)}}if(null!==o){for(d=a.baseState,u=0,f=c=s=null;;){i=o.lane;var p=o.eventTime;if((l&i)===i){null!==f&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(i=n,p=r,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,i);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(i="function"==typeof(h=m.payload)?h.call(p,d,i):h))break e;d=t({},d,i);break e;case 2:_a=!0}}null!==o.callback&&(e.flags|=32,null===(i=a.effects)?a.effects=[o]:i.push(o))}else p={eventTime:p,lane:i,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=p,s=d):f=f.next=p,u|=i;if(null===(o=o.next)){if(null===(i=a.shared.pending))break;o=i.next,i.next=null,a.lastBaseUpdate=i,a.shared.pending=null}}null===f&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=f,ui|=u,e.lanes=u,e.memoizedState=d}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var l=e[t],a=l.callback;if(null!==a){if(l.callback=null,l=n,"function"!=typeof a)throw Error(r(191,a));a.call(l)}}}var Ra=(new e.Component).refs;function Da(e,n,r,l){r=null==(r=r(l,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Fa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.tag=1,a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mi(),r=Oi(e),l=za(n,r);l.tag=2,null!=t&&(l.callback=t),La(e,l),Ri(e,r,n)}};function Ia(e,t,n,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(l,a))}function Ua(e,t,n){var r=!1,l=Tl,a=t.contextType;return"object"==typeof a&&null!==a?a=Ca(a):(l=Fl(t)?Rl:Ml.current,a=(r=null!=(r=t.contextTypes))?Dl(e,l):Tl),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=Ra,Na(e);var a=t.contextType;"object"==typeof a&&null!==a?l.context=Ca(a):(a=Fl(t)?Rl:Ml.current,l.context=Dl(e,a)),Ma(e,n,l,r),l.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Da(e,t,a,n),l.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(t=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&Fa.enqueueReplaceState(l,l.state,null),Ma(e,n,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}var Ba=Array.isArray;function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var l=n.stateNode}if(!l)throw Error(r(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=l.refs;t===Ra&&(t=l.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Qa(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ha(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=hs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=ys(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=ms(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=bs(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,l){return null===t||7!==t.tag?((t=gs(n,e.mode,r,l)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ys(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=ms(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case E:return(t=bs(t,e.mode,n)).return=e,t}if(Ba(t)||W(t))return(t=gs(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function p(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==l?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===l?n.type===x?f(e,t,n.props.children,r,l):s(e,t,n,r):null;case E:return n.key===l?c(e,t,n,r):null}if(Ba(n)||W(n))return null!==l?null:f(e,t,n,r,null);Qa(e,n)}return null}function h(e,t,n,r,l){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,l,r.key):s(t,e,r,l);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,l)}if(Ba(r)||W(r))return f(t,e=e.get(n)||null,r,l,null);Qa(t,r)}return null}function m(r,a,u,i){for(var s=null,c=null,f=a,m=a=0,g=null;null!==f&&m<u.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(r,f,u[m],i);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),a=o(v,a,m),null===c?s=v:c.sibling=v,c=v,f=g}if(m===u.length)return n(r,f),s;if(null===f){for(;m<u.length;m++)null!==(f=d(r,u[m],i))&&(a=o(f,a,m),null===c?s=f:c.sibling=f,c=f);return s}for(f=l(r,f);m<u.length;m++)null!==(g=h(f,r,m,u[m],i))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(r,e)}),s}function g(a,u,i,s){var c=W(i);if("function"!=typeof c)throw Error(r(150));if(null==(i=c.call(i)))throw Error(r(151));for(var f=c=null,m=u,g=u=0,v=null,y=i.next();null!==m&&!y.done;g++,y=i.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,s);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),u=o(b,u,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(a,m),c;if(null===m){for(;!y.done;g++,y=i.next())null!==(y=d(a,y.value,s))&&(u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=l(a,m);!y.done;g++,y=i.next())null!==(y=h(m,a,g,y.value,s))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,l,o,i){var s="object"==typeof o&&null!==o&&o.type===x&&null===o.key;s&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,s=l;null!==s;){if(s.key===c){switch(s.tag){case 7:if(o.type===x){n(e,s.sibling),(l=a(s,o.props.children)).return=e,e=l;break e}break;default:if(s.elementType===o.type){n(e,s.sibling),(l=a(s,o.props)).ref=Wa(e,s,o),l.return=e,e=l;break e}}n(e,s);break}t(e,s),s=s.sibling}o.type===x?((l=gs(o.props.children,e.mode,i,o.key)).return=e,e=l):((i=ms(o.type,o.key,o.props,null,e.mode,i)).ref=Wa(e,l,o),i.return=e,e=i)}return u(e);case E:e:{for(s=o.key;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling),(l=a(l,o.children||[])).return=e,e=l;break e}n(e,l);break}t(e,l),l=l.sibling}(l=bs(o,e.mode,i)).return=e,e=l}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==l&&6===l.tag?(n(e,l.sibling),(l=a(l,o)).return=e,e=l):(n(e,l),(l=ys(o,e.mode,i)).return=e,e=l),u(e);if(Ba(o))return m(e,l,o,i);if(W(o))return g(e,l,o,i);if(c&&Qa(e,o),void 0===o&&!s)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,q(e.type)||"Component"))}return n(e,l)}}var ja=Ha(!0),$a=Ha(!1),qa={},Ka=Pl(qa),Ya=Pl(qa),Xa=Pl(qa);function Ga(e){if(e===qa)throw Error(r(174));return e}function Za(e,t){switch(Ll(Xa,t),Ll(Ya,e),Ll(Ka,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zl(Ka),Ll(Ka,t)}function Ja(){zl(Ka),zl(Ya),zl(Xa)}function eo(e){Ga(Xa.current);var t=Ga(Ka.current),n=me(t,e.type);t!==n&&(Ll(Ya,e),Ll(Ka,n))}function to(e){Ya.current===e&&(zl(Ka),zl(Ya))}var no=Pl(0);function ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=null,ao=null,oo=!1;function uo(e,t){var n=fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function so(e){if(oo){var t=ao;if(t){var n=t;if(!io(e,t)){if(!(t=dl(n.nextSibling))||!io(e,t))return e.flags=-1025&e.flags|2,oo=!1,void(lo=e);uo(lo,n)}lo=e,ao=dl(t.firstChild)}else e.flags=-1025&e.flags|2,oo=!1,lo=e}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;lo=e}function fo(e){if(e!==lo)return!1;if(!oo)return co(e),oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!il(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=dl(t.nextSibling);if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=dl(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=lo?dl(e.stateNode.nextSibling):null;return!0}function po(){ao=lo=null,oo=!1}var ho=[];function mo(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var go=k.ReactCurrentDispatcher,vo=k.ReactCurrentBatchConfig,yo=0,bo=null,wo=null,ko=null,So=!1,Eo=!1;function xo(){throw Error(r(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function _o(e,t,n,l,a,o){if(yo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?Zo:Jo,e=n(l,a),Eo){o=0;do{if(Eo=!1,!(25>o))throw Error(r(301));o+=1,ko=wo=null,t.updateQueue=null,go.current=eu,e=n(l,a)}while(Eo)}if(go.current=Go,t=null!==wo&&null!==wo.next,yo=0,ko=wo=bo=null,So=!1,t)throw Error(r(300));return e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?bo.memoizedState=ko=e:ko=ko.next=e,ko}function Po(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===ko?bo.memoizedState:ko.next;if(null!==t)ko=t,wo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===ko?bo.memoizedState=ko=e:ko=ko.next=e}return ko}function zo(e,t){return"function"==typeof t?t(e):t}function Lo(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=wo,a=l.baseQueue,o=n.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}l.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,l=l.baseState;var i=u=o=null,s=a;do{var c=s.lane;if((yo&c)===c)null!==i&&(i=i.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),l=s.eagerReducer===e?s.eagerState:e(l,s.action);else{var f={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===i?(u=i=f,o=l):i=i.next=f,bo.lanes|=c,ui|=c}s=s.next}while(null!==s&&s!==a);null===i?o=l:i.next=u,Pr(l,t.memoizedState)||(nu=!0),t.memoizedState=l,t.baseState=o,t.baseQueue=i,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function To(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{o=e(o,u.action),u=u.next}while(u!==a);Pr(o,t.memoizedState)||(nu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Mo(e,t,n){var l=t._getVersion;l=l(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===l:(e=e.mutableReadLanes,(e=(yo&e)===e)&&(t._workInProgressVersionPrimary=l,ho.push(t))),e)return n(t._source);throw ho.push(t),Error(r(350))}function Oo(e,t,n,l){var a=Ju;if(null===a)throw Error(r(349));var o=t._getVersion,u=o(t._source),i=go.current,s=i.useState(function(){return Mo(a,t,n)}),c=s[1],f=s[0];s=ko;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,m=d.source;d=d.subscribe;var g=bo;return e.memoizedState={refs:p,source:t,subscribe:l},i.useEffect(function(){p.getSnapshot=n,p.setSnapshot=c;var e=o(t._source);if(!Pr(u,e)){e=n(t._source),Pr(f,e)||(c(e),e=Oi(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,l=e;0<l;){var i=31-Gt(l),s=1<<i;r[i]|=e,l&=~s}}},[n,t,l]),i.useEffect(function(){return l(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=Oi(g);a.mutableReadLanes|=r&a.pendingLanes}catch(l){n(function(){throw l})}})},[t,l]),Pr(h,n)&&Pr(m,t)&&Pr(d,l)||((e={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:f}).dispatch=c=Xo.bind(null,bo,e),s.queue=e,s.baseQueue=null,f=Mo(a,t,n),s.memoizedState=s.baseState=f),f}function Ro(e,t,n){return Oo(Po(),e,t,n)}function Do(e){var t=No();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e}).dispatch=Xo.bind(null,bo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=bo.updateQueue)?(t={lastEffect:null},bo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(e){return e={current:e},No().memoizedState=e}function Uo(){return Po().memoizedState}function Vo(e,t,n,r){var l=No();bo.flags|=e,l.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var l=Po();r=void 0===r?null:r;var a=void 0;if(null!==wo){var o=wo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void Fo(t,n,a,r)}bo.flags|=e,l.memoizedState=Fo(1|t,n,a,r)}function Bo(e,t){return Vo(516,4,e,t)}function Wo(e,t){return Ao(516,4,e,t)}function Qo(e,t){return Ao(4,2,e,t)}function Ho(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!=n?n.concat([e]):null,Ao(4,2,Ho.bind(null,t,e),n)}function $o(){}function qo(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t){var n=sa();fa(98>n?98:n,function(){e(!0)}),fa(97<n?97:n,function(){var n=vo.transition;vo.transition=1;try{e(!1),t()}finally{vo.transition=n}})}function Xo(e,t,n){var r=Mi(),l=Oi(e),a={lane:l,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===bo||null!==o&&o===bo)Eo=So=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,i=o(u,n);if(a.eagerReducer=o,a.eagerState=i,Pr(i,u))return}catch(s){}Ri(e,l,r)}}var Go={readContext:Ca,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useOpaqueIdentifier:xo,unstable_isNewReconciler:!1},Zo={readContext:Ca,useCallback:function(e,t){return No().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vo(4,2,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=No();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=No();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Xo.bind(null,bo,e),[r.memoizedState,e]},useRef:Io,useState:Do,useDebugValue:$o,useDeferredValue:function(e){var t=Do(e),n=t[0],r=t[1];return Bo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Do(!1),t=e[0];return Io(e=Yo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=No();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Oo(r,e,t,n)},useOpaqueIdentifier:function(){if(oo){var e=!1,t=ml(function(){throw e||(e=!0,n("r:"+(hl++).toString(36))),Error(r(355))}),n=Do(t)[1];return 0==(2&bo.mode)&&(bo.flags|=516,Fo(5,function(){n("r:"+(hl++).toString(36))},void 0,null)),t}return Do(t="r:"+(hl++).toString(36)),t},unstable_isNewReconciler:!1},Jo={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:Lo,useRef:Uo,useState:function(){return Lo(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=Lo(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Lo(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return Lo(zo)[0]},unstable_isNewReconciler:!1},eu={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:To,useRef:Uo,useState:function(){return To(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=To(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=To(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return To(zo)[0]},unstable_isNewReconciler:!1},tu=k.ReactCurrentOwner,nu=!1;function ru(e,t,n,r){t.child=null===e?$a(t,null,n,r):ja(t,e.child,n,r)}function lu(e,t,n,r,l){n=n.render;var a=t.ref;return xa(t,l),r=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,r,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function au(e,t,n,r,l,a){if(null===e){var o=n.type;return"function"!=typeof o||ds(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ms(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ou(e,t,o,r,l,a))}return o=e.child,0==(l&a)&&(l=o.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(l,r)&&e.ref===t.ref)?Cu(e,t,a):(t.flags|=1,(e=hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function ou(e,t,n,r,l,a){if(null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref){if(nu=!1,0==(a&l))return t.lanes=e.lanes,Cu(e,t,a);0!=(16384&e.flags)&&(nu=!0)}return su(e,t,n,r,a)}function uu(e,t,n){var r=t.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Qi(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qi(t,e),null;t.memoizedState={baseLanes:0},Qi(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Qi(t,r);return ru(e,t,l,n),t.child}function iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function su(e,t,n,r,l){var a=Fl(n)?Rl:Ml.current;return a=Dl(t,a),xa(t,l),n=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function cu(e,t,n,r,l){if(Fl(n)){var a=!0;Al(t)}else a=!1;if(xa(t,l),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ua(t,n,r),Aa(t,n,r,l),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var i=o.context,s=n.contextType;"object"==typeof s&&null!==s?s=Ca(s):s=Dl(t,s=Fl(n)?Rl:Ml.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||i!==s)&&Va(t,o,r,s),_a=!1;var d=t.memoizedState;o.state=d,Ma(t,r,o,l),i=t.memoizedState,u!==r||d!==i||Ol.current||_a?("function"==typeof c&&(Da(t,n,c,r),i=t.memoizedState),(u=_a||Ia(t,n,u,r,d,i,s))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=i),o.props=r,o.state=i,o.context=s,r=u):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,s=t.type===t.elementType?u:ga(t.type,u),o.props=s,f=t.pendingProps,d=o.context,"object"==typeof(i=n.contextType)&&null!==i?i=Ca(i):i=Dl(t,i=Fl(n)?Rl:Ml.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==f||d!==i)&&Va(t,o,r,i),_a=!1,d=t.memoizedState,o.state=d,Ma(t,r,o,l);var h=t.memoizedState;u!==f||d!==h||Ol.current||_a?("function"==typeof p&&(Da(t,n,p,r),h=t.memoizedState),(s=_a||Ia(t,n,s,r,d,h,i))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,i),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,i)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=i,r=s):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return fu(e,t,n,r,a,l)}function fu(e,t,n,r,l,a){iu(e,t);var o=0!=(64&t.flags);if(!r&&!o)return l&&Bl(t,n,!1),Cu(e,t,a);r=t.stateNode,tu.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,u,a)):ru(e,t,u,a),t.memoizedState=r.state,l&&Bl(t,n,!0),t.child}function du(e){var t=e.stateNode;t.pendingContext?Ul(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ul(e,t.context,!1),Za(e,t.containerInfo)}var pu,hu,mu,gu,vu={dehydrated:null,retryLane:0};function yu(e,t,n){var r,l=t.pendingProps,a=no.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),Ll(no,1&a),null===e?(void 0!==l.fallback&&so(t),e=l.children,a=l.fallback,o?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,e):"number"==typeof l.unstable_expectedLoadTime?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,t.lanes=33554432,e):((n=vs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(l=ku(e,t,l.children,l.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=vu,l):(n=wu(e,t,l.children,n),t.memoizedState=null,n))}function bu(e,t,n,r){var l=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&l)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=vs(t,l,0,null),n=gs(n,l,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function wu(e,t,n,r){var l=e.child;return e=l.sibling,n=hs(l,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ku(e,t,n,r,l){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=hs(o,u),null!==e?r=hs(e,r):(r=gs(r,a,l,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Su(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t)}function Eu(e,t,n,r,l,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l,o.lastEffect=a)}function xu(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ru(e,t,r.children,n),0!=(2&(r=no.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Su(e,n);else if(19===e.tag)Su(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ll(no,r),0==(2&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===ro(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Eu(t,!1,l,n,a,t.lastEffect);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===ro(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Eu(t,!0,n,null,a,t.lastEffect);break;case"together":Eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Cu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ui|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function _u(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nu(e,n,l){var o=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fl(n.type)&&Il(),null;case 3:return Ja(),zl(Ol),zl(Ml),mo(),(o=n.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(fo(n)?n.flags|=4:o.hydrate||(n.flags|=256)),hu(n),null;case 5:to(n);var u=Ga(Xa.current);if(l=n.type,null!==e&&null!=n.stateNode)mu(e,n,l,o,u),e.ref!==n.ref&&(n.flags|=128);else{if(!o){if(null===n.stateNode)throw Error(r(166));return null}if(e=Ga(Ka.current),fo(n)){o=n.stateNode,l=n.type;var i=n.memoizedProps;switch(o[vl]=n,o[yl]=i,l){case"dialog":Kr("cancel",o),Kr("close",o);break;case"iframe":case"object":case"embed":Kr("load",o);break;case"video":case"audio":for(e=0;e<Hr.length;e++)Kr(Hr[e],o);break;case"source":Kr("error",o);break;case"img":case"image":case"link":Kr("error",o),Kr("load",o);break;case"details":Kr("toggle",o);break;case"input":te(o,i),Kr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",o);break;case"textarea":ce(o,i),Kr("invalid",o)}for(var s in xe(l,i),e=null,i)i.hasOwnProperty(s)&&(u=i[s],"children"===s?"string"==typeof u?o.textContent!==u&&(e=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(e=["children",""+u]):a.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Kr("scroll",o));switch(l){case"input":G(o),le(o,i,!0);break;case"textarea":G(o),de(o);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(o.onclick=ll)}o=e,n.updateQueue=o,null!==o&&(n.flags|=4)}else{switch(s=9===u.nodeType?u:u.ownerDocument,e===pe.html&&(e=he(l)),e===pe.html?"script"===l?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=s.createElement(l,{is:o.is}):(e=s.createElement(l),"select"===l&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,l),e[vl]=n,e[yl]=o,pu(e,n,!1,!1),n.stateNode=e,s=Ce(l,o),l){case"dialog":Kr("cancel",e),Kr("close",e),u=o;break;case"iframe":case"object":case"embed":Kr("load",e),u=o;break;case"video":case"audio":for(u=0;u<Hr.length;u++)Kr(Hr[u],e);u=o;break;case"source":Kr("error",e),u=o;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),u=o;break;case"details":Kr("toggle",e),u=o;break;case"input":te(e,o),u=ee(e,o),Kr("invalid",e);break;case"option":u=ue(e,o);break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=t({},o,{value:void 0}),Kr("invalid",e);break;case"textarea":ce(e,o),u=se(e,o),Kr("invalid",e);break;default:u=o}xe(l,u);var c=u;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];"style"===i?Se(e,f):"dangerouslySetInnerHTML"===i?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===i?"string"==typeof f?("textarea"!==l||""!==f)&&ye(e,f):"number"==typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=f&&"onScroll"===i&&Kr("scroll",e):null!=f&&w(e,i,f,s))}switch(l){case"input":G(e),le(e,o,!1);break;case"textarea":G(e),de(e);break;case"option":null!=o.value&&e.setAttribute("value",""+K(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ie(e,!!o.multiple,i,!1):null!=o.defaultValue&&ie(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=ll)}ul(l,o)&&(n.flags|=4)}null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)gu(e,n,e.memoizedProps,o);else{if("string"!=typeof o&&null===n.stateNode)throw Error(r(166));l=Ga(Xa.current),Ga(Ka.current),fo(n)?(o=n.stateNode,l=n.memoizedProps,o[vl]=n,o.nodeValue!==l&&(n.flags|=4)):((o=(9===l.nodeType?l:l.ownerDocument).createTextNode(o))[vl]=n,n.stateNode=o)}return null;case 13:return zl(no),o=n.memoizedState,0!=(64&n.flags)?(n.lanes=l,n):(o=null!==o,l=!1,null===e?void 0!==n.memoizedProps.fallback&&fo(n):l=null!==e.memoizedState,o&&!l&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&no.current)?0===li&&(li=3):(0!==li&&3!==li||(li=4),null===Ju||0==(134217727&ui)&&0==(134217727&ii)||Ui(Ju,ti))),(o||l)&&(n.flags|=4),null);case 4:return Ja(),hu(n),null===e&&Xr(n.stateNode.containerInfo),null;case 10:return Sa(n),null;case 17:return Fl(n.type)&&Il(),null;case 19:if(zl(no),null===(o=n.memoizedState))return null;if(i=0!=(64&n.flags),null===(s=o.rendering))if(i)_u(o,!1);else{if(0!==li||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(s=ro(e))){for(n.flags|=64,_u(o,!1),null!==(i=s.updateQueue)&&(n.updateQueue=i,n.flags|=4),null===o.lastEffect&&(n.firstEffect=null),n.lastEffect=o.lastEffect,o=l,l=n.child;null!==l;)e=o,(i=l).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Ll(no,1&no.current|2),n.child}e=e.sibling}null!==o.tail&&ia()>di&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432)}else{if(!i)if(null!==(e=ro(s))){if(n.flags|=64,i=!0,null!==(l=e.updateQueue)&&(n.updateQueue=l,n.flags|=4),_u(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!oo)return null!==(n=n.lastEffect=o.lastEffect)&&(n.nextEffect=null),null}else 2*ia()-o.renderingStartTime>di&&1073741824!==l&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432);o.isBackwards?(s.sibling=n.child,n.child=s):(null!==(l=o.last)?l.sibling=s:n.child=s,o.last=s)}return null!==o.tail?(l=o.tail,o.rendering=l,o.tail=l.sibling,o.lastEffect=n.lastEffect,o.renderingStartTime=ia(),l.sibling=null,n=no.current,Ll(no,i?1&n|2:1&n),l):null;case 23:case 24:return Hi(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==o.mode&&(n.flags|=4),null}throw Error(r(156,n.tag))}function Pu(e){switch(e.tag){case 1:Fl(e.type)&&Il();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ja(),zl(Ol),zl(Ml),mo(),0!=(64&(t=e.flags)))throw Error(r(285));return e.flags=-4097&t|64,e;case 5:return to(e),null;case 13:return zl(no),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return zl(no),null;case 4:return Ja(),null;case 10:return Sa(e),null;case 23:case 24:return Hi(),null;default:return null}}function zu(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var l=n}catch(a){l="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:l}}function Lu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},hu=function(){},mu=function(e,n,r,l){var o=e.memoizedProps;if(o!==l){e=n.stateNode,Ga(Ka.current);var u,i=null;switch(r){case"input":o=ee(e,o),l=ee(e,l),i=[];break;case"option":o=ue(e,o),l=ue(e,l),i=[];break;case"select":o=t({},o,{value:void 0}),l=t({},l,{value:void 0}),i=[];break;case"textarea":o=se(e,o),l=se(e,l),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof l.onClick&&(e.onclick=ll)}for(f in xe(r,l),r=null,o)if(!l.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var s=o[f];for(u in s)s.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(a.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in l){var c=l[f];if(s=null!=o?o[f]:void 0,l.hasOwnProperty(f)&&c!==s&&(null!=c||null!=s))if("style"===f)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(r||(r={}),r[u]=c[u])}else r||(i||(i=[]),i.push(f,r)),r=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(a.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Kr("scroll",e),i||s===c||(i=[])):"object"==typeof c&&null!==c&&c.$$typeof===D?c.toString():(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(n.updateQueue=f)&&(n.flags|=4)}},gu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Tu="function"==typeof WeakMap?WeakMap:Map;function Mu(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gi||(gi=!0,vi=r),Lu(e,t)},n}function Ou(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=t.value;n.payload=function(){return Lu(e,t),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===yi?yi=new Set([this]):yi.add(this),Lu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ru="function"==typeof WeakSet?WeakSet:Set;function Du(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){us(e,n)}else t.current=null}function Fu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,l=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ga(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&fl(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Iu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var l=e.create;e.destroy=l()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;l=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(ls(n,e),rs(n,e)),e=l}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(l=n.elementType===n.type?t.memoizedProps:ga(n.type,t.memoizedProps),e.componentDidUpdate(l,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Oa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Oa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ul(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Uu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var l=n.memoizedProps.style;l=null!=l&&l.hasOwnProperty("display")?l.display:null,r.style.display=ke("display",l)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Vu(e,t){if(Ql&&"function"==typeof Ql.onCommitFiberUnmount)try{Ql.onCommitFiberUnmount(Wl,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,l=r.destroy;if(r=r.tag,void 0!==l)if(0!=(4&r))ls(t,n);else{r=t;try{l()}catch(a){us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(Du(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){us(t,a)}break;case 5:Du(t);break;case 4:ju(e,t)}}function Au(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Bu(e){return 5===e.tag||3===e.tag||4===e.tag}function Wu(e){e:{for(var t=e.return;null!==t;){if(Bu(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:case 4:t=t.containerInfo,l=!0;break;default:throw Error(r(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}l?Qu(e,n,t):Hu(e,n,t)}function Qu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ll));else if(4!==r&&null!==(e=e.child))for(Qu(e,t,n),e=e.sibling;null!==e;)Qu(e,t,n),e=e.sibling}function Hu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Hu(e,t,n),e=e.sibling;null!==e;)Hu(e,t,n),e=e.sibling}function ju(e,t){for(var n,l,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(n=o.stateNode,o.tag){case 5:l=!1;break e;case 3:case 4:n=n.containerInfo,l=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,i=a,s=i;;)if(Vu(u,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break e;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l?(u=n,i=a.stateNode,8===u.nodeType?u.parentNode.removeChild(i):u.removeChild(i)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,l=!0,a.child.return=a,a=a.child;continue}}else if(Vu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function $u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var l=n=n.next;do{3==(3&l.tag)&&(e=l.destroy,l.destroy=void 0,void 0!==e&&e()),l=l.next}while(l!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){l=t.memoizedProps;var a=null!==e?e.memoizedProps:l;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[yl]=l,"input"===e&&"radio"===l.type&&null!=l.name&&ne(n,l),Ce(e,a),t=Ce(e,l),a=0;a<o.length;a+=2){var u=o[a],i=o[a+1];"style"===u?Se(n,i):"dangerouslySetInnerHTML"===u?ve(n,i):"children"===u?ye(n,i):w(n,u,i,t)}switch(e){case"input":re(n,l);break;case"textarea":fe(n,l);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,null!=(o=l.value)?ie(n,!!l.multiple,o,!1):e!==!!l.multiple&&(null!=l.defaultValue?ie(n,!!l.multiple,l.defaultValue,!0):ie(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(fi=ia(),Uu(t.child,!0)),void qu(t);case 19:return void qu(t);case 17:return;case 23:case 24:return void Uu(t,null!==t.memoizedState)}throw Error(r(163))}function qu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ru),t.forEach(function(t){var r=ss.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ku(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Yu=Math.ceil,Xu=k.ReactCurrentDispatcher,Gu=k.ReactCurrentOwner,Zu=0,Ju=null,ei=null,ti=0,ni=0,ri=Pl(0),li=0,ai=null,oi=0,ui=0,ii=0,si=0,ci=null,fi=0,di=1/0;function pi(){di=ia()+500}var hi,mi=null,gi=!1,vi=null,yi=null,bi=!1,wi=null,ki=90,Si=[],Ei=[],xi=null,Ci=0,_i=null,Ni=-1,Pi=0,zi=0,Li=null,Ti=!1;function Mi(){return 0!=(48&Zu)?ia():-1!==Ni?Ni:Ni=ia()}function Oi(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===sa()?1:2;if(0===Pi&&(Pi=oi),0!==ma.transition){0!==zi&&(zi=null!==ci?ci.pendingLanes:0),e=Pi;var t=4186112&~zi;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=sa(),0!=(4&Zu)&&98===e?e=qt(12,Pi):e=qt(e=Qt(e),Pi),e}function Ri(e,t,n){if(50<Ci)throw Ci=0,_i=null,Error(r(185));if(null===(e=Di(e,t)))return null;Xt(e,t,n),e===Ju&&(ii|=t,4===li&&Ui(e,ti));var l=sa();1===t?0!=(8&Zu)&&0==(48&Zu)?Vi(e):(Fi(e,n),0===Zu&&(pi(),pa())):(0==(4&Zu)||98!==l&&99!==l||(null===xi?xi=new Set([e]):xi.add(e)),Fi(e,n)),ci=e}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Fi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Gt(o),i=1<<u,s=a[u];if(-1===s){if(0==(i&r)||0!=(i&l)){s=t,Wt(i);var c=Bt;a[u]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=t&&(e.expiredLanes|=i);o&=~i}if(r=jt(e,e===Ju?ti:0),t=Bt,0===r)null!==n&&(n!==na&&$l(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==na&&$l(n)}15===t?(n=Vi.bind(null,e),null===la?(la=[n],aa=jl(Gl,ha)):la.push(n),n=na):14===t?n=da(99,Vi.bind(null,e)):n=da(n=Ht(t),Ii.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Ii(e){if(Ni=-1,zi=Pi=0,0!=(48&Zu))throw Error(r(327));var t=e.callbackNode;if(ns()&&e.callbackNode!==t)return null;var n=jt(e,e===Ju?ti:0);if(0===n)return null;var l=n,a=Zu;Zu|=16;var o=qi();for(Ju===e&&ti===l||(pi(),ji(e,l));;)try{Xi();break}catch(i){$i(e,i)}if(ka(),Xu.current=o,Zu=a,null!==ei?l=0:(Ju=null,ti=0,l=li),0!=(oi&ii))ji(e,0);else if(0!==l){if(2===l&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(n=$t(e))&&(l=Ki(e,n))),1===l)throw t=ai,ji(e,0),Ui(e,n),Fi(e,ia()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,l){case 0:case 1:throw Error(r(345));case 2:Ji(e);break;case 3:if(Ui(e,n),(62914560&n)===n&&10<(l=fi+500-ia())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Mi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sl(Ji.bind(null,e),l);break}Ji(e);break;case 4:if(Ui(e,n),(4186112&n)===n)break;for(l=e.eventTimes,a=-1;0<n;){var u=31-Gt(n);o=1<<u,(u=l[u])>a&&(a=u),n&=~o}if(n=a,10<(n=(120>(n=ia()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yu(n/1960))-n)){e.timeoutHandle=sl(Ji.bind(null,e),n);break}Ji(e);break;case 5:Ji(e);break;default:throw Error(r(329))}}return Fi(e,ia()),e.callbackNode===t?Ii.bind(null,e):null}function Ui(e,t){for(t&=~si,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Vi(e){if(0!=(48&Zu))throw Error(r(327));if(ns(),e===Ju&&0!=(e.expiredLanes&ti)){var t=ti,n=Ki(e,t);0!=(oi&ii)&&(n=Ki(e,t=jt(e,t)))}else n=Ki(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(t=$t(e))&&(n=Ki(e,t))),1===n)throw n=ai,ji(e,0),Ui(e,t),Fi(e,ia()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e),Fi(e,ia()),null}function Ai(){if(null!==xi){var e=xi;xi=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Fi(e,ia())})}pa()}function Bi(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Wi(e,t){var n=Zu;Zu&=-2,Zu|=8;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Qi(e,t){Ll(ri,ni),ni|=t,oi|=t}function Hi(){ni=ri.current,zl(ri)}function ji(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,cl(n)),null!==ei)for(n=ei.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Il();break;case 3:Ja(),zl(Ol),zl(Ml),mo();break;case 5:to(r);break;case 4:Ja();break;case 13:case 19:zl(no);break;case 10:Sa(r);break;case 23:case 24:Hi()}n=n.return}Ju=e,ei=hs(e.current,null),ti=ni=oi=t,li=0,ai=null,si=ii=ui=0}function $i(e,t){for(;;){var n=ei;try{if(ka(),go.current=Go,So){for(var r=bo.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}So=!1}if(yo=0,ko=wo=bo=null,Eo=!1,Gu.current=null,null===n||null===n.return){li=1,ai=t,ei=null;break}e:{var a=e,o=n.return,u=n,i=t;if(t=ti,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var s=i;if(0==(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&no.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(p){var g=d.updateQueue;if(null===g){var v=new Set;v.add(s),d.updateQueue=v}else g.add(s);if(0==(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=za(-1,1);y.tag=2,La(u,y)}u.lanes|=1;break e}i=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new Tu,i=new Set,b.set(s,i)):void 0===(i=b.get(s))&&(i=new Set,b.set(s,i)),!i.has(u)){i.add(u);var w=is.bind(null,a,s,u);s.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);i=Error((q(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==li&&(li=2),i=zu(i,u),d=o;do{switch(d.tag){case 3:a=i,d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Mu(d,a,t));break e;case 1:a=i;var k=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof k.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===yi||!yi.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Ou(d,a,t));break e}}d=d.return}while(null!==d)}Zi(n)}catch(E){t=E,ei===n&&null!==n&&(ei=n=n.return);continue}break}}function qi(){var e=Xu.current;return Xu.current=Go,null===e?Go:e}function Ki(e,t){var n=Zu;Zu|=16;var l=qi();for(Ju===e&&ti===t||ji(e,t);;)try{Yi();break}catch(a){$i(e,a)}if(ka(),Zu=n,Xu.current=l,null!==ei)throw Error(r(261));return Ju=null,ti=0,li}function Yi(){for(;null!==ei;)Gi(ei)}function Xi(){for(;null!==ei&&!ql();)Gi(ei)}function Gi(e){var t=hi(e.alternate,e,ni);e.memoizedProps=e.pendingProps,null===t?Zi(e):ei=t,Gu.current=null}function Zi(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Nu(n,t,ni)))return void(ei=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ni)||0==(4&n.mode)){for(var r=0,l=n.child;null!==l;)r|=l.lanes|l.childLanes,l=l.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Pu(t)))return n.flags&=2047,void(ei=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ei=t);ei=t=e}while(null!==t);0===li&&(li=5)}function Ji(e){var t=sa();return fa(99,es.bind(null,e,t)),null}function es(e,t){do{ns()}while(null!==wi);if(0!=(48&Zu))throw Error(r(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null;var l=n.lanes|n.childLanes,a=l,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,i=e.expirationTimes;0<o;){var s=31-Gt(o),c=1<<s;a[s]=0,u[s]=-1,i[s]=-1,o&=~c}if(null!==xi&&0==(24&l)&&xi.has(e)&&xi.delete(e),e===Ju&&(ei=Ju=null,ti=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,l=n.firstEffect):l=n:l=n.firstEffect,null!==l){if(a=Zu,Zu|=32,Gu.current=null,al=rn,Dr(u=Rr())){if("selectionStart"in u)i={start:u.selectionStart,end:u.selectionEnd};else e:if(i=(i=u.ownerDocument)&&i.defaultView||window,(c=i.getSelection&&i.getSelection())&&0!==c.rangeCount){i=c.anchorNode,o=c.anchorOffset,s=c.focusNode,c=c.focusOffset;try{i.nodeType,s.nodeType}catch(_){i=null;break e}var f=0,d=-1,p=-1,h=0,m=0,g=u,v=null;t:for(;;){for(var y;g!==i||0!==o&&3!==g.nodeType||(d=f+o),g!==s||0!==c&&3!==g.nodeType||(p=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===u)break t;if(v===i&&++h===o&&(d=f),v===s&&++m===c&&(p=f),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}i=-1===d||-1===p?null:{start:d,end:p}}else i=null;i=i||{start:0,end:0}}else i=null;ol={focusedElem:u,selectionRange:i},rn=!1,Li=null,Ti=!1,mi=l;do{try{ts()}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);Li=null,mi=l;do{try{for(u=e;null!==mi;){var b=mi.flags;if(16&b&&ye(mi.stateNode,""),128&b){var w=mi.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&b){case 2:Wu(mi),mi.flags&=-3;break;case 6:Wu(mi),mi.flags&=-3,$u(mi.alternate,mi);break;case 1024:mi.flags&=-1025;break;case 1028:mi.flags&=-1025,$u(mi.alternate,mi);break;case 4:$u(mi.alternate,mi);break;case 8:ju(u,i=mi);var S=i.alternate;Au(i),null!==S&&Au(S)}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);if(k=ol,w=Rr(),b=k.focusedElem,u=k.selectionRange,w!==b&&b&&b.ownerDocument&&Or(b.ownerDocument.documentElement,b)){null!==u&&Dr(b)&&(w=u.start,void 0===(k=u.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),i=b.textContent.length,S=Math.min(u.start,i),u=void 0===u.end?S:Math.min(u.end,i),!k.extend&&S>u&&(i=u,u=S,S=i),i=Mr(b,S),o=Mr(b,u),i&&o&&(1!==k.rangeCount||k.anchorNode!==i.node||k.anchorOffset!==i.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((w=w.createRange()).setStart(i.node,i.offset),k.removeAllRanges(),S>u?(k.addRange(w),k.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}rn=!!al,ol=al=null,e.current=n,mi=l;do{try{for(b=e;null!==mi;){var E=mi.flags;if(36&E&&Iu(b,mi.alternate,mi),128&E){w=void 0;var x=mi.ref;if(null!==x){var C=mi.stateNode;switch(mi.tag){case 5:w=C;break;default:w=C}"function"==typeof x?x(w):x.current=w}}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);mi=null,ra(),Zu=a}else e.current=n;if(bi)bi=!1,wi=e,ki=t;else for(mi=l;null!==mi;)t=mi.nextEffect,mi.nextEffect=null,8&mi.flags&&((E=mi).sibling=null,E.stateNode=null),mi=t;if(0===(l=e.pendingLanes)&&(yi=null),1===l?e===_i?Ci++:(Ci=0,_i=e):Ci=0,n=n.stateNode,Ql&&"function"==typeof Ql.onCommitFiberRoot)try{Ql.onCommitFiberRoot(Wl,n,void 0,64==(64&n.current.flags))}catch(_){}if(Fi(e,ia()),gi)throw gi=!1,e=vi,vi=null,e;return 0!=(8&Zu)?null:(pa(),null)}function ts(){for(;null!==mi;){var e=mi.alternate;Ti||null===Li||(0!=(8&mi.flags)?rt(mi,Li)&&(Ti=!0):13===mi.tag&&Ku(e,mi)&&rt(mi,Li)&&(Ti=!0));var t=mi.flags;0!=(256&t)&&Fu(e,mi),0==(512&t)||bi||(bi=!0,da(97,function(){return ns(),null})),mi=mi.nextEffect}}function ns(){if(90!==ki){var e=97<ki?97:ki;return ki=90,fa(e,as)}return!1}function rs(e,t){Si.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function ls(e,t){Ei.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function as(){if(null===wi)return!1;var e=wi;if(wi=null,0!=(48&Zu))throw Error(r(331));var t=Zu;Zu|=32;var n=Ei;Ei=[];for(var l=0;l<n.length;l+=2){var a=n[l],o=n[l+1],u=a.destroy;if(a.destroy=void 0,"function"==typeof u)try{u()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(n=Si,Si=[],l=0;l<n.length;l+=2){a=n[l],o=n[l+1];try{var i=a.create;a.destroy=i()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(i=e.current.firstEffect;null!==i;)e=i.nextEffect,i.nextEffect=null,8&i.flags&&(i.sibling=null,i.stateNode=null),i=e;return Zu=t,pa(),!0}function os(e,t,n){La(e,t=Mu(e,t=zu(n,t),1)),t=Mi(),null!==(e=Di(e,1))&&(Xt(e,1,t),Fi(e,t))}function us(e,t){if(3===e.tag)os(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){os(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r))){var l=Ou(n,e=zu(t,e),1);if(La(n,l),l=Mi(),null!==(n=Di(n,1)))Xt(n,1,l),Fi(n,l);else if("function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Mi(),e.pingedLanes|=e.suspendedLanes&n,Ju===e&&(ti&n)===n&&(4===li||3===li&&(62914560&ti)===ti&&500>ia()-fi?ji(e,0):si|=n),Fi(e,t)}function ss(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===sa()?1:2:(0===Pi&&(Pi=oi),0===(t=Kt(62914560&~Pi))&&(t=4194304))),n=Mi(),null!==(e=Di(e,t))&&(Xt(e,t,n),Fi(e,n))}function cs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,n,r){return new cs(e,t,n,r)}function ds(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ps(e){if("function"==typeof e)return ds(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===M)return 14}return 2}function hs(e,t){var n=e.alternate;return null===n?((n=fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,l,a,o){var u=2;if(l=e,"function"==typeof e)ds(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case x:return gs(n.children,a,o,t);case F:u=8,a|=16;break;case C:u=8,a|=1;break;case _:return(e=fs(12,n,t,8|a)).elementType=_,e.type=_,e.lanes=o,e;case L:return(e=fs(13,n,t,a)).type=L,e.elementType=L,e.lanes=o,e;case T:return(e=fs(19,n,t,a)).elementType=T,e.lanes=o,e;case I:return vs(n,a,o,t);case U:return(e=fs(24,n,t,a)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:u=10;break e;case P:u=9;break e;case z:u=11;break e;case M:u=14;break e;case O:u=16,l=null;break e;case R:u=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=fs(u,n,t,a)).elementType=e,t.type=l,t.lanes=o,t}function gs(e,t,n,r){return(e=fs(7,e,r,t)).lanes=n,e}function vs(e,t,n,r){return(e=fs(23,e,r,t)).elementType=I,e.lanes=n,e}function ys(e,t,n){return(e=fs(6,e,null,t)).lanes=n,e}function bs(e,t,n){return(t=fs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ws(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.mutableSourceEagerHydrationData=null}function ks(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ss(e,t,n,l){var a=t.current,o=Mi(),u=Oi(a);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(Fl(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(null!==i);throw Error(r(171))}if(1===n.tag){var s=n.type;if(Fl(s)){n=Vl(n,s,i);break e}}n=i}else n=Tl;return null===t.context?t.context=n:t.pendingContext=n,(t=za(o,u)).payload={element:e},null!==(l=void 0===l?null:l)&&(t.callback=l),La(a,t),Ri(a,u,o),u}function Es(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cs(e,t){xs(e,t),(e=e.alternate)&&xs(e,t)}function _s(){return null}function Ns(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ws(e,t,null!=n&&!0===n.hydrate),t=fs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Na(t),e[bl]=n.current,Xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var l=(t=r[e])._getVersion;l=l(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,l]:n.mutableSourceEagerHydrationData.push(t,l)}this._internalRoot=n}function Ps(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zs(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ns(e,0,t?{hydrate:!0}:void 0)}function Ls(e,t,n,r,l){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof l){var u=l;l=function(){var e=Es(o);u.call(e)}}Ss(t,o,e,l)}else{if(a=n._reactRootContainer=zs(n,r),o=a._internalRoot,"function"==typeof l){var i=l;l=function(){var e=Es(o);i.call(e)}}Wi(function(){Ss(t,o,e,l)})}return Es(o)}function Ts(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ps(t))throw Error(r(200));return ks(e,t,null,n)}hi=function(e,t,n){var l=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ol.current)nu=!0;else{if(0==(n&l)){switch(nu=!1,t.tag){case 3:du(t),po();break;case 5:eo(t);break;case 1:Fl(t.type)&&Al(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:l=t.memoizedProps.value;var a=t.type._context;Ll(va,a._currentValue),a._currentValue=l;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?yu(e,t,n):(Ll(no,1&no.current),null!==(t=Cu(e,t,n))?t.sibling:null);Ll(no,1&no.current);break;case 19:if(l=0!=(n&t.childLanes),0!=(64&e.flags)){if(l)return xu(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ll(no,no.current),l)break;return null;case 23:case 24:return t.lanes=0,uu(e,t,n)}return Cu(e,t,n)}nu=0!=(16384&e.flags)}else nu=!1;switch(t.lanes=0,t.tag){case 2:if(l=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=Dl(t,Ml.current),xa(t,n),a=_o(null,t,l,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fl(l)){var o=!0;Al(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Na(t);var u=l.getDerivedStateFromProps;"function"==typeof u&&Da(t,l,u,e),a.updater=Fa,t.stateNode=a,a._reactInternals=t,Aa(t,l,e,n),t=fu(null,t,l,!0,o,n)}else t.tag=0,ru(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=ps(a),e=ga(a,e),o){case 0:t=su(null,t,a,e,n);break e;case 1:t=cu(null,t,a,e,n);break e;case 11:t=lu(null,t,a,e,n);break e;case 14:t=au(null,t,a,ga(a.type,e),l,n);break e}throw Error(r(306,a,""))}return t;case 0:return l=t.type,a=t.pendingProps,su(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 1:return l=t.type,a=t.pendingProps,cu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 3:if(du(t),l=t.updateQueue,null===e||null===l)throw Error(r(282));if(l=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,Pa(e,t),Ma(t,l,null,n),(l=t.memoizedState.element)===a)po(),t=Cu(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(ao=dl(t.stateNode.containerInfo.firstChild),lo=t,o=oo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],ho.push(o);for(n=$a(t,null,l,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ru(e,t,l,n),po();t=t.child}return t;case 5:return eo(t),null===e&&so(t),l=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,il(l,a)?u=null:null!==o&&il(l,o)&&(t.flags|=16),iu(e,t),ru(e,t,u,n),t.child;case 6:return null===e&&so(t),null;case 13:return yu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=ja(t,null,l,n):ru(e,t,l,n),t.child;case 11:return l=t.type,a=t.pendingProps,lu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 7:return ru(e,t,t.pendingProps,n),t.child;case 8:case 12:return ru(e,t,t.pendingProps.children,n),t.child;case 10:e:{l=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value;var i=t.type._context;if(Ll(va,i._currentValue),i._currentValue=o,null!==u)if(i=u.value,0===(o=Pr(i,o)?0:0|("function"==typeof l._calculateChangedBits?l._calculateChangedBits(i,o):1073741823))){if(u.children===a.children&&!Ol.current){t=Cu(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){u=i.child;for(var c=s.firstContext;null!==c;){if(c.context===l&&0!=(c.observedBits&o)){1===i.tag&&((c=za(-1,n&-n)).tag=2,La(i,c)),i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n),s.lanes|=n;break}c=c.next}}else u=10===i.tag&&i.type===t.type?null:i.child;if(null!==u)u.return=i;else for(u=i;null!==u;){if(u===t){u=null;break}if(null!==(i=u.sibling)){i.return=u.return,u=i;break}u=u.return}i=u}ru(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,l=(o=t.pendingProps).children,xa(t,n),l=l(a=Ca(a,o.unstable_observedBits)),t.flags|=1,ru(e,t,l,n),t.child;case 14:return o=ga(a=t.type,t.pendingProps),au(e,t,a,o=ga(a.type,o),l,n);case 15:return ou(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:ga(l,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fl(l)?(e=!0,Al(t)):e=!1,xa(t,n),Ua(t,l,a),Aa(t,l,a,n),fu(null,t,l,!0,e,n);case 19:return xu(e,t,n);case 23:case 24:return uu(e,t,n)}throw Error(r(156,t.tag))},Ns.prototype.render=function(e){Ss(e,this._internalRoot,null,null)},Ns.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ss(null,e,null,function(){t[bl]=null})},lt=function(e){13===e.tag&&(Ri(e,4,Mi()),Cs(e,4))},at=function(e){13===e.tag&&(Ri(e,67108864,Mi()),Cs(e,67108864))},ot=function(e){if(13===e.tag){var t=Mi(),n=Oi(e);Ri(e,n,t),Cs(e,n)}},ut=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=xl(l);if(!a)throw Error(r(90));Z(l),re(l,a)}}}break;case"textarea":fe(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Oe=Bi,Re=function(e,t,n,r,l){var a=Zu;Zu|=4;try{return fa(98,e.bind(null,t,n,r,l))}finally{0===(Zu=a)&&(pi(),pa())}},De=function(){0==(49&Zu)&&(Ai(),ns())},Fe=function(e,t){var n=Zu;Zu|=2;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}};var Ms={Events:[Sl,El,xl,Te,Me,ns,{current:!1}]},Os={findFiberByHostInstance:kl,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Rs={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||_s,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Wl=Ds.inject(Rs),Ql=Ds}catch(Fs){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ms,exports.createPortal=Ts,exports.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},exports.flushSync=function(e,t){var n=Zu;if(0!=(48&n))return e(t);Zu|=1;try{if(e)return fa(99,e.bind(null,t))}finally{Zu=n,pa()}},exports.hydrate=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!0,n)},exports.render=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!1,n)},exports.unmountComponentAtNode=function(e){if(!Ps(e))throw Error(r(40));return!!e._reactRootContainer&&(Wi(function(){Ls(null,null,e,!1,function(){e._reactRootContainer=null,e[bl]=null})}),!0)},exports.unstable_batchedUpdates=Bi,exports.unstable_createPortal=function(e,t){return Ts(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},exports.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Ps(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Ls(e,t,n,!1,l)},exports.version="17.0.1";
},{"react":"n8MK","object-assign":"J4Nk","scheduler":"MDSO"}],"NKHc":[function(require,module,exports) {
"use strict";function _(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(O){console.error(O)}}}_(),module.exports=require("./cjs/react-dom.production.min.js");
},{"./cjs/react-dom.production.min.js":"i17t"}],"tC0Y":[function(require,module,exports) {

},{}],"F7UB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("react"));function t(e){return e&&e.__esModule?e:{default:e}}require("./Idea.less");var a=function(t){var a=t.idea,n=t.onDelete;return e.default.createElement("div",{className:"app__content__idea"},e.default.createElement("p",{className:"app__content__idea__text"},a.content),e.default.createElement("button",{type:"button",className:"app__btn app__content__idea__btn",id:a.id,onClick:n},"–"))},n=a;exports.default=n;
},{"react":"n8MK","./Idea.less":"tC0Y"}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=i,exports.__awaiter=u,exports.__generator=c,exports.__createBinding=f,exports.__exportStar=l,exports.__values=s,exports.__read=p,exports.__spread=y,exports.__spreadArrays=_,exports.__await=h,exports.__asyncGenerator=v,exports.__asyncDelegator=d,exports.__asyncValues=b,exports.__makeTemplateObject=w,exports.__importStar=x,exports.__importDefault=m,exports.__classPrivateFieldGet=O,exports.__classPrivateFieldSet=g,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function a(t,e){return function(r,n){e(r,n,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(e){a(e)}}function u(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function l(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)n[o]=a[i];return n}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||u(t,e)})})}function u(t,e){try{(r=o[t](e)).value instanceof h?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){u("next",t)}function f(t){u("throw",t)}function l(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function d(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:h(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof s?s(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function g(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}exports.__assign=r;
},{}],"KxmD":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.areCookiesEnabled=w,exports.async=X,exports.calculateBackoffMillis=hr,exports.contains=F,exports.createSubscribe=G,exports.deepCopy=u,exports.deepExtend=f,exports.errorPrefix=Z,exports.getUA=l,exports.isBrowser=_,exports.isBrowserExtension=y,exports.isElectron=E,exports.isEmpty=z,exports.isIE=g,exports.isIndexedDBAvailable=O,exports.isMobileCordova=v,exports.isNode=b,exports.isNodeSdk=S,exports.isReactNative=x,exports.isSafari=m,exports.isUWP=A,exports.jsonEval=j,exports.map=U,exports.ordinal=ur,exports.querystring=H,exports.querystringDecode=q,exports.safeGet=W,exports.stringify=k,exports.validateCallback=tr,exports.validateContextObject=er,exports.validateIndexedDBOpenable=C,exports.validateNamespace=rr,exports.validateArgCount=exports.stringToByteArray=exports.stringLength=exports.issuedAtTime=exports.isValidTimestamp=exports.isValidFormat=exports.isAdmin=exports.decode=exports.base64Encode=exports.base64Decode=exports.base64=exports.assertionError=exports.assert=exports.Sha1=exports.RANDOM_FACTOR=exports.MAX_VALUE_MILLIS=exports.FirebaseError=exports.ErrorFactory=exports.Deferred=exports.CONSTANTS=void 0;var t=require("tslib"),e={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};exports.CONSTANTS=e;var o=function(r,t){if(!r)throw n(t)};exports.assert=o;var n=function(r){return new Error("Firebase Database ("+e.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};exports.assertionError=n;var i=function(r){for(var t=[],e=0,o=0;o<r.length;o++){var n=r.charCodeAt(o);n<128?t[e++]=n:n<2048?(t[e++]=n>>6|192,t[e++]=63&n|128):55296==(64512&n)&&o+1<r.length&&56320==(64512&r.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&r.charCodeAt(++o)),t[e++]=n>>18|240,t[e++]=n>>12&63|128,t[e++]=n>>6&63|128,t[e++]=63&n|128):(t[e++]=n>>12|224,t[e++]=n>>6&63|128,t[e++]=63&n|128)}return t},s=function(r){for(var t=[],e=0,o=0;e<r.length;){var n=r[e++];if(n<128)t[o++]=String.fromCharCode(n);else if(n>191&&n<224){var i=r[e++];t[o++]=String.fromCharCode((31&n)<<6|63&i)}else if(n>239&&n<365){var s=((7&n)<<18|(63&(i=r[e++]))<<12|(63&(a=r[e++]))<<6|63&r[e++])-65536;t[o++]=String.fromCharCode(55296+(s>>10)),t[o++]=String.fromCharCode(56320+(1023&s))}else{i=r[e++];var a=r[e++];t[o++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[],n=0;n<r.length;n+=3){var i=r[n],s=n+1<r.length,a=s?r[n+1]:0,c=n+2<r.length,h=c?r[n+2]:0,u=i>>2,f=(3&i)<<4|a>>4,p=(15&a)<<2|h>>6,d=63&h;c||(d=64,s||(p=64)),o.push(e[u],e[f],e[p],e[d])}return o.join("")},encodeString:function(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(i(r),t)},decodeString:function(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):s(this.decodeStringToByteArray(r,t))},decodeStringToByteArray:function(r,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[],n=0;n<r.length;){var i=e[r.charAt(n++)],s=n<r.length?e[r.charAt(n)]:0,a=++n<r.length?e[r.charAt(n)]:64,c=++n<r.length?e[r.charAt(n)]:64;if(++n,null==i||null==s||null==a||null==c)throw Error();var h=i<<2|s>>4;if(o.push(h),64!==a){var u=s<<4&240|a>>2;if(o.push(u),64!==c){var f=a<<6&192|c;o.push(f)}}}return o},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};exports.base64=a;var c=function(r){var t=i(r);return a.encodeByteArray(t,!0)};exports.base64Encode=c;var h=function(r){try{return a.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(r){return f(void 0,r)}function f(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===r&&(r={});break;case Array:r=[];break;default:return t}for(var e in t)t.hasOwnProperty(e)&&p(e)&&(r[e]=f(r[e],t[e]));return r}function p(r){return"__proto__"!==r}exports.base64Decode=h;var d=function(){function r(){var r=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,e){r.resolve=t,r.reject=e})}return r.prototype.wrapCallback=function(r){var t=this;return function(e,o){e?t.reject(e):t.resolve(o),"function"==typeof r&&(t.promise.catch(function(){}),1===r.length?r(e):r(e,o))}},r}();function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function b(){try{return"[object process]"===Object.prototype.toString.call(r.process)}catch(t){return!1}}function _(){return"object"==typeof self&&self.self===self}function y(){var r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof r&&void 0!==r.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return l().indexOf("Electron/")>=0}function g(){var r=l();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function A(){return l().indexOf("MSAppHost/")>=0}function S(){return!0===e.NODE_CLIENT||!0===e.NODE_ADMIN}function m(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise(function(r,t){try{var e=!0,o="validate-browser-context-for-indexeddb-analytics-module",n=window.indexedDB.open(o);n.onsuccess=function(){n.result.close(),e||window.indexedDB.deleteDatabase(o),r(!0)},n.onupgradeneeded=function(){e=!1},n.onerror=function(){var r;t((null===(r=n.error)||void 0===r?void 0:r.message)||"")}}catch(i){t(i)}})}function w(){return!(!navigator||!navigator.cookieEnabled)}exports.Deferred=d;var D="FirebaseError",T=function(r){function e(t,o,n){var i=r.call(this,o)||this;return i.code=t,i.customData=n,i.name=D,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,N.prototype.create),i}return(0,t.__extends)(e,r),e}(Error);exports.FirebaseError=T;var N=function(){function r(r,t,e){this.service=r,this.serviceName=t,this.errors=e}return r.prototype.create=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var o=t[0]||{},n=this.service+"/"+r,i=this.errors[r],s=i?M(i,o):"Error",a=this.serviceName+": "+s+" ("+n+").";return new T(n,a,o)},r}();function M(r,t){return r.replace(B,function(r,e){var o=t[e];return null!=o?String(o):"<"+e+"?>"})}exports.ErrorFactory=N;var B=/\{\$([^}]+)}/g;function j(r){return JSON.parse(r)}function k(r){return JSON.stringify(r)}var P=function(r){var t={},e={},o={},n="";try{var i=r.split(".");t=j(h(i[0])||""),e=j(h(i[1])||""),n=i[2],o=e.d||{},delete e.d}catch(s){}return{header:t,claims:e,data:o,signature:n}};exports.decode=P;var I=function(r){var t=P(r).claims,e=Math.floor((new Date).getTime()/1e3),o=0,n=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?o=t.nbf:t.hasOwnProperty("iat")&&(o=t.iat),n=t.hasOwnProperty("exp")?t.exp:o+86400),!!e&&!!o&&!!n&&e>=o&&e<=n};exports.isValidTimestamp=I;var L=function(r){var t=P(r).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null};exports.issuedAtTime=L;var V=function(r){var t=P(r).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")};exports.isValidFormat=V;var R=function(r){var t=P(r).claims;return"object"==typeof t&&!0===t.admin};function F(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function W(r,t){return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0}function z(r){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function U(r,t,e){var o={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=t.call(e,r[n],n,r));return o}function H(r){for(var t=[],e=function(r,e){Array.isArray(e)?e.forEach(function(e){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))},o=0,n=Object.entries(r);o<n.length;o++){var i=n[o];e(i[0],i[1])}return t.length?"&"+t.join("&"):""}function q(r){var t={};return r.replace(/^\?/,"").split("&").forEach(function(r){if(r){var e=r.split("=");t[e[0]]=e[1]}}),t}exports.isAdmin=R;var J=function(){function r(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var r=1;r<this.blockSize;++r)this.pad_[r]=0;this.reset()}return r.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},r.prototype.compress_=function(r,t){t||(t=0);var e=this.W_;if("string"==typeof r)for(var o=0;o<16;o++)e[o]=r.charCodeAt(t)<<24|r.charCodeAt(t+1)<<16|r.charCodeAt(t+2)<<8|r.charCodeAt(t+3),t+=4;else for(o=0;o<16;o++)e[o]=r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3],t+=4;for(o=16;o<80;o++){var n=e[o-3]^e[o-8]^e[o-14]^e[o-16];e[o]=4294967295&(n<<1|n>>>31)}var i,s,a=this.chain_[0],c=this.chain_[1],h=this.chain_[2],u=this.chain_[3],f=this.chain_[4];for(o=0;o<80;o++){o<40?o<20?(i=u^c&(h^u),s=1518500249):(i=c^h^u,s=1859775393):o<60?(i=c&h|u&(c|h),s=2400959708):(i=c^h^u,s=3395469782);n=(a<<5|a>>>27)+i+f+s+e[o]&4294967295;f=u,u=h,h=4294967295&(c<<30|c>>>2),c=a,a=n}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},r.prototype.update=function(r,t){if(null!=r){void 0===t&&(t=r.length);for(var e=t-this.blockSize,o=0,n=this.buf_,i=this.inbuf_;o<t;){if(0===i)for(;o<=e;)this.compress_(r,o),o+=this.blockSize;if("string"==typeof r){for(;o<t;)if(n[i]=r.charCodeAt(o),++o,++i===this.blockSize){this.compress_(n),i=0;break}}else for(;o<t;)if(n[i]=r[o],++o,++i===this.blockSize){this.compress_(n),i=0;break}}this.inbuf_=i,this.total_+=t}},r.prototype.digest=function(){var r=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);var o=0;for(e=0;e<5;e++)for(var n=24;n>=0;n-=8)r[o]=this.chain_[e]>>n&255,++o;return r},r}();function G(r,t){var e=new K(r,t);return e.subscribe.bind(e)}exports.Sha1=J;var K=function(){function r(r,t){var e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){r(e)}).catch(function(r){e.error(r)})}return r.prototype.next=function(r){this.forEachObserver(function(t){t.next(r)})},r.prototype.error=function(r){this.forEachObserver(function(t){t.error(r)}),this.close(r)},r.prototype.complete=function(){this.forEachObserver(function(r){r.complete()}),this.close()},r.prototype.subscribe=function(r,t,e){var o,n=this;if(void 0===r&&void 0===t&&void 0===e)throw new Error("Missing Observer.");void 0===(o=$(r,["next","error","complete"])?r:{next:r,error:t,complete:e}).next&&(o.next=Q),void 0===o.error&&(o.error=Q),void 0===o.complete&&(o.complete=Q);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{n.finalError?o.error(n.finalError):o.complete()}catch(r){}}),this.observers.push(o),i},r.prototype.unsubscribeOne=function(r){void 0!==this.observers&&void 0!==this.observers[r]&&(delete this.observers[r],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},r.prototype.forEachObserver=function(r){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,r)},r.prototype.sendOne=function(r,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[r])try{t(e.observers[r])}catch(o){"undefined"!=typeof console&&console.error&&console.error(o)}})},r.prototype.close=function(r){var t=this;this.finalized||(this.finalized=!0,void 0!==r&&(this.finalError=r),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},r}();function X(r,t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];Promise.resolve(!0).then(function(){r.apply(void 0,e)}).catch(function(r){t&&t(r)})}}function $(r,t){if("object"!=typeof r||null===r)return!1;for(var e=0,o=t;e<o.length;e++){var n=o[e];if(n in r&&"function"==typeof r[n])return!0}return!1}function Q(){}var Y=function(r,t,e,o){var n;if(o<t?n="at least "+t:o>e&&(n=0===e?"none":"no more than "+e),n)throw new Error(r+" failed: Was called with "+o+(1===o?" argument.":" arguments.")+" Expects "+n+".")};function Z(r,t,e){var o="";switch(t){case 1:o=e?"first":"First";break;case 2:o=e?"second":"Second";break;case 3:o=e?"third":"Third";break;case 4:o=e?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var n=r+" failed: ";return n+=o+" argument "}function rr(r,t,e,o){if((!o||e)&&"string"!=typeof e)throw new Error(Z(r,t,o)+"must be a valid firebase namespace.")}function tr(r,t,e,o){if((!o||e)&&"function"!=typeof e)throw new Error(Z(r,t,o)+"must be a valid function.")}function er(r,t,e,o){if((!o||e)&&("object"!=typeof e||null===e))throw new Error(Z(r,t,o)+"must be a valid context object.")}exports.validateArgCount=Y;var or=function(r){for(var t=[],e=0,n=0;n<r.length;n++){var i=r.charCodeAt(n);if(i>=55296&&i<=56319){var s=i-55296;o(++n<r.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(r.charCodeAt(n)-56320)}i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):i<65536?(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t};exports.stringToByteArray=or;var nr=function(r){for(var t=0,e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,e++):t+=3}return t};exports.stringLength=nr;var ir=1e3,sr=2,ar=144e5;exports.MAX_VALUE_MILLIS=ar;var cr=.5;function hr(r,t,e){void 0===t&&(t=ir),void 0===e&&(e=sr);var o=t*Math.pow(e,r),n=Math.round(cr*o*(Math.random()-.5)*2);return Math.min(ar,o+n)}function ur(r){return Number.isFinite(r)?r+fr(r):""+r}function fr(r){var t=(r=Math.abs(r))%100;if(t>=10&&t<=20)return"th";var e=r%10;return 1===e?"st":2===e?"nd":3===e?"rd":"th"}exports.RANDOM_FACTOR=cr;
},{"tslib":"vCxL"}],"sLOu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Provider=exports.ComponentContainer=exports.Component=void 0;var t=require("tslib"),e=require("@firebase/util"),n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}();exports.Component=n;var r="[DEFAULT]",i=function(){function n(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return n.prototype.get=function(t){void 0===t&&(t=r);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new e.Deferred;this.instancesDeferred.set(n,i);try{var o=this.getOrInitializeService(n);o&&i.resolve(o)}catch(s){}}return this.instancesDeferred.get(n).promise},n.prototype.getImmediate=function(e){var n=(0,t.__assign)({identifier:r,optional:!1},e),i=n.identifier,o=n.optional,s=this.normalizeInstanceIdentifier(i);try{var a=this.getOrInitializeService(s);if(!a){if(o)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(o)return null;throw c}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,s(e))try{this.getOrInitializeService(r)}catch(l){}try{for(var o=(0,t.__values)(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var c=(0,t.__read)(a.value,2),p=c[0],h=c[1],u=this.normalizeInstanceIdentifier(p);try{var f=this.getOrInitializeService(u);h.resolve(f)}catch(l){}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},n.prototype.clearInstance=function(t){void 0===t&&(t=r),this.instancesDeferred.delete(t),this.instances.delete(t)},n.prototype.delete=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var e;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,t.__spread)(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),e.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return n.sent(),[2]}})})},n.prototype.isComponentSet=function(){return null!=this.component},n.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,o(t)),this.instances.set(t,e)),e||null},n.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:r:t},n}();function o(t){return t===r?void 0:t}function s(t){return"EAGER"===t.instantiationMode}exports.Provider=i;var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new i(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();exports.ComponentContainer=a;
},{"tslib":"vCxL","@firebase/util":"KxmD"}],"TUpU":[function(require,module,exports) {
"use strict";function e(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var l=arguments[t],i=0,s=l.length;i<s;i++,n++)o[n]=l[i];return o}var t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLogLevel=g,exports.setUserLogHandler=u,exports.Logger=exports.LogLevel=void 0;var r,o=[];exports.LogLevel=r,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(exports.LogLevel=r={}));var n={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},l=r.INFO,i=((t={})[r.DEBUG]="log",t[r.VERBOSE]="log",t[r.INFO]="info",t[r.WARN]="warn",t[r.ERROR]="error",t),s=function(t,r){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];if(!(r<t.logLevel)){var l=(new Date).toISOString(),s=i[r];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+r+")");console[s].apply(console,e(["["+l+"]  "+t.name+":"],o))}},a=function(){function t(e){this.name=e,this._logLevel=l,this._logHandler=s,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?n[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,e([this,r.DEBUG],t)),this._logHandler.apply(this,e([this,r.DEBUG],t))},t.prototype.log=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,e([this,r.VERBOSE],t)),this._logHandler.apply(this,e([this,r.VERBOSE],t))},t.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,e([this,r.INFO],t)),this._logHandler.apply(this,e([this,r.INFO],t))},t.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,e([this,r.WARN],t)),this._logHandler.apply(this,e([this,r.WARN],t))},t.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,e([this,r.ERROR],t)),this._logHandler.apply(this,e([this,r.ERROR],t))},t}();function g(e){o.forEach(function(t){t.setLogLevel(e)})}function u(e,t){for(var l=function(o){var l=null;t&&t.level&&(l=n[t.level]),o.userLogHandler=null===e?null:function(t,o){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=n.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");o>=(null!=l?l:t.logLevel)&&e({level:r[o].toLowerCase(),message:s,args:n,type:t.name})}},i=0,s=o;i<s.length;i++){l(s[i])}}exports.Logger=a;
},{}],"VxYX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.firebase=exports.default=void 0;var e,n,r=require("tslib"),t=require("@firebase/util"),i=require("@firebase/component"),a=require("@firebase/logger"),o=((e={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",e["bad-app-name"]="Illegal App name: '{$appName}",e["duplicate-app"]="Firebase App named '{$appName}' already exists",e["app-deleted"]="Firebase App named '{$appName}' already deleted",e["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",e["invalid-log-argument"]="First argument to `onLog` must be null or a function.",e),s=new t.ErrorFactory("app","Firebase",o),p="@firebase/app",l="0.6.13",c="@firebase/analytics",u="@firebase/auth",f="@firebase/database",d="@firebase/functions",m="@firebase/installations",b="@firebase/messaging",h="@firebase/performance",g="@firebase/remote-config",v="@firebase/storage",y="@firebase/firestore",_="firebase-wrapper",w="[DEFAULT]",N=((n={})[p]="fire-core",n[c]="fire-analytics",n[u]="fire-auth",n[f]="fire-rtdb",n[d]="fire-fn",n[m]="fire-iid",n[b]="fire-fcm",n[h]="fire-perf",n[g]="fire-rc",n[v]="fire-gcs",n[y]="fire-fst",n["fire-js"]="fire-js",n[_]="fire-js-all",n),C=new a.Logger("@firebase/app"),I=function(){function e(e,n,a){var o,s,p=this;this.firebase_=a,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=(0,t.deepCopy)(e),this.container=new i.ComponentContainer(n.name),this._addComponent(new i.Component("app",function(){return p},"PUBLIC"));try{for(var l=(0,r.__values)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var u=c.value;this._addComponent(u)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,n){return void 0===n&&(n=w),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(e,n){void 0===n&&(n=w),this.container.getProvider(e).clearInstance(n)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){C.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw s.create("app-deleted",{appName:this.name_})},e}();I.prototype.name&&I.prototype.options||I.prototype.delete||console.log("dc");var E="8.0.1";function A(e){var n={},o=new Map,p={__esModule:!0,initializeApp:function(r,i){void 0===i&&(i={});if("object"!=typeof i||null===i){var a=i;i={name:a}}var o=i;void 0===o.name&&(o.name=w);var l=o.name;if("string"!=typeof l||!l)throw s.create("bad-app-name",{appName:String(l)});if((0,t.contains)(n,l))throw s.create("duplicate-app",{appName:l});var c=new e(r,o,p);return n[l]=c,c},app:l,registerVersion:function(e,n,r){var t,a=null!==(t=N[e])&&void 0!==t?t:e;r&&(a+="-"+r);var o=a.match(/\s|\//),s=n.match(/\s|\//);if(o||s){var p=['Unable to register library "'+a+'" with version "'+n+'":'];return o&&p.push('library name "'+a+'" contains illegal characters (whitespace or "/")'),o&&s&&p.push("and"),s&&p.push('version name "'+n+'" contains illegal characters (whitespace or "/")'),void C.warn(p.join(" "))}c(new i.Component(a+"-version",function(){return{library:a,version:n}},"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(e,n){if(null!==e&&"function"!=typeof e)throw s.create("invalid-log-argument",{appName:name});(0,a.setUserLogHandler)(e,n)},apps:null,SDK_VERSION:E,INTERNAL:{registerComponent:c,removeApp:function(e){delete n[e]},components:o,useAsService:function(e,n){if("serverAuth"===n)return null;return n}}};function l(e){if(e=e||w,!(0,t.contains)(n,e))throw s.create("no-app",{appName:e});return n[e]}function c(i){var a,c,u=i.name;if(o.has(u))return C.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===i.type?p[u]:null;if(o.set(u,i),"PUBLIC"===i.type){var f=function(e){if(void 0===e&&(e=l()),"function"!=typeof e[u])throw s.create("invalid-app-argument",{appName:u});return e[u]()};void 0!==i.serviceProps&&(0,t.deepExtend)(f,i.serviceProps),p[u]=f,e.prototype[u]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,u).apply(this,i.multipleInstances?e:[])}}try{for(var d=(0,r.__values)(Object.keys(n)),m=d.next();!m.done;m=d.next()){var b=m.value;n[b]._addComponent(i)}}catch(h){a={error:h}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===i.type?p[u]:null}return p.default=p,Object.defineProperty(p,"apps",{get:function(){return Object.keys(n).map(function(e){return n[e]})}}),l.App=e,p}function F(){var e=A(I);return e.INTERNAL=(0,r.__assign)((0,r.__assign)({},e.INTERNAL),{createFirebaseNamespace:F,extendNamespace:function(n){(0,t.deepExtend)(e,n)},createSubscribe:t.createSubscribe,ErrorFactory:t.ErrorFactory,deepExtend:t.deepExtend}),e}var P=F(),L=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(D(e)){var n=e.getImmediate();return n.library+"/"+n.version}return null}).filter(function(e){return e}).join(" ")},e}();function D(e){var n=e.getComponent();return"VERSION"===(null==n?void 0:n.type)}function j(e,n){e.INTERNAL.registerComponent(new i.Component("platform-logger",function(e){return new L(e)},"PRIVATE")),e.registerVersion(p,l,n),e.registerVersion("fire-js","")}if((0,t.isBrowser)()&&void 0!==self.firebase){C.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var x=self.firebase.SDK_VERSION;x&&x.indexOf("LITE")>=0&&C.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var O=P.initializeApp;P.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,t.isNode)()&&C.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),O.apply(void 0,e)};var k=P;exports.firebase=k,j(k);var S=k;exports.default=S;
},{"tslib":"vCxL","@firebase/util":"KxmD","@firebase/component":"sLOu","@firebase/logger":"TUpU"}],"OJEJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return e.default}});var e=r(require("@firebase/app"));function r(e){return e&&e.__esModule?e:{default:e}}var t="firebase",u="8.0.1";e.default.registerVersion(t,u,"app");
},{"@firebase/app":"VxYX"}],"ueHA":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.createWebChannelTransport=exports.XhrIo=exports.WebChannel=exports.EventType=exports.ErrorCode=exports.default=void 0;var n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,i)};function i(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}function e(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var r,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s=s||{},o=a||self;function h(){}function l(t){var n=typeof t;return"object"!=n?n:t?Array.isArray(t)?"array":n:"null"}function c(t){var n=l(t);return"array"==n||"object"==n&&"number"==typeof t.length}function u(t){var n=typeof t;return"object"==n&&null!=t||"function"==n}function f(t){return Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++v)}var p="closure_uid_"+(1e9*Math.random()>>>0),v=0;function d(t,n,i){return t.call.apply(t.bind,arguments)}function g(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function y(t,n,i){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:g).apply(null,arguments)}function b(t,n){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var m=Date.now;function w(t,n){function i(){}i.prototype=n.prototype,t.S=n.prototype,t.prototype=new i,t.prototype.constructor=t}function E(){this.j=this.j,this.i=this.i}var T=0;E.prototype.j=!1,E.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0!=T))f(this)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,n){return Array.prototype.indexOf.call(t,n,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===n)return i;return-1},C=Array.prototype.forEach?function(t,n,i){Array.prototype.forEach.call(t,n,i)}:function(t,n,i){for(var e=t.length,r="string"==typeof t?t.split(""):t,a=0;a<e;a++)a in r&&n.call(i,r[a],a,t)};function I(t){t:{for(var n=Xi,i=t.length,e="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in e&&n.call(void 0,e[r],r,t)){n=r;break t}n=-1}return 0>n?null:"string"==typeof t?t.charAt(n):t[n]}function x(t){return Array.prototype.concat.apply([],arguments)}function O(t){var n=t.length;if(0<n){for(var i=Array(n),e=0;e<n;e++)i[e]=t[e];return i}return[]}function P(t){return/^[\s\xa0]*$/.test(t)}var R,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function L(t,n){return-1!=t.indexOf(n)}function j(t,n){return t<n?-1:t>n?1:0}t:{var M=o.navigator;if(M){var _=M.userAgent;if(_){R=_;break t}}R=""}function k(t,n,i){for(var e in t)n.call(i,t[e],e,t)}function X(t){var n={};for(var i in t)n[i]=t[i];return n}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(t,n){for(var i,e,r=1;r<arguments.length;r++){for(i in e=arguments[r])t[i]=e[i];for(var a=0;a<D.length;a++)i=D[a],Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}}function N(t){return N[" "](t),t}function U(t,n){var i=Q;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=n(t)}N[" "]=h;var B,K=L(R,"Opera"),F=L(R,"Trident")||L(R,"MSIE"),Y=L(R,"Edge"),W=Y||F,G=L(R,"Gecko")&&!(L(R.toLowerCase(),"webkit")&&!L(R,"Edge"))&&!(L(R,"Trident")||L(R,"MSIE"))&&!L(R,"Edge"),J=L(R.toLowerCase(),"webkit")&&!L(R,"Edge");function q(){var t=o.document;return t?t.documentMode:void 0}t:{var V="",$=function(){var t=R;return G?/rv:([^\);]+)(\)|;)/.exec(t):Y?/Edge\/([\d\.]+)/.exec(t):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):J?/WebKit\/(\S+)/.exec(t):K?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($&&(V=$?$[1]:""),F){var z=q();if(null!=z&&z>parseFloat(V)){B=String(z);break t}}B=V}var Z,Q={};function tt(t){return U(t,function(){for(var n=0,i=A(String(B)).split("."),e=A(String(t)).split("."),r=Math.max(i.length,e.length),a=0;0==n&&a<r;a++){var s=i[a]||"",o=e[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;n=j(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||j(0==s[2].length,0==o[2].length)||j(s[2],o[2]),s=s[3],o=o[3]}while(0==n)}return 0<=n})}if(o.document&&F){var nt=q();Z=nt||(parseInt(B,10)||void 0)}else Z=void 0;var it=Z,et=!F||9<=Number(it),rt=F&&!tt("9"),at=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",h,n),o.removeEventListener("test",h,n)}catch(i){}return t}();function st(t,n){this.type=t,this.a=this.target=n,this.defaultPrevented=!1}function ot(t,n){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var i=this.type=t.type,e=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=n,n=t.relatedTarget){if(G){t:{try{N(n.nodeName);var r=!0;break t}catch(a){}r=!1}r||(n=null)}}else"mouseover"==i?n=t.fromElement:"mouseout"==i&&(n=t.toElement);this.relatedTarget=n,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ht[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},w(ot,st);var ht={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(n){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,n,i,e,r){this.listener=t,this.proxy=null,this.src=n,this.type=i,this.capture=!!e,this.ca=r,this.key=++ct,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function pt(t){this.src=t,this.a={},this.b=0}function vt(t,n){var i=n.type;if(i in t.a){var e,r=t.a[i],a=S(r,n);(e=0<=a)&&Array.prototype.splice.call(r,a,1),e&&(ft(n),0==t.a[i].length&&(delete t.a[i],t.b--))}}function dt(t,n,i,e){for(var r=0;r<t.length;++r){var a=t[r];if(!a.Y&&a.listener==n&&a.capture==!!i&&a.ca==e)return r}return-1}pt.prototype.add=function(t,n,i,e,r){var a=t.toString();(t=this.a[a])||(t=this.a[a]=[],this.b++);var s=dt(t,n,e,r);return-1<s?(n=t[s],i||(n.Z=!1)):((n=new ut(n,this.src,a,!!e,r)).Z=i,t.push(n)),n};var gt="closure_lm_"+(1e6*Math.random()|0),yt={};function bt(t,n,i,e,r){if(e&&e.once)return Et(t,n,i,e,r);if(Array.isArray(n)){for(var a=0;a<n.length;a++)bt(t,n[a],i,e,r);return null}return i=Rt(i),t&&t[lt]?t.va(n,i,u(e)?!!e.capture:!!e,r):mt(t,n,i,!1,e,r)}function mt(t,n,i,e,r,a){if(!n)throw Error("Invalid event type");var s=u(r)?!!r.capture:!!r;if(s&&!et)return null;var o=Ot(t);if(o||(t[gt]=o=new pt(t)),(i=o.add(n,i,e,s,a)).proxy)return i;if(e=wt(),i.proxy=e,e.src=t,e.listener=i,t.addEventListener)at||(r=s),void 0===r&&(r=!1),t.addEventListener(n.toString(),e,r);else if(t.attachEvent)t.attachEvent(Ct(n.toString()),e);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(e)}return i}function wt(){var t=xt,n=et?function(i){return t.call(n.src,n.listener,i)}:function(i){if(!(i=t.call(n.src,n.listener,i)))return i};return n}function Et(t,n,i,e,r){if(Array.isArray(n)){for(var a=0;a<n.length;a++)Et(t,n[a],i,e,r);return null}return i=Rt(i),t&&t[lt]?t.wa(n,i,u(e)?!!e.capture:!!e,r):mt(t,n,i,!0,e,r)}function Tt(t,n,i,e,r){if(Array.isArray(n))for(var a=0;a<n.length;a++)Tt(t,n[a],i,e,r);else e=u(e)?!!e.capture:!!e,i=Rt(i),t&&t[lt]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(i=dt(a=t.a[n],i,e,r))&&(ft(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete t.a[n],t.b--)))):t&&(t=Ot(t))&&(n=t.a[n.toString()],t=-1,n&&(t=dt(n,i,e,r)),(i=-1<t?n[t]:null)&&St(i))}function St(t){if("number"!=typeof t&&t&&!t.Y){var n=t.src;if(n&&n[lt])vt(n.c,t);else{var i=t.type,e=t.proxy;n.removeEventListener?n.removeEventListener(i,e,t.capture):n.detachEvent?n.detachEvent(Ct(i),e):n.addListener&&n.removeListener&&n.removeListener(e),(i=Ot(n))?(vt(i,t),0==i.b&&(i.src=null,n[gt]=null)):ft(t)}}}function Ct(t){return t in yt?yt[t]:yt[t]="on"+t}function It(t,n){var i=t.listener,e=t.ca||t.src;return t.Z&&St(t),i.call(e,n)}function xt(t,n){if(t.Y)return!0;if(!et){if(!n)t:{n=["window","event"];for(var i=o,e=0;e<n.length;e++)if(null==(i=i[n[e]])){n=null;break t}n=i}return It(t,n=new ot(n,this))}return It(t,new ot(n,this))}function Ot(t){return(t=t[gt])instanceof pt?t:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(t){return"function"==l(t)?t:(t[Pt]||(t[Pt]=function(n){return t.handleEvent(n)}),t[Pt])}function At(){E.call(this),this.c=new pt(this),this.J=this,this.C=null}function Lt(t,n,i,e){if(!(n=t.c.a[String(n)]))return!0;n=n.concat();for(var r=!0,a=0;a<n.length;++a){var s=n[a];if(s&&!s.Y&&s.capture==i){var o=s.listener,h=s.ca||s.src;s.Z&&vt(t.c,s),r=!1!==o.call(h,e)&&r}}return r&&!e.defaultPrevented}w(At,E),At.prototype[lt]=!0,(r=At.prototype).addEventListener=function(t,n,i,e){bt(this,t,n,i,e)},r.removeEventListener=function(t,n,i,e){Tt(this,t,n,i,e)},r.dispatchEvent=function(t){var n,i=this.C;if(i)for(n=[];i;i=i.C)n.push(i);i=this.J;var e=t.type||t;if("string"==typeof t)t=new st(t,i);else if(t instanceof st)t.target=t.target||i;else{var r=t;H(t=new st(e,i),r)}if(r=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.a=n[a];r=Lt(s,e,!0,t)&&r}if(r=Lt(s=t.a=i,e,!0,t)&&r,r=Lt(s,e,!1,t)&&r,n)for(a=0;a<n.length;a++)r=Lt(s=t.a=n[a],e,!1,t)&&r;return r},r.G=function(){if(At.S.G.call(this),this.c){var t,n=this.c;for(t in n.a){for(var i=n.a[t],e=0;e<i.length;e++)ft(i[e]);delete n.a[t],n.b--}}this.C=null},r.va=function(t,n,i,e){return this.c.add(String(t),n,!1,i,e)},r.wa=function(t,n,i,e){return this.c.add(String(t),n,!0,i,e)};var jt=o.JSON.stringify;function Mt(){this.b=this.a=null}var _t,kt=new(function(){function t(t,n,i){this.f=i,this.c=t,this.g=n,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new Dt},function(t){t.reset()},100);function Xt(){var t=Kt,n=null;return t.a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),n}function Dt(){this.next=this.b=this.a=null}function Ht(t){o.setTimeout(function(){throw t},0)}function Nt(t,n){_t||Ut(),Bt||(_t(),Bt=!0),Kt.add(t,n)}function Ut(){var t=o.Promise.resolve(void 0);_t=function(){t.then(Ft)}}Mt.prototype.add=function(t,n){var i=kt.get();i.set(t,n),this.b?this.b.next=i:this.a=i,this.b=i},Dt.prototype.set=function(t,n){this.a=t,this.b=n,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Bt=!1,Kt=new Mt;function Ft(){for(var t;t=Xt();){try{t.a.call(t.b)}catch(i){Ht(i)}var n=kt;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}Bt=!1}function Yt(t,n){At.call(this),this.b=t||1,this.a=n||o,this.f=y(this.Ya,this),this.g=m()}function Wt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gt(t,n,i){if("function"==l(t))i&&(t=y(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(n)?-1:o.setTimeout(t,n||0)}function Jt(t){t.a=Gt(function(){t.a=null,t.c&&(t.c=!1,Jt(t))},t.h);var n=t.b;t.b=null,t.g.apply(null,n)}w(Yt,At),(r=Yt.prototype).aa=!1,r.M=null,r.Ya=function(){if(this.aa){var t=m()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Wt(this),this.start()))}},r.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},r.G=function(){Yt.S.G.call(this),Wt(this),delete this.a};var qt=function(t){function n(n,i,e){var r=t.call(this)||this;return r.g=null!=e?n.bind(e):n,r.h=i,r.b=null,r.c=!1,r.a=null,r}return i(n,t),n.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Jt(this)},n.prototype.G=function(){t.prototype.G.call(this),this.a&&(o.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},n}(E);function Vt(t){E.call(this),this.b=t,this.a={}}w(Vt,E);var $t=[];function zt(t,n,i,e){Array.isArray(i)||(i&&($t[0]=i.toString()),i=$t);for(var r=0;r<i.length;r++){var a=bt(n,i[r],e||t.handleEvent,!1,t.b||t);if(!a)break;t.a[a.key]=a}}function Zt(t){k(t.a,function(t,n){this.a.hasOwnProperty(n)&&St(t)},t),t.a={}}function Qt(){this.a=!0}function tn(t,n,i,e,r,a){t.info(function(){if(t.a)if(a)for(var s="",o=a.split("&"),h=0;h<o.length;h++){var l=o[h].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");s=2<=u.length&&"type"==u[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+e+") [attempt "+r+"]: "+n+"\n"+i+"\n"+s})}function nn(t,n,i,e,r,a,s){t.info(function(){return"XMLHTTP RESP ("+e+") [ attempt "+r+"]: "+n+"\n"+i+"\n"+a+" "+s})}function en(t,n,i,e){t.info(function(){return"XMLHTTP TEXT ("+n+"): "+an(t,i)+(e?" "+e:"")})}function rn(t,n){t.info(function(){return"TIMEOUT: "+n})}function an(t,n){if(!t.a)return n;if(!n)return null;try{var i=JSON.parse(n);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var e=i[t];if(!(2>e.length)){var r=e[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<r.length;s++)r[s]=""}}}return jt(i)}catch(o){return n}}Vt.prototype.G=function(){Vt.S.G.call(this),Zt(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var sn=null;function on(){return sn=sn||new At}function hn(t){st.call(this,"serverreachability",t)}function ln(t){var n=on();n.dispatchEvent(new hn(n,t))}function cn(t){st.call(this,"statevent",t)}function un(t){var n=on();n.dispatchEvent(new cn(n,t))}function fn(t){st.call(this,"timingevent",t)}function pn(t,n){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){t()},n)}w(hn,st),w(cn,st),w(fn,st);var vn={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},dn={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function gn(){}function yn(t){var n;return(n=t.a)||(n=t.a={}),n}function bn(){}gn.prototype.a=null;var mn,wn={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function En(){st.call(this,"d")}function Tn(){st.call(this,"c")}function Sn(){}function Cn(t,n,i,e){this.g=t,this.c=n,this.f=i,this.T=e||1,this.J=new Vt(this),this.P=In,t=W?125:void 0,this.R=new Yt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(En,st),w(Tn,st),w(Sn,gn),mn=new Sn;var In=45e3,xn={},On={};function Pn(t,n,i){t.H=1,t.i=Zn(Gn(n)),t.j=i,t.I=!0,Rn(t,null)}function Rn(t,n){t.u=m(),jn(t),t.l=Gn(t.i);var i=t.l,e=t.T;Array.isArray(e)||(e=[String(e)]),pi(i.b,"t",e),t.D=0,t.a=fe(t.g,t.g.C?n:null),0<t.O&&(t.F=new qt(y(t.Ca,t,t.a),t.O)),zt(t.J,t.a,"readystatechange",t.Wa),n=t.B?X(t.B):{},t.j?(t.m||(t.m="POST"),n["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,n)):(t.m="GET",t.a.ba(t.l,t.m,null,n)),ln(1),tn(t.c,t.m,t.l,t.f,t.T,t.j)}function An(t,n,i){for(var e=!0;!t.A&&t.D<i.length;){var r=Ln(t,i);if(r==On){4==n&&(t.h=4,un(14),e=!1),en(t.c,t.f,null,"[Incomplete Response]");break}if(r==xn){t.h=4,un(15),en(t.c,t.f,i,"[Invalid Chunk]"),e=!1;break}en(t.c,t.f,r,null),Dn(t,r)}4==n&&0==i.length&&(t.h=1,un(16),e=!1),t.b=t.b&&e,e?0<i.length&&!t.W&&(t.W=!0,(n=t.g).a==t&&n.V&&!n.F&&(n.c.info("Great, no buffering proxy detected. Bytes received: "+i.length),re(n),n.F=!0)):(en(t.c,t.f,i,"[Invalid Chunked Response]"),Xn(t),kn(t))}function Ln(t,n){var i=t.D,e=n.indexOf("\n",i);return-1==e?On:(i=Number(n.substring(i,e)),isNaN(i)?xn:(e+=1)+i>n.length?On:(n=n.substr(e,i),t.D=e+i,n))}function jn(t){t.U=m()+t.P,Mn(t,t.P)}function Mn(t,n){if(null!=t.o)throw Error("WatchDog timer not null");t.o=pn(y(t.Ua,t),n)}function _n(t){t.o&&(o.clearTimeout(t.o),t.o=null)}function kn(t){0==t.g.v||t.A||oe(t.g,t)}function Xn(t){_n(t);var n=t.F;n&&"function"==typeof n.ja&&n.ja(),t.F=null,Wt(t.R),Zt(t.J),t.a&&(n=t.a,t.a=null,n.abort(),n.ja())}function Dn(t,n){try{var i=t.g;if(0!=i.v&&(i.a==t||Ei(i.b,t)))if(i.I=t.N,!t.C&&Ei(i.b,t)&&3==i.v){try{var e=i.ka.a.parse(n)}catch(g){e=null}if(Array.isArray(e)&&3==e.length){var r=e;if(0==r[0]){t:if(!i.j){if(i.a){if(!(i.a.u+3e3<t.u))break t;se(i),qi(i)}ee(i),un(18)}}else i.oa=r[1],0<i.oa-i.P&&37500>r[2]&&i.H&&0==i.o&&!i.m&&(i.m=pn(y(i.Ra,i),6e3));if(1>=wi(i.b)&&i.ea){try{i.ea()}catch(g){}i.ea=void 0}}else le(i,11)}else if((t.C||i.a==t)&&se(i),!P(n))for(n=e=i.ka.a.parse(n),e=0;e<n.length;e++)if(r=n[e],i.P=r[0],r=r[1],2==i.v)if("c"==r[0]){i.J=r[1],i.ga=r[2];var a=r[3];null!=a&&(i.ha=a,i.c.info("VER="+i.ha));var s=r[4];null!=s&&(i.pa=s,i.c.info("SVER="+i.pa));var o=r[5];if(null!=o&&"number"==typeof o&&0<o){var h=1.5*o;i.D=h,i.c.info("backChannelRequestTimeoutMs_="+h)}h=i;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var u=h.b;!u.a&&(L(c,"spdy")||L(c,"quic")||L(c,"h2"))&&(u.f=u.g,u.a=new Set,u.b&&(Ti(u,u.b),u.b=null))}if(h.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(h.na=f,zn(h.B,h.A,f))}}i.v=3,i.f&&i.f.ta(),i.V&&(i.N=m()-t.u,i.c.info("Handshake RTT: "+i.N+"ms"));var p=t;if((h=i).la=ue(h,h.C?h.ga:null,h.fa),p.C){Si(h.b,p);var v=p,d=h.D;d&&v.setTimeout(d),v.o&&(_n(v),jn(v)),h.a=p}else ie(h);0<i.g.length&&zi(i)}else"stop"!=r[0]&&"close"!=r[0]||le(i,7);else 3==i.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?le(i,7):Ji(i):"noop"!=r[0]&&i.f&&i.f.sa(r),i.o=0);ln(4)}catch(g){}}function Hn(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(c(t)){for(var n=[],i=t.length,e=0;e<i;e++)n.push(t[e]);return n}for(e in n=[],i=0,t)n[i++]=t[e];return n}function Nn(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(c(t)||"string"==typeof t)C(t,n,void 0);else{if(t.L&&"function"==typeof t.L)var i=t.L();else if(t.K&&"function"==typeof t.K)i=void 0;else if(c(t)||"string"==typeof t){i=[];for(var e=t.length,r=0;r<e;r++)i.push(r)}else for(r in i=[],e=0,t)i[e++]=r;r=(e=Hn(t)).length;for(var a=0;a<r;a++)n.call(void 0,e[a],i&&i[a],t)}}function Un(t,n){this.b={},this.a=[],this.c=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var e=0;e<i;e+=2)this.set(arguments[e],arguments[e+1])}else if(t)if(t instanceof Un)for(i=t.L(),e=0;e<i.length;e++)this.set(i[e],t.get(i[e]));else for(e in t)this.set(e,t[e])}function Bn(t){if(t.c!=t.a.length){for(var n=0,i=0;n<t.a.length;){var e=t.a[n];Kn(t.b,e)&&(t.a[i++]=e),n++}t.a.length=i}if(t.c!=t.a.length){var r={};for(i=n=0;n<t.a.length;)Kn(r,e=t.a[n])||(t.a[i++]=e,r[e]=1),n++;t.a.length=i}}function Kn(t,n){return Object.prototype.hasOwnProperty.call(t,n)}(r=Cn.prototype).setTimeout=function(t){this.P=t},r.Wa=function(t){t=t.target;var n=this.F;n&&3==Ki(t)?n.f():this.Ca(t)},r.Ca=function(t){try{if(t==this.a)t:{var n=Ki(this.a),i=this.a.ua(),e=this.a.X();if(!(3>n||3==n&&!W&&!this.a.$())){this.A||4!=n||7==i||ln(8==i||0>=e?3:2),_n(this);var r=this.a.X();this.N=r;var a=this.a.$();if(this.b=200==r,nn(this.c,this.m,this.l,this.f,this.T,n,r),this.b){if(this.V&&!this.C){n:{if(this.a){var s,o=this.a;if((s=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(s)){var h=s;break n}}h=null}if(!h){this.b=!1,this.h=3,un(12),Xn(this),kn(this);break t}en(this.c,this.f,h,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dn(this,h)}this.I?(An(this,n,a),W&&this.b&&3==n&&(zt(this.J,this.R,"tick",this.Va),this.R.start())):(en(this.c,this.f,a,null),Dn(this,a)),4==n&&Xn(this),this.b&&!this.A&&(4==n?oe(this.g,this):(this.b=!1,jn(this)))}else 400==r&&0<a.indexOf("Unknown SID")?(this.h=3,un(12)):(this.h=0,un(13)),Xn(this),kn(this)}}}catch(l){}},r.Va=function(){if(this.a){var t=Ki(this.a),n=this.a.$();this.D<n.length&&(_n(this),An(this,t,n),this.b&&4!=t&&jn(this))}},r.cancel=function(){this.A=!0,Xn(this)},r.Ua=function(){this.o=null;var t=m();0<=t-this.U?(rn(this.c,this.l),2!=this.H&&(ln(3),un(17)),Xn(this),this.h=2,kn(this)):Mn(this,this.U-t)},(r=Un.prototype).K=function(){Bn(this);for(var t=[],n=0;n<this.a.length;n++)t.push(this.b[this.a[n]]);return t},r.L=function(){return Bn(this),this.a.concat()},r.get=function(t,n){return Kn(this.b,t)?this.b[t]:n},r.set=function(t,n){Kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=n},r.forEach=function(t,n){for(var i=this.L(),e=0;e<i.length;e++){var r=i[e],a=this.get(r);t.call(n,a,r,this)}};var Fn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\\\/?#]*)@)?([^\\\/?#]*?)(?::([0-9]+))?(?=[\\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yn(t,n){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var e=t[i].indexOf("="),r=null;if(0<=e){var a=t[i].substring(0,e);r=t[i].substring(e+1)}else a=t[i];n(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Wn(t,n){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wn){this.a=void 0!==n?n:t.a,Jn(this,t.f),this.j=t.j,qn(this,t.c),Vn(this,t.h),this.g=t.g,n=t.b;var i=new li;i.c=n.c,n.a&&(i.a=new Un(n.a),i.b=n.b),$n(this,i),this.i=t.i}else t&&(i=String(t).match(Fn))?(this.a=!!n,Jn(this,i[1]||"",!0),this.j=ni(i[2]||""),qn(this,i[3]||"",!0),Vn(this,i[4]),this.g=ni(i[5]||"",!0),$n(this,i[6]||"",!0),this.i=ni(i[7]||"")):(this.a=!!n,this.b=new li(null,this.a))}function Gn(t){return new Wn(t)}function Jn(t,n,i){t.f=i?ni(n,!0):n,t.f&&(t.f=t.f.replace(/:$/,""))}function qn(t,n,i){t.c=i?ni(n,!0):n}function Vn(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.h=n}else t.h=null}function $n(t,n,i){n instanceof li?(t.b=n,di(t.b,t.a)):(i||(n=ii(n,oi)),t.b=new li(n,t.a))}function zn(t,n,i){t.b.set(n,i)}function Zn(t){return zn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Qn(t){return t instanceof Wn?Gn(t):new Wn(t,void 0)}function ti(t,n,i,e){var r=new Wn(null,void 0);return t&&Jn(r,t),n&&qn(r,n),i&&Vn(r,i),e&&(r.g=e),r}function ni(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ii(t,n,i){return"string"==typeof t?(t=encodeURI(t).replace(n,ei),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ei(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wn.prototype.toString=function(){var t=[],n=this.f;n&&t.push(ii(n,ri,!0),":");var i=this.c;return(i||"file"==n)&&(t.push("//"),(n=this.j)&&t.push(ii(n,ri,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.h)&&t.push(":",String(i))),(i=this.g)&&(this.c&&"/"!=i.charAt(0)&&t.push("/"),t.push(ii(i,"/"==i.charAt(0)?si:ai,!0))),(i=this.b.toString())&&t.push("?",i),(i=this.i)&&t.push("#",ii(i,hi)),t.join("")};var ri=/[#\/\?@]/g,ai=/[#\?:]/g,si=/[#\?]/g,oi=/[#\?@]/g,hi=/#/g;function li(t,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function ci(t){t.a||(t.a=new Un,t.b=0,t.c&&Yn(t.c,function(n,i){t.add(decodeURIComponent(n.replace(/\+/g," ")),i)}))}function ui(t,n){ci(t),n=vi(t,n),Kn(t.a.b,n)&&(t.c=null,t.b-=t.a.get(n).length,Kn((t=t.a).b,n)&&(delete t.b[n],t.c--,t.a.length>2*t.c&&Bn(t)))}function fi(t,n){return ci(t),n=vi(t,n),Kn(t.a.b,n)}function pi(t,n,i){ui(t,n),0<i.length&&(t.c=null,t.a.set(vi(t,n),O(i)),t.b+=i.length)}function vi(t,n){return n=String(n),t.f&&(n=n.toLowerCase()),n}function di(t,n){n&&!t.f&&(ci(t),t.c=null,t.a.forEach(function(t,n){var i=n.toLowerCase();n!=i&&(ui(this,n),pi(this,i,t))},t)),t.f=n}function gi(t,n){this.b=t,this.a=n}function yi(t){this.g=t||bi,o.PerformanceNavigationTiming?t=0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(o.ia&&o.ia.ya&&o.ia.ya()&&o.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(r=li.prototype).add=function(t,n){ci(this),this.c=null,t=vi(this,t);var i=this.a.get(t);return i||this.a.set(t,i=[]),i.push(n),this.b+=1,this},r.forEach=function(t,n){ci(this),this.a.forEach(function(i,e){C(i,function(i){t.call(n,i,e,this)},this)},this)},r.L=function(){ci(this);for(var t=this.a.K(),n=this.a.L(),i=[],e=0;e<n.length;e++)for(var r=t[e],a=0;a<r.length;a++)i.push(n[e]);return i},r.K=function(t){ci(this);var n=[];if("string"==typeof t)fi(this,t)&&(n=x(n,this.a.get(vi(this,t))));else{t=this.a.K();for(var i=0;i<t.length;i++)n=x(n,t[i])}return n},r.set=function(t,n){return ci(this),this.c=null,fi(this,t=vi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[n]),this.b+=1,this},r.get=function(t,n){return t&&0<(t=this.K(t)).length?String(t[0]):n},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],n=this.a.L(),i=0;i<n.length;i++){var e=n[i],r=encodeURIComponent(String(e));e=this.K(e);for(var a=0;a<e.length;a++){var s=r;""!==e[a]&&(s+="="+encodeURIComponent(String(e[a]))),t.push(s)}}return this.c=t.join("&")};var bi=10;function mi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wi(t){return t.b?1:t.a?t.a.size:0}function Ei(t,n){return t.b?t.b==n:!!t.a&&t.a.has(n)}function Ti(t,n){t.a?t.a.add(n):t.b=n}function Si(t,n){t.b&&t.b==n?t.b=null:t.a&&t.a.has(n)&&t.a.delete(n)}function Ci(t){var n,i;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var a=e(t.a.values()),s=a.next();!s.done;s=a.next()){var o=s.value;r=r.concat(o.s)}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r}return O(t.c)}function Ii(){}function xi(){this.a=new Ii}function Oi(t,n,i){var e=i||"";try{Nn(t,function(t,i){var r=t;u(t)&&(r=jt(t)),n.push(e+i+"="+encodeURIComponent(r))})}catch(r){throw n.push(e+"type="+encodeURIComponent("_badmap")),r}}function Pi(t,n){var i=new Qt;if(o.Image){var e=new Image;e.onload=b(Ri,i,e,"TestLoadImage: loaded",!0,n),e.onerror=b(Ri,i,e,"TestLoadImage: error",!1,n),e.onabort=b(Ri,i,e,"TestLoadImage: abort",!1,n),e.ontimeout=b(Ri,i,e,"TestLoadImage: timeout",!1,n),o.setTimeout(function(){e.ontimeout&&e.ontimeout()},1e4),e.src=t}else n(!1)}function Ri(t,n,i,e,r){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,r(e)}catch(a){}}yi.prototype.cancel=function(){var t,n;if(this.c=Ci(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var i=e(this.a.values()),r=i.next();!r.done;r=i.next()){r.value.cancel()}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.a.clear()}},Ii.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},Ii.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var Ai=o.JSON.parse;function Li(t){At.call(this),this.headers=new Un,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ji,this.D=this.F=!1}w(Li,At);var ji="",Mi=/^https?$/i,_i=["POST","PUT"];function ki(t){return F&&tt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Xi(t){return"content-type"==t.toLowerCase()}function Di(t,n){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=n,t.h=5,Hi(t),Ui(t)}function Hi(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ni(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Ki(t)||2!=t.X()))if(t.l&&4==Ki(t))Gt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Ki(t)){t.b=!1;try{var n,i=t.X();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(n=e)){var r;if(r=0===i){var a=String(t.B).match(Fn)[1]||null;if(!a&&o.self&&o.self.location){var h=o.self.location.protocol;a=h.substr(0,h.length-1)}r=!Mi.test(a?a.toLowerCase():"")}n=r}if(n)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Ki(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.X()+"]",Hi(t)}}finally{Ui(t)}}}function Ui(t,n){if(t.a){Bi(t);var i=t.a,e=t.s[0]?h:null;t.a=null,t.s=null,n||t.dispatchEvent("ready");try{i.onreadystatechange=e}catch(r){}}}function Bi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Ki(t){return t.a?t.a.readyState:0}function Fi(t){var n="";return k(t,function(t,i){n+=i,n+=":",n+=t,n+="\r\n"}),n}function Yi(t,n,i){t:{for(e in i){var e=!1;break t}e=!0}e||(i=Fi(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):zn(t,n,i))}function Wi(t,n,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||n}function Gi(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Wi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Wi("baseRetryDelayMs",5e3,t),this.Ma=Wi("retryDelaySeedMs",1e4,t),this.Ja=Wi("forwardChannelMaxRetries",2,t),this.ma=Wi("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yi(t&&t.concurrentRequestLimit),this.ka=new xi,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Ji(t){if(Vi(t),3==t.v){var n=t.R++,i=Gn(t.B);zn(i,"SID",t.J),zn(i,"RID",n),zn(i,"TYPE","terminate"),te(t,i),(n=new Cn(t,t.c,n,void 0)).H=2,n.i=Zn(Gn(i)),i=!1,o.navigator&&o.navigator.sendBeacon&&(i=o.navigator.sendBeacon(n.i.toString(),"")),!i&&o.Image&&((new Image).src=n.i,i=!0),i||(n.a=fe(n.g,null),n.a.ba(n.i)),n.u=m(),jn(n)}ce(t)}function qi(t){t.a&&(re(t),t.a.cancel(),t.a=null)}function Vi(t){qi(t),t.j&&(o.clearTimeout(t.j),t.j=null),se(t),t.b.cancel(),t.h&&("number"==typeof t.h&&o.clearTimeout(t.h),t.h=null)}function $i(t,n){t.g.push(new gi(t.La++,n)),3==t.v&&zi(t)}function zi(t){mi(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function Zi(t,n){return!(wi(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=n.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=pn(y(t.Ba,t,n),he(t,t.u)),t.u++,!0))}function Qi(t,n){var i;i=n?n.f:t.R++;var e=Gn(t.B);zn(e,"SID",t.J),zn(e,"RID",i),zn(e,"AID",t.P),te(t,e),t.i&&t.l&&Yi(e,t.i,t.l),i=new Cn(t,t.c,i,t.u+1),null===t.i&&(i.B=t.l),n&&(t.g=n.s.concat(t.g)),n=ne(t,i,1e3),i.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ti(t.b,i),Pn(i,e,n)}function te(t,n){t.f&&Nn({},function(t,i){zn(n,i,t)})}function ne(t,n,i){i=Math.min(t.g.length,i);var e=t.f?y(t.f.Ha,t.f,t):null;t:for(var r=t.g,a=-1;;){var s=["count="+i];-1==a?0<i?(a=r[0].b,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var o=!0,h=0;h<i;h++){var l=r[h].b,c=r[h].a;if(0>(l-=a))a=Math.max(0,r[h].b-100),o=!1;else try{Oi(c,s,"req"+l+"_")}catch(u){e&&e(c)}}if(o){e=s.join("&");break t}}return t=t.g.splice(0,i),n.s=t,e}function ie(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function ee(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=pn(y(t.Aa,t),he(t,t.o)),t.o++,!0)}function re(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function ae(t){t.a=new Cn(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var n=Gn(t.la);zn(n,"RID","rpc"),zn(n,"SID",t.J),zn(n,"CI",t.H?"0":"1"),zn(n,"AID",t.P),te(t,n),zn(n,"TYPE","xmlhttp"),t.i&&t.l&&Yi(n,t.i,t.l),t.D&&t.a.setTimeout(t.D);var i=t.a;t=t.ga,i.H=1,i.i=Zn(Gn(n)),i.j=null,i.I=!0,Rn(i,t)}function se(t){null!=t.m&&(o.clearTimeout(t.m),t.m=null)}function oe(t,n){var i=null;if(t.a==n){se(t),re(t),t.a=null;var e=2}else{if(!Ei(t.b,n))return;i=n.s,Si(t.b,n),e=1}if(t.I=n.N,0!=t.v)if(n.b)if(1==e){i=n.j?n.j.length:0,n=m()-n.u;var r=t.u;(e=on()).dispatchEvent(new fn(e,i,n,r)),zi(t)}else ie(t);else if(3==(r=n.h)||0==r&&0<t.I||!(1==e&&Zi(t,n)||2==e&&ee(t)))switch(i&&0<i.length&&(n=t.b,n.c=n.c.concat(i)),r){case 1:le(t,5);break;case 4:le(t,10);break;case 3:le(t,6);break;default:le(t,2)}}function he(t,n){var i=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(i*=2),i*n}function le(t,n){if(t.c.info("Error code "+n),2==n){var i=null;t.f&&(i=null);var e=y(t.Xa,t);i||(i=new Wn("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Jn(i,"https"),Zn(i)),Pi(i.toString(),e)}else un(2);t.v=0,t.f&&t.f.ra(n),ce(t),Vi(t)}function ce(t){t.v=0,t.I=-1,t.f&&(0==Ci(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function ue(t,n,i){var e=Qn(i);if(""!=e.c)n&&qn(e,n+"."+e.c),Vn(e,e.h);else{var r=o.location;e=ti(r.protocol,n?n+"."+r.hostname:r.hostname,+r.port,i)}return t.W&&k(t.W,function(t,n){zn(e,n,t)}),n=t.A,i=t.na,n&&i&&zn(e,n,i),zn(e,"VER",t.ha),te(t,e),e}function fe(t,n){if(n&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Li(t.Ka)).F=t.C,n}function pe(){}function ve(){if(F&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function de(t,n){At.call(this),this.a=new Gi(n),this.l=t,this.b=n&&n.messageUrlParams||null,t=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(t?t["X-WebChannel-Content-Type"]=n.messageContentType:t={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.a&&(t?t["X-WebChannel-Client-Profile"]=n.a:t={"X-WebChannel-Client-Profile":n.a}),this.a.O=t,(t=n&&n.httpHeadersOverwriteParam)&&!P(t)&&(this.a.i=t),this.h=n&&n.supportsCrossDomainXhr||!1,this.g=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!P(n)&&(this.a.A=n,null!==(t=this.b)&&n in t&&(n in(t=this.b)&&delete t[n])),this.f=new be(this)}function ge(t){En.call(this);var n=t.__sm__;if(n){t:{for(var i in n){t=i;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==n&&t in n?n[t]:void 0):this.data=n}else this.data=t}function ye(){Tn.call(this),this.status=1}function be(t){this.a=t}(r=Li.prototype).ba=function(t,n,i,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);n=n?n.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?yn(this.H):yn(mn),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(n,String(t),!0),this.A=!1}catch(a){return void Di(this,a)}t=i||"";var r=new Un(this.headers);e&&Nn(e,function(t,n){r.set(n,t)}),e=I(r.L()),i=o.FormData&&t instanceof o.FormData,!(0<=S(_i,n))||e||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,n){this.a.setRequestHeader(n,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bi(this),0<this.o&&((this.D=ki(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Gt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(a){Di(this,a)}},r.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ui(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ui(this,!0)),Li.S.G.call(this)},r.za=function(){this.j||(this.A||this.l||this.g?Ni(this):this.Ta())},r.Ta=function(){Ni(this)},r.X=function(){try{return 2<Ki(this)?this.a.status:-1}catch(t){return-1}},r.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Na=function(t){if(this.a){var n=this.a.responseText;return t&&0==n.indexOf(t)&&(n=n.substring(t.length)),Ai(n)}},r.ua=function(){return this.h},r.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(r=Gi.prototype).ha=8,r.v=1,r.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var n,i=new Cn(this,this.c,t,void 0),e=this.l;if(this.O&&(e?H(e=X(e),this.O):e=this.O),null===this.i&&(i.B=e),this.da)t:{for(var r=n=0;r<this.g.length;r++){var a=this.g[r];if(void 0===(a="__data__"in a.a&&"string"==typeof(a=a.a.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break t}if(4096===n||r===this.g.length-1){n=r+1;break t}}n=1e3}else n=1e3;n=ne(this,i,n),zn(r=Gn(this.B),"RID",t),zn(r,"CVER",22),this.A&&zn(r,"X-HTTP-Session-Id",this.A),te(this,r),this.i&&e&&Yi(r,this.i,e),Ti(this.b,i),this.Ga&&zn(r,"TYPE","init"),this.da?(zn(r,"$req",n),zn(r,"SID","null"),i.V=!0,Pn(i,r,null)):Pn(i,r,n),this.v=2}}else 3==this.v&&(t?Qi(this,t):0==this.g.length||mi(this.b)||Qi(this))},r.Aa=function(){if(this.j=null,ae(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=pn(y(this.Sa,this),t)}},r.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,qi(this),ae(this))},r.Ra=function(){null!=this.m&&(this.m=null,qi(this),ee(this),un(19))},r.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),un(2)):(this.c.info("Failed to ping google.com"),un(1))},(r=pe.prototype).ta=function(){},r.sa=function(){},r.ra=function(){},r.qa=function(){},r.Ha=function(){},ve.prototype.a=function(t,n){return new de(t,n)},w(de,At),(r=de.prototype).addEventListener=function(t,n,i,e){de.S.addEventListener.call(this,t,n,i,e)},r.removeEventListener=function(t,n,i,e){de.S.removeEventListener.call(this,t,n,i,e)},r.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,n=this.l,i=this.b||void 0;un(0),t.fa=n,t.W=i||{},t.H=t.T,t.B=ue(t,null,t.fa),zi(t)},r.close=function(){Ji(this.a)},r.Pa=function(t){if("string"==typeof t){var n={};n.__data__=t,$i(this.a,n)}else this.g?((n={}).__data__=jt(t),$i(this.a,n)):$i(this.a,t)},r.G=function(){this.a.f=null,delete this.f,Ji(this.a),delete this.a,de.S.G.call(this)},w(ge,En),w(ye,Tn),w(be,pe),be.prototype.ta=function(){this.a.dispatchEvent("a")},be.prototype.sa=function(t){this.a.dispatchEvent(new ge(t))},be.prototype.ra=function(t){this.a.dispatchEvent(new ye(t))},be.prototype.qa=function(){this.a.dispatchEvent("b")},ve.prototype.createWebChannel=ve.prototype.a,de.prototype.send=de.prototype.Pa,de.prototype.open=de.prototype.Oa,de.prototype.close=de.prototype.close,vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,dn.COMPLETE="complete",bn.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",At.prototype.listen=At.prototype.va,Li.prototype.listenOnce=Li.prototype.wa,Li.prototype.getLastError=Li.prototype.Qa,Li.prototype.getLastErrorCode=Li.prototype.ua,Li.prototype.getStatus=Li.prototype.X,Li.prototype.getResponseJson=Li.prototype.Na,Li.prototype.getResponseText=Li.prototype.$,Li.prototype.send=Li.prototype.ba;var me=function(){return new ve};exports.createWebChannelTransport=me;var we=vn;exports.ErrorCode=we;var Ee=dn;exports.EventType=Ee;var Te=bn;exports.WebChannel=Te;var Se=Li;exports.XhrIo=Se;var Ce={createWebChannelTransport:me,ErrorCode:we,EventType:Ee,WebChannel:Te,XhrIo:Se},Ie=Ce;exports.default=Ie;
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"A6C1":[function(require,module,exports) {
var process = require("process");
var t=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.__PRIVATE_registerFirestore=Na;var e=require("tslib"),n=u(require("@firebase/app")),r=require("@firebase/logger"),i=require("@firebase/util"),o=require("@firebase/webchannel-wrapper"),s=require("@firebase/component");function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,e.__extends)(n,t),n}(Error),f=new r.Logger("@firebase/firestore");function l(){return f.logLevel}function p(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(f.logLevel<=r.LogLevel.DEBUG){var o=n.map(y);f.debug.apply(f,(0,e.__spreadArrays)(["Firestore (8.0.1): "+t],o))}}function d(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(f.logLevel<=r.LogLevel.ERROR){var o=n.map(y);f.error.apply(f,(0,e.__spreadArrays)(["Firestore (8.0.1): "+t],o))}}function v(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(f.logLevel<=r.LogLevel.WARN){var o=n.map(y);f.warn.apply(f,(0,e.__spreadArrays)(["Firestore (8.0.1): "+t],o))}}function y(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function m(t,e){t||g()}function w(t,e){return t}function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function I(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function T(t){return t+"\0"}var N=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return I(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();N.h=new N("");var A=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(N.fromBase64String(e))}catch(e){throw new h(c.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(N.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function D(){if("undefined"==typeof Uint8Array)throw new h(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function x(){if("undefined"==typeof atob)throw new h(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var S=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.fromBase64String=function(t){x();try{return new n(N.fromBase64String(t))}catch(t){throw new h(c.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},n.fromUint8Array=function(t){return D(),new n(N.fromUint8Array(t))},n.prototype.toBase64=function(){return x(),t.prototype.toBase64.call(this)},n.prototype.toUint8Array=function(){return D(),t.prototype.toUint8Array.call(this)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(A),k=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},O=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.u=function(t){return I(this.projectId,t.projectId)||I(this.database,t.database)},t}();function P(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function L(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var R=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.A(s,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){L(this.R,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];t(s,u)}})},t.prototype.P=function(){return V(this.R)},t}(),U=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?I(this.nanoseconds,t.nanoseconds):I(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),C=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new U(0,0))},t.prototype.u=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),q=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return t=void 0===t?1:t,this.C(this.segments,this.offset+t,this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.k=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.C=function(t,e,r){return new n(t,e,r)},n.prototype.B=function(){return this.L().join("/")},n.prototype.toString=function(){return this.B()},n.q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new n(r)},n.U=function(){return new n([])},n}(q),F=/^[_a-zA-Z][_a-zA-Z0-9]*$/,B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.C=function(t,e,r){return new n(t,e,r)},n.K=function(t){return F.test(t)},n.prototype.B=function(){return this.L().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),n.K(t)||(t="`"+t+"`"),t}).join(".")},n.prototype.toString=function(){return this.B()},n.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},n.j=function(){return new n(["__name__"])},n.G=function(t){for(var e=[],r="",i=0,o=function(){if(0===r.length)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new h(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new h(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new h(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)},n.U=function(){return new n([])},n}(q),j=function(){function t(t){this.path=t}return t.H=function(e){return new t(M.q(e))},t.Y=function(e){return new t(M.q(e).N(5))},t.prototype.J=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===M.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return M.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new M(e.slice()))},t}();function z(t){return null==t}function G(t){return 0===t&&1/t==-1/0}function K(t){return"number"==typeof t&&Number.isInteger(t)&&!G(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var W=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function Q(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new W(t,e,n,r,i,o,s)}function H(t){var e=w(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.B()+t.op.toString()+Mt(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.B()+e.dir;var e}).join(","),z(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Gn(e.startAt)),e.endAt&&(n+="|ub:",n+=Gn(e.endAt)),e.tt=n}return e.tt}function Y(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Yn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Rt(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wn(t.startAt,e.startAt)&&Wn(t.endAt,e.endAt)}function J(t){return j.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var X,Z,$=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=C.min()),void 0===o&&(o=C.min()),void 0===s&&(s=N.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),tt=function(t){this.count=t};function et(t){switch(t){case c.OK:return g();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return g()}}function nt(t){if(void 0===t)return d("GRPC error has no .code"),c.UNKNOWN;switch(t){case X.OK:return c.OK;case X.CANCELLED:return c.CANCELLED;case X.UNKNOWN:return c.UNKNOWN;case X.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case X.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case X.INTERNAL:return c.INTERNAL;case X.UNAVAILABLE:return c.UNAVAILABLE;case X.UNAUTHENTICATED:return c.UNAUTHENTICATED;case X.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case X.NOT_FOUND:return c.NOT_FOUND;case X.ALREADY_EXISTS:return c.ALREADY_EXISTS;case X.PERMISSION_DENIED:return c.PERMISSION_DENIED;case X.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case X.ABORTED:return c.ABORTED;case X.OUT_OF_RANGE:return c.OUT_OF_RANGE;case X.UNIMPLEMENTED:return c.UNIMPLEMENTED;case X.DATA_LOSS:return c.DATA_LOSS;default:return g()}}(Z=X||(X={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var rt=function(){function t(t,e){this.D=t,this.root=e||ot.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ot.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ot.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ht(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new it(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new it(this.root,t,this.D,!1)},t.prototype.dt=function(){return new it(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new it(this.root,t,this.D,!0)},t}(),it=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ot=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.P=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.P()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.yt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw g();if(this.right.yt())throw g();var t=this.left.Nt();if(t!==this.right.Nt())throw g();return t+(this.yt()?0:1)},t}();ot.EMPTY=null,ot.RED=!0,ot.at=!1,ot.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ot(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var st=function(){function t(t){this.D=t,this.data=new rt(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht(function(e,n){return t(e),!1})},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.Ot=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new ut(this.data._t())},t.prototype.ft=function(t){return new ut(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),ut=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),at=new rt(j.D);function ct(){return at}function ht(){return ct()}var ft=new rt(j.D);function lt(){return ft}var pt=new rt(j.D),dt=new st(j.D);function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=dt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yt=new st(I);function gt(){return yt}var mt=function(){function t(t){this.D=t?function(e,n){return t(e,n)||j.D(e.key,n.key)}:function(t,e){return j.D(t.key,e.key)},this.$t=lt(),this.Lt=new rt(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),wt=function(){function t(){this.qt=new rt(j.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):g():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht(function(e,n){t.push(n)}),t},t}(),_t=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=u}return t.Gt=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,mt.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Sn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,It.Zt(e,n)),new t(C.min(),r,gt(),ct(),vt())},t}(),It=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(N.h,n,vt(),vt(),vt())},t}(),Et=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Tt=function(t,e){this.targetId=t,this.oe=e},Nt=function(t,e,n,r){void 0===n&&(n=N.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},At=function(){function t(){this.ae=0,this.ce=St(),this.ue=N.h,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=vt(),e=vt(),n=vt();return this.ce.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:g()}}),new It(this.ue,this.he,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.ce=St()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Dt=function(){function t(t){this.Pe=t,this.ge=new Map,this.ye=ct(),this.Ve=xt(),this.pe=new st(I)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof pn?this.ve(r,t.re):t.re instanceof dn&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Se(s,t.key,t.re)}},t.prototype.De=function(t){var e=this;this.Ce(t,function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:g()}})},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach(function(t,r){n.xe(r)&&e(r)})},t.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(J(i))if(0===n){var o=new j(i.path);this.Se(e,o,new dn(o,C.min()))}else m(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach(function(r,i){var o=e.ke(i);if(o){if(r.te&&J(o.target)){var s=new j(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new dn(s,t))}r.fe&&(n.set(i,r.we()),r.Ee())}});var r=vt();this.Ve.forEach(function(t,n){var i=!0;n.Ft(function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)}),i&&(r=r.add(t))});var i=new bt(t,n,this.pe,this.ye,r);return this.ye=ct(),this.Ve=xt(),this.pe=new st(I),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new At,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new st(I),this.Ve=this.Ve.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new At),this.Pe.qe(t).forEach(function(n){e.Se(t,n,null)})},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function xt(){return new rt(j.D)}function St(){return new rt(j.D)}function kt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ot(t){var e=t.mapValue.fields.__previous_value__;return kt(e)?Ot(e):e}function Pt(t){var e=Bt(t.mapValue.fields.__local_write_time__.timestampValue);return new U(e.seconds,e.nanos)}var Lt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kt(t)?4:10:g()}function Rt(t,e){var n=Vt(t);if(n!==Vt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pt(t).isEqual(Pt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Bt(t.timestampValue),r=Bt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return zt(t.bytesValue).isEqual(zt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jt(t.geoPointValue.latitude)===jt(e.geoPointValue.latitude)&&jt(t.geoPointValue.longitude)===jt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jt(t.integerValue)===jt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jt(t.doubleValue),r=jt(e.doubleValue);return n===r?G(n)===G(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],Rt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(P(n)!==P(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rt(n[i],r[i])))return!1;return!0}(t,e);default:return g()}}function Ut(t,e){return void 0!==(t.values||[]).find(function(t){return Rt(t,e)})}function Ct(t,e){var n=Vt(t),r=Vt(e);if(n!==r)return I(n,r);switch(n){case 0:return 0;case 1:return I(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jt(t.integerValue||t.doubleValue),r=jt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return qt(t.timestampValue,e.timestampValue);case 4:return qt(Pt(t),Pt(e));case 5:return I(t.stringValue,e.stringValue);case 6:return function(t,e){var n=zt(t),r=zt(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return I(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=I(jt(t.latitude),jt(e.latitude));return 0!==n?n:I(jt(t.longitude),jt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ct(n[i],r[i]);if(o)return o}return I(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=I(r[s],o[s]);if(0!==u)return u;var a=Ct(n[r[s]],i[o[s]]);if(0!==a)return a}return I(r.length,o.length)}(t.mapValue,e.mapValue);default:throw g()}}function qt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return I(t,e);var n=Bt(t),r=Bt(e),i=I(n.seconds,r.seconds);return 0!==i?i:I(n.nanos,r.nanos)}function Mt(t){return Ft(t)}function Ft(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Bt(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zt(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.Y(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ft(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ft(t.fields[o])}return e+"}"}(t.mapValue):g();var e,n}function Bt(t){if(m(!!t),"string"==typeof t){var e=0,n=Lt.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function zt(t){return"string"==typeof t?N.fromBase64String(t):N.fromUint8Array(t)}function Gt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Kt(t){return!!t&&"integerValue"in t}function Wt(t){return!!t&&"arrayValue"in t}function Qt(t){return!!t&&"nullValue"in t}function Ht(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yt(t){return!!t&&"mapValue"in t}var Jt={asc:"ASCENDING",desc:"DESCENDING"},Xt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zt=function(t,e){this._=t,this.Ke=e};function $t(t){return{integerValue:""+t}}function te(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G(e)?"-0":e}}function ee(t,e){return K(e)?$t(e):te(t,e)}function ne(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function re(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function ie(t,e){return ne(t,e.v())}function oe(t){return m(!!t),C.V(function(t){var e=Bt(t);return new U(e.seconds,e.nanos)}(t))}function se(t,e){return function(t){return new M(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function ue(t){var e=M.q(t);return m(ke(e)),e}function ae(t,e){return se(t._,e.path)}function ce(t,e){var n=ue(e);return m(n.get(1)===t._.projectId),m(!n.get(3)&&!t._.database||n.get(3)===t._.database),new j(pe(n))}function he(t,e){return se(t._,e)}function fe(t){var e=ue(t);return 4===e.length?M.U():pe(e)}function le(t){return new M(["projects",t._.projectId,"databases",t._.database]).B()}function pe(t){return m(t.length>4&&"documents"===t.get(4)),t.N(5)}function de(t,e,n){return{name:ae(t,e),fields:n.proto.mapValue.fields}}function ve(t,e){var n;if(e instanceof tn)n={update:de(t,e.key,e.value)};else if(e instanceof un)n={delete:ae(t,e.key)};else if(e instanceof en)n={update:de(t,e.key,e.data),updateMask:Se(e.Qe)};else if(e instanceof rn)n={transform:{document:ae(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Re)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ue)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof qe)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Fe)return{fieldPath:e.field.B(),increment:n.We};throw g()}(0,t)})}};else{if(!(e instanceof an))return g();n={verify:ae(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ie(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.Ge)),n}function ye(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?We.updateTime(oe(t.updateTime)):void 0!==t.exists?We.exists(t.exists):We.ze()}(e.currentDocument):We.ze();if(e.update){e.update.name;var r=ce(t,e.update.name),i=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new ze(e.map(function(t){return B.G(t)}))}(e.updateMask);return new en(r,i,o,n)}return new tn(r,i,n)}if(e.delete){var s=ce(t,e.delete);return new un(s,n)}if(e.transform){var u=ce(t,e.transform.document),a=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue),n=new Re;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ue(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new qe(i)}else"increment"in e?n=new Fe(t,e.increment):g();var o=B.G(e.fieldPath);return new Ge(o,n)}(t,e)});return m(!0===n.exists),new rn(u,a)}if(e.verify){var c=ce(t,e.verify);return new an(c,n)}return g()}function ge(t,e){return{documents:[he(t,e.path)]}}function me(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=he(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=he(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ht(t.value))return{unaryFilter:{field:Ne(t.field),op:"IS_NAN"}};if(Qt(t.value))return{unaryFilter:{field:Ne(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ht(t.value))return{unaryFilter:{field:Ne(t.field),op:"IS_NOT_NAN"}};if(Qt(t.value))return{unaryFilter:{field:Ne(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ne(t.field),op:Te(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ne(t.field),direction:Ee(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ke||z(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=be(e.startAt)),e.endAt&&(n.structuredQuery.endAt=be(e.endAt)),n}function we(t){var e=fe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=_e(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new Qn(Ae(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return z(e="object"==a(t)?t.value:t)?null:e}(n.limit));var h=null;n.startAt&&(h=Ie(n.startAt));var f=null;return n.endAt&&(f=Ie(n.endAt)),Nn(gn(e,i,u,s,c,"F",h,f))}function _e(t){return t?void 0!==t.unaryFilter?[xe(t)]:void 0!==t.fieldFilter?[De(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return _e(t)}).reduce(function(t,e){return t.concat(e)}):g():[]}function be(t){return{before:t.before,values:t.position}}function Ie(t){var e=!!t.before,n=t.values||[];return new zn(n,e)}function Ee(t){return Jt[t]}function Te(t){return Xt[t]}function Ne(t){return{fieldPath:t.B()}}function Ae(t){return B.G(t.fieldPath)}function De(t){return Vn.create(Ae(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function xe(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ae(t.unaryFilter.field);return Vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ae(t.unaryFilter.field);return Vn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ae(t.unaryFilter.field);return Vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ae(t.unaryFilter.field);return Vn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Se(t){var e=[];return t.fields.forEach(function(t){return e.push(t.B())}),{fieldPaths:e}}function ke(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Oe=function(){this.He=void 0};function Pe(t,e,n){return t instanceof Re?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ue?Ce(t,e):t instanceof qe?Me(t,e):function(t,e){var n=Ve(t,e),r=Be(n)+Be(t.We);return Kt(n)&&Kt(t.We)?$t(r):te(t.serializer,r)}(t,e)}function Le(t,e,n){return t instanceof Ue?Ce(t,e):t instanceof qe?Me(t,e):n}function Ve(t,e){return t instanceof Fe?Kt(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var Re=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n}(Oe),Ue=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,e.__extends)(n,t),n}(Oe);function Ce(t,e){for(var n=je(e),r=function(t){n.some(function(e){return Rt(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qe=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,e.__extends)(n,t),n}(Oe);function Me(t,e){for(var n=je(e),r=function(t){n=n.filter(function(e){return!Rt(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fe=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return(0,e.__extends)(n,t),n}(Oe);function Be(t){return jt(t.integerValue||t.doubleValue)}function je(t){return Wt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ze=function(){function t(t){this.fields=t,t.sort(B.D)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ge=function(t,e){this.field=t,this.transform=e},Ke=function(t,e){this.version=t,this.transformResults=e},We=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Qe(t,e){return void 0!==t.updateTime?e instanceof pn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof pn}var He=function(){};function Ye(t,e,n){return t instanceof tn?function(t,e,n){return new pn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof en?function(t,e,n){if(!Qe(t.Ge,e))return new vn(t.key,n.version);var r=nn(t,e);return new pn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof rn?function(t,e,n){if(m(null!=n.transformResults),!Qe(t.Ge,e))return new vn(t.key,n.version);var r=on(t,e),i=function(t,e,n){var r=[];m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof pn&&(u=e.field(o.field)),r.push(Le(s,u,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=sn(t,r.data(),i);return new pn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new dn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Je(t,e,n,r){return t instanceof tn?function(t,e){if(!Qe(t.Ge,e))return e;var n=$e(e);return new pn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof en?function(t,e){if(!Qe(t.Ge,e))return e;var n=$e(e),r=nn(t,e);return new pn(t.key,n,r,{Je:!0})}(t,e):t instanceof rn?function(t,e,n,r){if(!Qe(t.Ge,e))return e;var i=on(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof pn&&(c=n.field(u.field)),null===c&&r instanceof pn&&(c=r.field(u.field)),i.push(Pe(a,c,e))}return i}(t.fieldTransforms,n,e,r),s=sn(t,i.data(),o);return new pn(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return Qe(t.Ge,e)?new dn(t.key,C.min()):e}(t,e)}function Xe(t,e){return t instanceof rn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof pn?e.field(o.field):void 0,u=Ve(o.transform,s||null);null!=u&&(n=null==n?(new hn).set(o.field,u):n.set(o.field,u))}return n?n.Xe():null}(t,e):null}function Ze(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ue&&e instanceof Ue||t instanceof qe&&e instanceof qe?E(t.elements,e.elements,Rt):t instanceof Fe&&e instanceof Fe?Rt(t.We,e.We):t instanceof Re&&e instanceof Re}(t.transform,e.transform)}(t,e)}))}function $e(t){return t instanceof pn?t.version:C.min()}var tn=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return(0,e.__extends)(n,t),n}(He),en=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return(0,e.__extends)(n,t),n}(He);function nn(t,e){return function(t,e){var n=new hn(e);return t.Qe.fields.forEach(function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Xe()}(t,e instanceof pn?e.data():cn.empty())}var rn=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=We.exists(!0),r}return(0,e.__extends)(n,t),n}(He);function on(t,e){return e}function sn(t,e,n){for(var r=new hn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var un=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return(0,e.__extends)(n,t),n}(He),an=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return(0,e.__extends)(n,t),n}(He),cn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Yt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},t.prototype.isEqual=function(t){return Rt(this.proto,t.proto)},t}(),hn=function(){function t(t){void 0===t&&(t=cn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Vt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.k(),e)},t.prototype.Xe=function(){var t=this.nn(B.U(),this.tn);return null!=t?new cn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Yt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function fn(t){var e=[];return L(t.fields||{},function(t,n){var r=new B([t]);if(Yt(n)){var i=fn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(r.child(u))}}else e.push(r)}),new ze(e)}var ln=function(t,e){this.key=t,this.version=e},pn=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,e.__extends)(n,t),n.prototype.field=function(t){return this.sn.field(t)},n.prototype.data=function(){return this.sn},n.prototype.rn=function(){return this.sn.proto},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}(ln),dn=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,e.__extends)(n,t),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(ln),vn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(ln),yn=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=u,this.cn=null,this.un=null,this.startAt,this.endAt};function gn(t,e,n,r,i,o,s,u){return new yn(t,e,n,r,i,o,s,u)}function mn(t){return new yn(t)}function wn(t){return!z(t.limit)&&"F"===t.an}function _n(t){return!z(t.limit)&&"L"===t.an}function bn(t){return t.on.length>0?t.on[0].field:null}function In(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function En(t){return null!==t.collectionGroup}function Tn(t){var e=w(t);if(null===e.cn){e.cn=[];var n=In(e),r=bn(e);if(null!==n&&null===r)n.W()||e.cn.push(new Qn(n)),e.cn.push(new Qn(B.j(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var u=s[o];e.cn.push(u),u.field.W()&&(i=!0)}if(!i){var a=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new Qn(B.j(),a))}}}return e.cn}function Nn(t){var e=w(t);if(!e.un)if("F"===e.an)e.un=Q(e.path,e.collectionGroup,Tn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Tn(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Qn(o.field,s))}var u=e.endAt?new zn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new zn(e.startAt.position,!e.startAt.before):null;e.un=Q(e.path,e.collectionGroup,n,e.filters,e.limit,u,a)}return e.un}function An(t,e,n){return new yn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dn(t,e){return new yn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function xn(t,e){return new yn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Sn(t,e){return Y(Nn(t),Nn(e))&&t.an===e.an}function kn(t){return H(Nn(t))+"|lt:"+t.an}function On(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.B()+" "+e.op+" "+Mt(e.value);var e}).join(", ")+"]"),z(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.B()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Gn(t.startAt)),t.endAt&&(e+=", endAt: "+Gn(t.endAt)),"Target("+e+")"}(Nn(t))+"; limitType="+t.an+")"}function Pn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.J(t.collectionGroup)&&t.path.M(n):j.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Kn(t.startAt,Tn(t),e)||t.endAt&&Kn(t.endAt,Tn(t),e))}(t,e)}function Ln(t){return function(e,n){for(var r=!1,i=0,o=Tn(t);i<o.length;i++){var s=o[i],u=Hn(s,e,n);if(0!==u)return u;r=r||s.field.W()}return 0}}var Vn=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,e.__extends)(n,t),n.create=function(t,e,r){return t.W()?"in"===e||"not-in"===e?this.ln(t,e,r):new Rn(t,e,r):"array-contains"===e?new Mn(t,r):"in"===e?new Fn(t,r):"not-in"===e?new Bn(t,r):"array-contains-any"===e?new jn(t,r):new n(t,e,r)},n.ln=function(t,e,n){return"in"===e?new Un(t,n):new Cn(t,n)},n.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Ct(e,this.value)):null!==e&&Vt(this.value)===Vt(e)&&this._n(Ct(e,this.value))},n.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return g()}},n.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),Rn=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=j.Y(r.referenceValue),i}return(0,e.__extends)(n,t),n.prototype.matches=function(t){var e=j.D(t.key,this.key);return this._n(e)},n}(Vn),Un=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qn("in",n),r}return(0,e.__extends)(n,t),n.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},n}(Vn),Cn=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qn("not-in",n),r}return(0,e.__extends)(n,t),n.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},n}(Vn);function qn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return j.Y(t.referenceValue)})}var Mn=function(t){function n(e,n){return t.call(this,e,"array-contains",n)||this}return(0,e.__extends)(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return Wt(e)&&Ut(e.arrayValue,this.value)},n}(Vn),Fn=function(t){function n(e,n){return t.call(this,e,"in",n)||this}return(0,e.__extends)(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ut(this.value.arrayValue,e)},n}(Vn),Bn=function(t){function n(e,n){return t.call(this,e,"not-in",n)||this}return(0,e.__extends)(n,t),n.prototype.matches=function(t){if(Ut(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ut(this.value.arrayValue,e)},n}(Vn),jn=function(t){function n(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,e.__extends)(n,t),n.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Wt(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ut(e.value.arrayValue,t)})},n}(Vn),zn=function(t,e){this.position=t,this.before=e};function Gn(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mt(t)}).join(",")}function Kn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.W()?j.D(j.Y(s.referenceValue),n.key):Ct(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Wn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rt(t.position[n],e.position[n]))return!1;return!0}var Qn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Hn(t,e,n){var r=t.field.W()?j.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ct(r,i):g()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function Yn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,function(){return e.An=Date.now(),t()}),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Zn=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&g(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}})},t.prototype.xn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.On=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.On(r)},t}(),$n=function(){function n(t,e,r){this.name=t,this.version=e,this.Mn=r,12.2===n.$n((0,i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.delete=function(t){return p("SimpleDb","Removing database:",t),or(window.indexedDB.deleteDatabase(t)).xn()},n.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(n.Bn())return!0;var t=(0,i.getUA)(),e=n.$n(t),r=0<e&&e<10,o=n.qn(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},n.Bn=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.Un)},n.Kn=function(t,e){return t.store(e)},n.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},n.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},n.prototype.Qn=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(e,n){var i=indexedDB.open(r.name,r.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){n(new er(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var r=e.target.error;"VersionError"===r.name?n(new h(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new er(t,r))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;r.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,r.version).next(function(){p("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=e.sent(),e.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return r.Wn(t)}),this.db)]}})})},n.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},n.prototype.runTransaction=function(t,n,r,i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,s,u,c,h;return(0,e.__generator)(this,function(f){switch(f.label){case 0:o="readonly"===n,s=0,u=function(){var n,u,a,h,f;return(0,e.__generator)(this,function(e){switch(e.label){case 0:++s,e.label=1;case 1:return e.trys.push([1,4,,5]),[4,c.Qn(t)];case 2:return c.db=e.sent(),n=rr.open(c.db,t,o?"readonly":"readwrite",r),u=i(n).catch(function(t){return n.abort(t),Zn.reject(t)}).xn(),a={},u.catch(function(){}),[4,n.Gn];case 3:return[2,(a.value=(e.sent(),u),a)];case 4:return h=e.sent(),f="FirebaseError"!==h.name&&s<3,p("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),c.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}})},c=this,f.label=1;case 1:return[5,u()];case 2:if("object"==a(h=f.sent()))return[2,h.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},n.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},n}(),tr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return or(this.zn.delete())},t}(),er=function(t){function n(e,n){var r=this;return(r=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,e.__extends)(n,t),n}(h);function nr(t){return"IndexedDbTransactionError"===t.name}var rr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Jn,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new er(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=ur(e.target.error);n.Zn.reject(new er(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new er(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ir(e)},t}(),ir=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),or(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),or(this.store.add(t))},t.prototype.get=function(t){var e=this;return or(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),or(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),or(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,function(t,e,n){return n.delete()})},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Zn(function(n,r){e.onerror=function(t){var e=ur(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.es=function(t,e){var n=[];return new Zn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tr(i),s=e(i.primaryKey,i.value,o);if(s instanceof Zn){var u=s.catch(function(t){return o.done(),Zn.reject(t)});n.push(u)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}}).next(function(){return Zn.On(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function or(t){return new Zn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ur(t.target.error);n(e)}})}var sr=!1;function ur(t){var e=$n.$n((0,i.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sr||(sr=!0,setTimeout(function(){throw r},0)),r}}return t}function ar(){return"undefined"!=typeof window?window:null}function cr(){return"undefined"!=typeof document?document:null}var hr=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new Jn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),fr=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new Xn(this,"async_queue_retry"),this.Vs=function(){var e=cr();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=cr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=cr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Ts.push(t),e.Ns()})},t.prototype.Ns=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:if(0===this.Ts.length)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return e.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!nr(t=e.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.ys.Pn(function(){return n.Ns()}),e.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,n=this.Es.then(function(){return e.Ps=!0,t().catch(function(t){throw e.Rs=t,e.Ps=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ps=!1,t})});return this.Es=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=hr._s(this,t,e,n,function(t){return r.xs(t)});return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&g()},t.prototype.Fs=function(){},t.prototype.Os=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var t;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.Os().then(function(){e.As.sort(function(t,e){return t.us-e.us});for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()})},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function lr(t,e){if(d("AsyncQueue",e+": "+t),nr(t))return new h(c.UNAVAILABLE,e+": "+t);throw t}var pr=function(){this.Ls=void 0,this.listeners=[]},dr=function(){this.Bs=new R(function(t){return kn(t)},Sn),this.onlineState="Unknown",this.qs=new Set};function vr(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a,c;return(0,e.__generator)(this,function(e){switch(e.label){case 0:if(r=w(t),i=n.query,o=!1,(s=r.Bs.get(i))||(o=!0,s=new pr),!o)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),u=s,[4,r.Us(i)];case 2:return u.Ls=e.sent(),[3,4];case 3:return a=e.sent(),c=lr(a,"Initialization of query '"+On(n.query)+"' failed"),[2,void n.onError(c)];case 4:return r.Bs.set(i,s),s.listeners.push(n),n.Ks(r.onlineState),s.Ls&&n.Qs(s.Ls)&&wr(r),[2]}})})}function yr(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u;return(0,e.__generator)(this,function(e){return r=w(t),i=n.query,o=!1,(s=r.Bs.get(i))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),o?[2,(r.Bs.delete(i),r.Ws(i))]:[2]})})}function gr(t,e){for(var n=w(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=s.query,a=n.Bs.get(u);if(a){for(var c=0,h=a.listeners;c<h.length;c++)h[c].Qs(s)&&(r=!0);a.Ls=s}}r&&wr(n)}function mr(t,e,n){var r=w(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function wr(t){t.qs.forEach(function(t){t.next()})}var _r=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new _t(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){if(t.docChanges.length>0)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=_t.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),br=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();br.UNAUTHENTICATED=new br(null),br.ei=new br("google-credentials-uid"),br.ni=new br("first-party-uid");var Ir=function(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t},Er=function(){function t(){this.ii=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ri=function(){},t.prototype.oi=function(t){this.ii=t,t(br.UNAUTHENTICATED)},t.prototype.ai=function(){this.ii=null},t}(),Tr=function(){function t(t){var e=this;this.ci=null,this.currentUser=br.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then(function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.hi!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new Ir(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.ri=function(){this.forceRefresh=!0},t.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},t.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},t.prototype.li=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new br(t)},t}(),Nr=function(){function t(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=br.ni}return Object.defineProperty(t.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ar=function(){function t(t,e){this._i=t,this.fi=e}return t.prototype.getToken=function(){return Promise.resolve(new Nr(this._i,this.fi))},t.prototype.oi=function(t){t(br.ni)},t.prototype.ai=function(){},t.prototype.ri=function(){},t}(),Dr=function(){function t(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}return t.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ye(o,e,r[i]))}return e},t.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Je(i,e,e,this.di))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=Je(a,e,o,this.di))}return e},t.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},vt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,function(t,e){return Ze(t,e)})&&E(this.baseMutations,t.baseMutations,function(t,e){return Ze(t,e)})},t}(),xr=function(){function t(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=pt,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Sr=function(){function t(){this.Ri=new R(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Pi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),t.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},t.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},t.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?Zn.resolve(n):this.vi(t,e)},t.prototype.getEntries=function(t,e){return this.Si(t,e)},t.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},t.prototype.Vi=function(){},t}(),kr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Or=function(){function t(){this.Ci=[]}return t.prototype.Ni=function(t){this.Ci.push(t)},t.prototype.xi=function(){this.Ci.forEach(function(t){return t()})},t}(),Pr=function(){function t(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}return t.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next(function(r){return n.Li(t,e,r)})},t.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t})},t.prototype.Bi=function(t,e,n){var r=ht();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ti(t,e);r=r.ot(t,e)}),r},t.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next(function(e){return n.Ui(t,e)})},t.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next(function(r){var i=n.Bi(t,e,r),o=ct();return i.forEach(function(t,e){e||(e=new dn(t,C.min())),o=o.ot(t,e)}),o})},t.prototype.Qi=function(t,e,n){return function(t){return j.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Wi(t,e.path):En(e)?this.ji(t,e,n):this.Gi(t,e,n)},t.prototype.Wi=function(t,e){return this.Mi(t,new j(e)).next(function(t){var e=lt();return t instanceof pn&&(e=e.ot(t.key,t)),e})},t.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,o=lt();return this.ki.zi(t,i).next(function(s){return Zn.forEach(s,function(s){var u=function(t,e){return new yn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Gi(t,u,n).next(function(t){t.forEach(function(t,e){o=o.ot(t,e)})})}).next(function(){return o})})},t.prototype.Gi=function(t,e,n){var r,i,o=this;return this.Fi.Qi(t,e,n).next(function(n){return r=n,o.Oi.Hi(t,e)}).next(function(e){return i=e,o.Yi(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=r.get(c),f=Je(a,h,h,o.di);r=f instanceof pn?r.ot(c,f):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Pn(e,n)||(r=r.remove(t))}),r})},t.prototype.Yi=function(t,e,n){for(var r=vt(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof en&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.Fi.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof pn&&(c=c.ot(t,e))}),c})},t}(),Lr=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}return t.Zi=function(e,n){for(var r=vt(),i=vt(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Vr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}return t.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},t}();function Rr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=I(n,i);return 0===s?I(r,o):s}Vr.ir=-1;var Ur=function(){function t(t){this.rr=t,this.buffer=new st(Rr),this.ar=0}return t.prototype.cr=function(){return++this.ar},t.prototype.ur=function(t){var e=[t,this.cr()];if(this.buffer.size<this.rr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Rr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Cr={hr:!1,lr:0,_r:0,dr:0},qr=function(){function t(t,e,n){this.wr=t,this.Er=e,this.Tr=n}return t.Ir=function(e){return new t(e,t.mr,t.Ar)},t}();qr.mr=10,qr.Ar=1e3,qr.Rr=new qr(41943040,qr.mr,qr.Ar),qr.Pr=new qr(-1,0,0);var Mr=function(){function t(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}return t.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},t.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(t.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),t.prototype.pr=function(t){var n=this,r=this.yr?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",r,function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:this.Vr=null,this.yr=!0,e.label=1;case 1:return e.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return e.sent(),[3,7];case 3:return nr(n=e.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n),[3,6]):[3,4];case 4:return[4,oo(n)];case 5:e.sent(),e.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return e.sent(),[2]}})})})},t}(),Fr=function(){function t(t,e){this.Sr=t,this.params=e}return t.prototype.Dr=function(t,e){return this.Sr.Cr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Nr=function(t,e){var n=this;if(0===e)return Zn.resolve(Vr.ir);var r=new Ur(e);return this.Sr.Ce(t,function(t){return r.ur(t.sequenceNumber)}).next(function(){return n.Sr.Fr(t,function(t){return r.ur(t)})}).next(function(){return r.maxValue})},t.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},t.prototype.kr=function(t,e){return this.Sr.kr(t,e)},t.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Zn.resolve(Cr)):this.$r(t).next(function(r){return r<n.params.wr?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),Cr):n.Lr(t,e)})},t.prototype.$r=function(t){return this.Sr.$r(t)},t.prototype.Lr=function(t,e){var n,i,o,s,u,a,c,h=this,f=Date.now();return this.Dr(t,this.params.Er).next(function(e){return e>h.params.Tr?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Tr+" from "+e),i=h.params.Tr):i=e,s=Date.now(),h.Nr(t,i)}).next(function(r){return n=r,u=Date.now(),h.Or(t,n,e)}).next(function(e){return o=e,a=Date.now(),h.kr(t,n)}).next(function(t){return c=Date.now(),l()<=r.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+i+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-f)+"ms"),Zn.resolve({hr:!0,lr:i,_r:o,dr:t})})},t}();function Br(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zr(e)),e=jr(t.get(n),e);return zr(e)}function jr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function zr(t){return t+""}function Gr(t){var e=t.length;if(m(e>=2),2===e)return m(""===t.charAt(0)&&""===t.charAt(1)),M.U();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&g(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:g()}o=s+2}return new M(r)}var Kr=function(t){this.Br=t};function Wr(t,e){if(e.document)return function(t,e,n){var r=ce(t,e.name),i=oe(e.updateTime),o=new cn({mapValue:{fields:e.fields}});return new pn(r,i,o,{hasCommittedMutations:!!n})}(t.Br,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=j.Z(e.noDocument.path),r=Xr(e.noDocument.readTime);return new dn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=j.Z(e.unknownDocument.path),o=Xr(e.unknownDocument.version);return new vn(i,o)}return g()}function Qr(t,e,n){var r=Hr(n),i=e.key.path.F().L();if(e instanceof pn){var o=function(t,e){return{name:ae(t,e.key),fields:e.rn().mapValue.fields,updateTime:ne(t,e.version.v())}}(t.Br,e),s=e.hasCommittedMutations;return new Ei(null,null,o,s,r,i)}if(e instanceof dn){var u=e.key.path.L(),a=Jr(e.version),c=e.hasCommittedMutations;return new Ei(null,new bi(u,a),null,c,r,i)}if(e instanceof vn){var h=e.key.path.L(),f=Jr(e.version);return new Ei(new Ii(h,f),null,null,!0,r,i)}return g()}function Hr(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Yr(t){var e=new U(t[0],t[1]);return C.V(e)}function Jr(t){var e=t.v();return new yi(e.seconds,e.nanoseconds)}function Xr(t){var e=new U(t.seconds,t.nanoseconds);return C.V(e)}function Zr(t,e){var n=(e.baseMutations||[]).map(function(e){return ye(t.Br,e)}),r=e.mutations.map(function(e){return ye(t.Br,e)}),i=U.fromMillis(e.localWriteTimeMs);return new Dr(e.batchId,i,n,r)}function $r(t){var e,n,r=Xr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Xr(t.lastLimboFreeSnapshotVersion):C.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=Nn(mn(fe(n.documents[0])))):e=we(t.query),new $(e,t.targetId,0,t.lastListenSequenceNumber,r,i,N.fromBase64String(t.resumeToken))}function ti(t,e){var n,r=Jr(e.nt),i=Jr(e.lastLimboFreeSnapshotVersion);n=J(e.target)?ge(t.Br,e.target):me(t.Br,e.target);var o=e.resumeToken.toBase64();return new Ni(e.targetId,H(e.target),r,o,e.sequenceNumber,i,n)}var ei=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}return t.Kr=function(e,n,r,i){return m(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ii(t).rs({index:wi.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Wr=function(t,e,n,r){var i=this,o=oi(t),s=ii(t);return s.add({}).next(function(u){m("number"==typeof u);for(var a=new Dr(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ve(t.Br,e)}),i=n.mutations.map(function(e){return ve(t.Br,e)});return new wi(e,n.batchId,n.di.toMillis(),r,i)}(i.serializer,i.userId,a),h=[],f=new st(function(t,e){return I(t.B(),e.B())}),l=0,p=r;l<p.length;l++){var d=p[l],v=_i.key(i.userId,d.key.path,u);f=f.add(d.key.path.F()),h.push(s.put(c)),h.push(o.put(v,_i.PLACEHOLDER))}return f.forEach(function(e){h.push(i.ki.jr(t,e))}),t.Ni(function(){i.Ur[u]=a.keys()}),Zn.On(h).next(function(){return a})})},t.prototype.Gr=function(t,e){var n=this;return ii(t).get(e).next(function(t){return t?(m(t.userId===n.userId),Zr(n.serializer,t)):null})},t.prototype.zr=function(t,e){var n=this;return this.Ur[e]?Zn.resolve(this.Ur[e]):this.Gr(t,e).next(function(t){if(t){var r=t.keys();return n.Ur[e]=r,r}return null})},t.prototype.Hr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ii(t).rs({index:wi.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=Zr(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ii(t).rs({index:wi.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ii(t).ts(wi.userMutationsIndex,n).next(function(t){return t.map(function(t){return Zr(e.serializer,t)})})},t.prototype.$i=function(t,e){var n=this,r=_i.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return oi(t).rs({range:i},function(r,i,s){var u=r[0],a=r[1],c=r[2],h=Gr(a);if(u===n.userId&&e.path.isEqual(h))return ii(t).get(c).next(function(t){if(!t)throw g();m(t.userId===n.userId),o.push(Zr(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.Ki=function(t,e){var n=this,r=new st(I),i=[];return e.forEach(function(e){var o=_i.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=oi(t).rs({range:s},function(t,i,o){var s=t[0],u=t[1],a=t[2],c=Gr(u);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()});i.push(u)}),Zn.On(i).next(function(){return n.Xr(t,r)})},t.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,o=_i.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new st(I);return oi(t).rs({range:s},function(t,e,o){var s=t[0],a=t[1],c=t[2],h=Gr(a);s===n.userId&&r.M(h)?h.length===i&&(u=u.add(c)):o.done()}).next(function(){return n.Xr(t,u)})},t.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ii(t).get(e).next(function(t){if(null===t)throw g();m(t.userId===n.userId),r.push(Zr(n.serializer,t))}))}),Zn.On(i).next(function(){return r})},t.prototype.Zr=function(t,e){var n=this;return ri(t.eo,this.userId,e).next(function(r){return t.Ni(function(){n.no(e.batchId)}),Zn.forEach(r,function(e){return n.qr.so(t,e)})})},t.prototype.no=function(t){delete this.Ur[t]},t.prototype.io=function(t){var e=this;return this.Qr(t).next(function(n){if(!n)return Zn.resolve();var r=IDBKeyRange.lowerBound(_i.prefixForUser(e.userId)),i=[];return oi(t).rs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Gr(t[1]);i.push(o)}else r.done()}).next(function(){m(0===i.length)})})},t.prototype.ro=function(t,e){return ni(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return si(t).get(this.userId).next(function(t){return t||new mi(e.userId,-1,"")})},t}();function ni(t,e,n){var r=_i.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return oi(t).rs({range:o,ss:!0},function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(s=!0),r.done()}).next(function(){return s})}function ri(t,e,n){var r=t.store(wi.store),i=t.store(_i.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.rs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){m(1===u)}));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=_i.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Zn.On(o).next(function(){return c})}function ii(t){return Bi.Kn(t,wi.store)}function oi(t){return Bi.Kn(t,_i.store)}function si(t){return Bi.Kn(t,mi.store)}var ui=function(){function t(t,e){this.serializer=t,this.ki=e}return t.prototype.yi=function(t,e,n){return hi(t).put(fi(e),n)},t.prototype.pi=function(t,e){var n=hi(t),r=fi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.ao(t,r)})},t.prototype.bi=function(t,e){var n=this;return hi(t).get(fi(e)).next(function(t){return n.co(t)})},t.prototype.uo=function(t,e){var n=this;return hi(t).get(fi(e)).next(function(t){var e=n.co(t);return e?{ho:e,size:li(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ht();return this.lo(t,e,function(t,e){var i=n.co(e);r=r.ot(t,i)}).next(function(){return r})},t.prototype._o=function(t,e){var n=this,r=ht(),i=new rt(j.D);return this.lo(t,e,function(t,e){var o=n.co(e);o?(r=r.ot(t,o),i=i.ot(t,li(e))):(r=r.ot(t,null),i=i.ot(t,0))}).next(function(){return{fo:r,do:i}})},t.prototype.lo=function(t,e,n){if(e.P())return Zn.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return hi(t).rs({range:r},function(t,e,r){for(var s=j.Z(t);o&&j.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()}).next(function(){for(;o;)n(o,null),o=i.At()?i.It():null})},t.prototype.Qi=function(t,e,n){var r=this,i=lt(),o=e.path.length+1,s={};if(n.isEqual(C.min())){var u=e.path.L();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.L(),c=Hr(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Ei.collectionReadTimeIndex}return hi(t).rs(s,function(t,n,s){if(t.length===o){var u=Wr(r.serializer,n);e.path.M(u.key.path)?u instanceof pn&&Pn(e,u)&&(i=i.ot(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.wo=function(t){return new ai(this,!!t&&t.Eo)},t.prototype.To=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ci(t).get(Ti.key).next(function(t){return m(!!t),t})},t.prototype.ao=function(t,e){return ci(t).put(Ti.key,e)},t.prototype.co=function(t){if(t){var e=Wr(this.serializer,t);return e instanceof dn&&e.version.isEqual(C.min())?null:e}return null},t}(),ai=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).Io=e,r.Eo=n,r.mo=new R(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,e.__extends)(n,t),n.prototype.Di=function(t){var e=this,n=[],r=0,i=new st(function(t,e){return I(t.B(),e.B())});return this.Ri.forEach(function(o,s){var u=e.mo.get(o);if(s){var a=Qr(e.Io.serializer,s,e.readTime);i=i.add(o.path.F());var c=li(a);r+=c-u,n.push(e.Io.yi(t,o,a))}else if(r-=u,e.Eo){var h=Qr(e.Io.serializer,new dn(o,C.min()),e.readTime);n.push(e.Io.yi(t,o,h))}else n.push(e.Io.pi(t,o))}),i.forEach(function(r){n.push(e.Io.ki.jr(t,r))}),n.push(this.Io.updateMetadata(t,r)),Zn.On(n)},n.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next(function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)})},n.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next(function(t){var e=t.fo;return t.do.forEach(function(t,e){n.mo.set(t,e)}),e})},n}(Sr);function ci(t){return Bi.Kn(t,Ti.store)}function hi(t){return Bi.Kn(t,Ei.store)}function fi(t){return t.path.L()}function li(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}var pi=function(){function t(){this.Ao=new di}return t.prototype.jr=function(t,e){return this.Ao.add(e),Zn.resolve()},t.prototype.zi=function(t,e){return Zn.resolve(this.Ao.getEntries(e))},t}(),di=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new st(M.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.k(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new st(M.D)).L()},t}(),vi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=10);var o=new rr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gi.store)}(t),function(t){t.createObjectStore(mi.store,{keyPath:mi.keyPath}),t.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(_i.store)}(t),Si(t),function(t){t.createObjectStore(Ei.store)}(t));var s=Zn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ai.store),t.deleteObjectStore(Ni.store),t.deleteObjectStore(Di.store)}(t),Si(t)),s=s.next(function(){return t=o.store(Di.store),e=new Di(0,0,C.min().v(),0),t.put(Di.key,e);var t,e})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(wi.store).ts().next(function(n){t.deleteObjectStore(wi.store),t.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0});var r=e.store(wi.store),i=n.map(function(t){return r.put(t)});return Zn.On(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ki.store,{keyPath:ki.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ti.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ei.store);e.createIndex(Ei.readTimeIndex,Ei.readTimeIndexPath,{unique:!1}),e.createIndex(Ei.collectionReadTimeIndex,Ei.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ei.store).rs(function(t,n){e+=li(n)}).next(function(){var n=new Ti(e);return t.store(Ti.store).put(Ti.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(mi.store),r=t.store(wi.store);return n.ts().next(function(n){return Zn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(wi.userMutationsIndex,i).next(function(r){return Zn.forEach(r,function(r){m(r.userId===n.userId);var i=Zr(e.serializer,r);return ri(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ai.store),n=t.store(Ei.store);return t.store(Di.store).get(Di.key).next(function(t){var r=[];return n.rs(function(n,i){var o=new M(n),s=[0,Br(o)];r.push(e.get(s).next(function(n){return n?Zn.resolve():function(n){return e.put(new Ai(0,Br(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Zn.On(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(xi.store,{keyPath:xi.keyPath});var n=e.store(xi.store),r=new di,i=function(t){if(r.add(t)){var e=t.k(),i=t.F();return n.put({collectionId:e,parent:Br(i)})}};return e.store(Ei.store).rs({ss:!0},function(t,e){var n=new M(t);return i(n.F())}).next(function(){return e.store(_i.store).rs({ss:!0},function(t,e){t[0];var n=t[1],r=(t[2],Gr(n));return i(r.F())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ni.store);return n.rs(function(t,r){var i=$r(r),o=ti(e.serializer,i);return n.put(o)})},t}(),yi=function(t,e){this.seconds=t,this.nanoseconds=e},gi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gi.store="owner",gi.key="owner";var mi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mi.store="mutationQueues",mi.keyPath="userId";var wi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};wi.store="mutations",wi.keyPath="batchId",wi.userMutationsIndex="userMutationsIndex",wi.userMutationsKeyPath=["userId","batchId"];var _i=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Br(e)]},t.key=function(t,e,n){return[t,Br(e),n]},t}();_i.store="documentMutations",_i.PLACEHOLDER=new _i;var bi=function(t,e){this.path=t,this.readTime=e},Ii=function(t,e){this.path=t,this.version=e},Ei=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ei.store="remoteDocuments",Ei.readTimeIndex="readTimeIndex",Ei.readTimeIndexPath="readTime",Ei.collectionReadTimeIndex="collectionReadTimeIndex",Ei.collectionReadTimeIndexPath=["parentPath","readTime"];var Ti=function(t){this.byteSize=t};Ti.store="remoteDocumentGlobal",Ti.key="remoteDocumentGlobalKey";var Ni=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ni.store="targets",Ni.keyPath="targetId",Ni.queryTargetsIndexName="queryTargetsIndex",Ni.queryTargetsKeyPath=["canonicalId","targetId"];var Ai=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ai.store="targetDocuments",Ai.keyPath=["targetId","path"],Ai.documentTargetsIndex="documentTargetsIndex",Ai.documentTargetsKeyPath=["path","targetId"];var Di=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Di.key="targetGlobalKey",Di.store="targetGlobal";var xi=function(t,e){this.collectionId=t,this.parent=e};function Si(t){t.createObjectStore(Ai.store,{keyPath:Ai.keyPath}).createIndex(Ai.documentTargetsIndex,Ai.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ni.store,{keyPath:Ni.keyPath}).createIndex(Ni.queryTargetsIndexName,Ni.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Di.store)}xi.store="collectionParents",xi.keyPath=["collectionId","parent"];var ki=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ki.store="clientMetadata",ki.keyPath="clientId";var Oi=(0,e.__spreadArrays)((0,e.__spreadArrays)((0,e.__spreadArrays)([mi.store,wi.store,_i.store,Ei.store,Ni.store,gi.store,Di.store,Ai.store],[ki.store]),[Ti.store]),[xi.store]),Pi=function(){function t(){this.Ro=new di}return t.prototype.jr=function(t,e){var n=this;if(!this.Ro.has(e)){var r=e.k(),i=e.F();t.Ni(function(){n.Ro.add(e)});var o={collectionId:r,parent:Br(i)};return Li(t).put(o)}return Zn.resolve()},t.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[T(e),""],!1,!0);return Li(t).ts(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Gr(o.parent))}return n})},t}();function Li(t){return Bi.Kn(t,xi.store)}var Vi=function(){function t(t){this.Po=t}return t.prototype.next=function(){return this.Po+=2,this.Po},t.yo=function(){return new t(0)},t.Vo=function(){return new t(-1)},t}(),Ri=function(){function t(t,e){this.qr=t,this.serializer=e}return t.prototype.po=function(t){var e=this;return this.bo(t).next(function(n){var r=new Vi(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next(function(){return n.highestTargetId})})},t.prototype.So=function(t){return this.bo(t).next(function(t){return C.V(new U(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Do=function(t){return this.bo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)})},t.prototype.No=function(t,e){var n=this;return this.xo(t,e).next(function(){return n.bo(t).next(function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)})})},t.prototype.Oo=function(t,e){return this.xo(t,e)},t.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next(function(){return Ui(t).delete(e.targetId)}).next(function(){return n.bo(t)}).next(function(e){return m(e.targetCount>0),e.targetCount-=1,n.vo(t,e)})},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return Ui(t).rs(function(s,u){var a=$r(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.ko(t,a)))}).next(function(){return Zn.On(o)}).next(function(){return i})},t.prototype.Ce=function(t,e){return Ui(t).rs(function(t,n){var r=$r(n);e(r)})},t.prototype.bo=function(t){return Ci(t).get(Di.key).next(function(t){return m(null!==t),t})},t.prototype.vo=function(t,e){return Ci(t).put(Di.key,e)},t.prototype.xo=function(t,e){return Ui(t).put(ti(this.serializer,e))},t.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.$o=function(t){return this.bo(t).next(function(t){return t.targetCount})},t.prototype.Lo=function(t,e){var n=H(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ui(t).rs({range:r,index:Ni.queryTargetsIndexName},function(t,n,r){var o=$r(n);Y(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Bo=function(t,e,n){var r=this,i=[],o=qi(t);return e.forEach(function(e){var s=Br(e.path);i.push(o.put(new Ai(n,s))),i.push(r.qr.qo(t,n,e))}),Zn.On(i)},t.prototype.Uo=function(t,e,n){var r=this,i=qi(t);return Zn.forEach(e,function(e){var o=Br(e.path);return Zn.On([i.delete([n,o]),r.qr.Ko(t,n,e)])})},t.prototype.Mo=function(t,e){var n=qi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Qo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qi(t),i=vt();return r.rs({range:n,ss:!0},function(t,e,n){var r=Gr(t[1]),o=new j(r);i=i.add(o)}).next(function(){return i})},t.prototype.ro=function(t,e){var n=Br(e.path),r=IDBKeyRange.bound([n],[T(n)],!1,!0),i=0;return qi(t).rs({index:Ai.documentTargetsIndex,ss:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ue=function(t,e){return Ui(t).get(e).next(function(t){return t?$r(t):null})},t}();function Ui(t){return Bi.Kn(t,Ni.store)}function Ci(t){return Bi.Kn(t,Di.store)}function qi(t){return Bi.Kn(t,Ai.store)}var Mi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fi=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).eo=e,r.Wo=n,r}return(0,e.__extends)(n,t),n}(Or),Bi=function(){function t(e,n,r,i,o,s,u,a,f,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=u,this.jo=f,this.Go=l,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!t.Ln())throw new h(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new Gi(this,i),this.ea=n+"main",this.serializer=new Kr(a),this.na=new $n(this.ea,10,new vi(this.serializer)),this.sa=new Ri(this.qr,this.serializer),this.ki=new Pi,this.Fi=function(t,e){return new ui(t,e)}(this.serializer,this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Fi)return $n.Kn(t.eo,e);throw g()},t.prototype.start=function(){var t=this;return this.ra().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,Mi);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.sa.Do(e)})}).then(function(e){t.zo=new Vr(e,t.jo)}).then(function(){t.Ho=!0}).catch(function(e){return t.na&&t.na.close(),Promise.reject(e)})},t.prototype.ua=function(t){var n=this;return this.ta=function(r){return(0,e.__awaiter)(n,void 0,void 0,function(){return(0,e.__generator)(this,function(e){return this.br?[2,t(r)]:[2]})})},t(this.isPrimary)},t.prototype.ha=function(t){var n=this;this.na.jn(function(r){return(0,e.__awaiter)(n,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return null===r.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.la=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return zi(e).put(new ki(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t._a(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.ta(!1)}))})}).next(function(){return t.fa(e)}).next(function(n){return t.isPrimary&&!n?t.da(e).next(function(){return!1}):!!n&&t.wa(e).next(function(){return!0})})}).catch(function(e){if(nr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.ta(e)}),t.isPrimary=e})},t.prototype._a=function(t){var e=this;return ji(t).get(gi.key).next(function(t){return Zn.resolve(e.Ea(t))})},t.prototype.Ta=function(t){return zi(t).delete(this.clientId)},t.prototype.Ia=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Kn(e,ki.store);return n.ts().next(function(t){var e=s.Aa(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Zn.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(n=e.sent(),this.ia)for(r=0,i=n;r<i.length;r++)o=i[r],this.ia.removeItem(this.Ra(o.clientId));e.label=2;case 2:return[2]}})})},t.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,function(){return t.ra().then(function(){return t.Ia()}).then(function(){return t.ca()})})},t.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.fa=function(t){var e=this;return this.Go?Zn.resolve(!0):ji(t).get(gi.key).next(function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,Mi);return!1}}return!(!e.networkEnabled||!e.inForeground)||zi(t).ts().next(function(t){return void 0===e.Aa(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ga=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[gi.store,ki.store],function(e){var n=new Fi(e,Vr.ir);return t.da(n).next(function(){return t.Ta(n)})})];case 1:return e.sent(),this.na.close(),this.ba(),[2]}})})},t.prototype.Aa=function(t,e){var n=this;return t.filter(function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)})},t.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return zi(e).ts().next(function(e){return t.Aa(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.Sa=function(t){return ei.Kr(t,this.serializer,this.ki,this.qr)},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.Na=function(){return this.ki},t.prototype.runTransaction=function(t,e,n){var r=this;p("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.na.runTransaction(t,o,Oi,function(o){return i=new Fi(o,r.zo?r.zo.next():Vr.ir),"readwrite-primary"===e?r._a(i).next(function(t){return!!t||r.fa(i)}).next(function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs(function(){return r.ta(!1)}),new h(c.FAILED_PRECONDITION,kr);return n(i)}).next(function(t){return r.wa(i).next(function(){return t})}):r.xa(i).next(function(){return n(i)})}).then(function(t){return i.xi(),t})},t.prototype.xa=function(t){var e=this;return ji(t).get(gi.key).next(function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(c.FAILED_PRECONDITION,Mi)})},t.prototype.wa=function(t){var e=new gi(this.clientId,this.allowTabSynchronization,Date.now());return ji(t).put(gi.key,e)},t.Ln=function(){return $n.Ln()},t.prototype.da=function(t){var e=this,n=ji(t);return n.get(gi.key).next(function(t){return e.Ea(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(gi.key)):Zn.resolve()})},t.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()})},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},t.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws(function(){return e.ga()})},this.window.addEventListener("unload",this.Yo))},t.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},t.prototype.Pa=function(t){var e;try{var n=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(t){}},t.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ji(t){return Bi.Kn(t,gi.store)}function zi(t){return Bi.Kn(t,ki.store)}var Gi=function(){function t(t,e){this.db=t,this.gr=new Fr(this,e)}return t.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Fa=function(t){var e=0;return this.Fr(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},t.prototype.Fr=function(t,e){return this.Oa(t,function(t,n){return e(n)})},t.prototype.qo=function(t,e,n){return Ki(t,n)},t.prototype.Ko=function(t,e,n){return Ki(t,n)},t.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},t.prototype.so=function(t,e){return Ki(t,e)},t.prototype.ka=function(t,e){return function(t,e){var n=!1;return si(t).os(function(r){return ni(t,r,e).next(function(t){return t&&(n=!0),Zn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],o=0;return this.Oa(t,function(s,u){if(u<=e){var a=n.ka(t,s).next(function(e){if(!e)return o++,r.bi(t,s).next(function(){return r.pi(s),qi(t).delete([0,Br(s.path)])})});i.push(a)}}).next(function(){return Zn.On(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.st(t.Wo);return this.db.Da().Oo(t,n)},t.prototype.Ma=function(t,e){return Ki(t,e)},t.prototype.Oa=function(t,e){var n,r=qi(t),i=Vr.ir;return r.rs({index:Ai.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==Vr.ir&&e(new j(Gr(n)),i),i=u,n=s):i=Vr.ir}).next(function(){i!==Vr.ir&&e(new j(Gr(n)),i)})},t.prototype.$r=function(t){return this.db.Ca().To(t)},t}();function Ki(t,e){return qi(t).put(function(t,e){return new Ai(0,Br(t.path),e)}(e,t.Wo))}function Wi(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Qi=function(){function t(t,e,n){this.persistence=t,this.$a=e,this.La=new rt(I),this.Ba=new R(function(t){return H(t)},Y),this.qa=C.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new Pr(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}return t.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Mr(n,e.La)})},t}();function Hi(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=w(t),i=r.Oi,o=r.Ka,[4,r.persistence.runTransaction("Handle user change","readonly",function(t){var e;return r.Oi.Jr(t).next(function(s){return e=s,i=r.persistence.Sa(n),o=new Pr(r.Ua,i,r.persistence.Na()),i.Jr(t)}).next(function(n){for(var r=[],i=[],s=vt(),u=0,a=e;u<a.length;u++){var c=a[u];r.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=n;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return o.qi(t,s).next(function(t){return{Wa:t,ja:r,Ga:i}})})})];case 1:return s=e.sent(),[2,(r.Oi=i,r.Ka=o,r.$a.Qa(r.Ka),s)]}})})}function Yi(t,e){var n=w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ua.wo({Eo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Zn.resolve();return o.forEach(function(t){s=s.next(function(){return r.bi(e,t)}).next(function(e){var o=e,s=n.Ai.get(t);m(null!==s),(!o||o.version.u(s)<0)&&(o=i.wi(t,o,n))&&r.yi(o,n.mi)})}),s.next(function(){return t.Oi.Zr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Oi.io(t)}).next(function(){return n.Ka.qi(t,r)})})}function Ji(t){var e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.sa.So(t)})}function Xi(t,e){var n=w(t),r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ua.wo({Eo:!0});i=n.La;var s=[];e.zt.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.sa.Uo(t,e.se,o).next(function(){return n.sa.Bo(t,e.ee,o)}));var a=e.resumeToken;if(a.o()>0){var c=u.it(a,r).st(t.Wo);i=i.ot(o,c),function(t,e,n){return m(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(u,c,e)&&s.push(n.sa.Oo(t,c))}}});var u=ct(),a=vt();if(e.Yt.forEach(function(t,e){a=a.add(t)}),s.push(o.getEntries(t,a).next(function(i){e.Yt.forEach(function(a,c){var h=i.get(a);c instanceof dn&&c.version.isEqual(C.min())?(o.pi(a,r),u=u.ot(a,c)):null==h||c.version.u(h.version)>0||0===c.version.u(h.version)&&h.hasPendingWrites?(o.yi(c,r),u=u.ot(a,c)):p("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",c.version),e.Jt.has(a)&&s.push(n.persistence.qr.Ma(t,a))})})),!r.isEqual(C.min())){var c=n.sa.So(t).next(function(e){return n.sa.Co(t,t.Wo,r)});s.push(c)}return Zn.On(s).next(function(){return o.apply(t)}).next(function(){return n.Ka.Ui(t,u)})}).then(function(t){return n.La=i,t})}function Zi(t,e){var n=w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Oi.Hr(t,e)})}function $i(t,e){var n=w(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.sa.Lo(t,e).next(function(i){return i?(r=i,Zn.resolve(r)):n.sa.po(t).next(function(i){return r=new $(e,i,0,t.Wo),n.sa.No(t,r).next(function(){return r})})})}).then(function(t){var r=n.La.get(t.targetId);return(null===r||t.nt.u(r.nt)>0)&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t})}function to(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u;return(0,e.__generator)(this,function(e){switch(e.label){case 0:i=w(t),o=i.La.get(n),s=r?"readwrite":"readwrite-primary",e.label=1;case 1:return e.trys.push([1,4,,5]),r?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.qr.removeTarget(t,o)})];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:if(!nr(u=e.sent()))throw u;return p("LocalStore","Failed to update sequence numbers for target "+n+": "+u),[3,5];case 5:return i.La=i.La.remove(n),i.Ba.delete(o.target),[2]}})})}function eo(t,e,n){var r=w(t),i=C.min(),o=vt();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=w(t),i=r.Ba.get(n);return void 0!==i?Zn.resolve(r.La.get(i)):r.sa.Lo(e,n)}(r,t,Nn(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next(function(t){o=t})}).next(function(){return r.$a.Qi(t,e,n?i:C.min(),n?o:vt())}).next(function(t){return{documents:t,za:o}})})}function no(t,e){var n=w(t),r=w(n.sa),i=n.La.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ue(t,e).next(function(t){return t?t.target:null})})}function ro(t){var e=w(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=w(t),i=ct(),o=Hr(n),s=hi(e),u=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Ei.readTimeIndex,range:u},function(t,e){var n=Wr(r.serializer,e);i=i.ot(n.key,n),o=e.readTime}).next(function(){return{Ha:i,readTime:Yr(o)}})}(e.Ua,t,e.qa)}).then(function(t){var n=t.Ha,r=t.readTime;return e.qa=r,n})}function io(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){return[2,(n=w(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=hi(t),n=C.min();return e.rs({index:Ei.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Yr(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){n.qa=t})]})})}function oo(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==kr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]})})}var so=function(){function t(t,e,n,r,i,o){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=o,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new Xn(t,e)}return t.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sc()},t.prototype.stop=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.ic=function(){this.state=0,this.ys.reset()},t.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,function(){return t.oc()}))},t.prototype.ac=function(t){this.cc(),this.stream.send(t)},t.prototype.oc=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){return this.nc()?[2,this.close(0)]:[2]})})},t.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},t.prototype.close=function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():n&&n.code===c.RESOURCE_EXHAUSTED?(d(n.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):n&&n.code===c.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(n)];case 1:return e.sent(),[2]}})})},t.prototype.uc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then(function(e){t.Za===n&&t._c(e)},function(n){e(function(){var e=new h(c.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)})})},t.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc(function(){n(function(){return e.state=2,e.listener.wc()})}),this.stream.hc(function(t){n(function(){return e.fc(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn(function(){return(0,e.__awaiter)(t,void 0,void 0,function(){return(0,e.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.fc=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lc=function(t){var e=this;return function(n){e.fn.ws(function(){return e.Za===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),uo=function(t){function n(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return(0,e.__extends)(n,t),n.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},n.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ke?(m(void 0===e||"string"==typeof e),N.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),N.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(t){var e=void 0===t.code?c.UNKNOWN:nt(t.code);return new h(e,t.message||"")}(s);n=new Nt(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;var a=e.documentChange;a.document,a.document.name,a.document.updateTime;var f=ce(t,a.document.name),l=oe(a.document.updateTime),p=new cn({mapValue:{fields:a.document.fields}}),d=new pn(f,l,p,{}),v=a.targetIds||[],y=a.removedTargetIds||[];n=new Et(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;var w=e.documentDelete;w.document;var _=ce(t,w.document),b=w.readTime?oe(w.readTime):C.min(),I=new dn(_,b),E=w.removedTargetIds||[];n=new Et([],E,I.key,I)}else if("documentRemove"in e){e.documentRemove;var T=e.documentRemove;T.document;var A=ce(t,T.document),D=T.removedTargetIds||[];n=new Et([],D,A,null)}else{if(!("filter"in e))return g();e.filter;var x=e.filter;x.targetId;var S=x.count||0,k=new tt(S),O=x.targetId;n=new Tt(O,k)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return C.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?C.min():e.readTime?oe(e.readTime):C.min()}(t);return this.listener.Tc(e,n)},n.prototype.Ic=function(t){var e={};e.database=le(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=J(r)?{documents:ge(t,r)}:{query:me(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=re(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.ac(e)},n.prototype.mc=function(t){var e={};e.database=le(this.serializer),e.removeTarget=t,this.ac(e)},n}(so),ao=function(t){function n(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Ac=!1,s}return(0,e.__extends)(n,t),Object.defineProperty(n.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},n.prototype.uc=function(){this.Ac&&this.Pc([])},n.prototype.dc=function(t){return this.Ja.Ec("Write",t)},n.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map(function(t){return function(t,e){var n=t.updateTime?oe(t.updateTime):oe(e);n.isEqual(C.min())&&(n=oe(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ke(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=oe(t.commitTime);return this.listener.gc(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},n.prototype.Vc=function(){var t={};t.database=le(this.serializer),this.ac(t)},n.prototype.Pc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ve(e.serializer,t)})};this.ac(n)},n}(so),co=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ja=n,i.serializer=r,i.bc=!1,i}return(0,e.__extends)(n,t),n.prototype.vc=function(){if(this.bc)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then(function(i){return r.Ja.Sc(t,e,n,i)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.ri(),t})},n.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then(function(i){return r.Ja.Dc(t,e,n,i)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.ri(),t})},n.prototype.terminate=function(){this.bc=!1},n}(function(){}),ho=function(){function t(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}return t.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()}))},t.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,this.Nc>=1&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},t.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},t.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},t.prototype.Mc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fc?(d(e),this.Fc=!1):p("OnlineStateTracker",e)},t.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},t}(),fo=function(t,n,r,i,o){var s=this;this.Bc=t,this.qc=n,this.cs=r,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=o,this.Gc.zc(function(t){r.ws(function(){return(0,e.__awaiter)(s,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return bo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(n=w(t)).Wc.add(4),[4,po(n)];case 1:return e.sent(),n.Hc.set("Unknown"),n.Wc.delete(4),[4,lo(n)];case 2:return e.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Hc=new ho(r,i)};function lo(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:if(!bo(t))return[3,4];n=0,r=t.jc,e.label=1;case 1:return n<r.length?[4,(0,r[n])(!0)]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function po(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:n=0,r=t.jc,e.label=1;case 1:return n<r.length?[4,(0,r[n])(!1)]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function vo(t,e){var n=w(t);n.Qc.has(e.targetId)||(n.Qc.set(e.targetId,e),_o(n)?wo(n):Uo(n).nc()&&go(n,e))}function yo(t,e){var n=w(t),r=Uo(n);n.Qc.delete(e),r.nc()&&mo(n,e),0===n.Qc.size&&(r.nc()?r.rc():bo(n)&&n.Hc.set("Unknown"))}function go(t,e){t.Yc.me(e.targetId),Uo(t).Ic(e)}function mo(t,e){t.Yc.me(e),Uo(t).mc(e)}function wo(t){t.Yc=new Dt({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),Uo(t).start(),t.Hc.Oc()}function _o(t){return bo(t)&&!Uo(t).ec()&&t.Qc.size>0}function bo(t){return 0===w(t).Wc.size}function Io(t){t.Yc=void 0}function Eo(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){return t.Qc.forEach(function(e,n){go(t,e)}),[2]})})}function To(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){return Io(t),_o(t)?(t.Hc.$c(n),wo(t)):t.Hc.set("Unknown"),[2]})})}function No(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,e.__generator)(this,function(u){switch(u.label){case 0:if(t.Hc.set("Online"),!(n instanceof Nt&&2===n.state&&n.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:r=n.cause,i=0,o=n.targetIds,e.label=1;case 1:return i<o.length?(s=o[i],t.Qc.has(s)?[4,t.Uc.Jc(s,r)]:[3,3]):[3,5];case 2:e.sent(),t.Qc.delete(s),t.Yc.removeTarget(s),e.label=3;case 3:e.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,n)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),p("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),i),[4,Ao(t,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof Et?t.Yc.be(n):n instanceof Tt?t.Yc.Oe(n):t.Yc.De(n),r.isEqual(C.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Ji(t.Bc)];case 8:return o=u.sent(),r.u(o)>=0?[4,function(t,e){var n=t.Yc.$e(e);return n.zt.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Qc.get(r);i&&t.Qc.set(r,i.it(n.resumeToken,e))}}),n.Ht.forEach(function(e){var n=t.Qc.get(e);if(n){t.Qc.set(e,n.it(N.h,n.nt)),mo(t,e);var r=new $(n.target,e,1,n.sequenceNumber);go(t,r)}}),t.Uc.Xc(n)}(t,r)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Ao(t,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Ao(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,e.__generator)(this,function(o){switch(o.label){case 0:if(!nr(n))throw n;return t.Wc.add(1),[4,po(t)];case 1:return o.sent(),t.Hc.set("Offline"),r||(r=function(){return Ji(t.Bc)}),t.cs.Cs(function(){return(0,e.__awaiter)(i,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return e.sent(),t.Wc.delete(1),[4,lo(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Do(t,e){return e().catch(function(n){return Ao(t,n,e)})}function xo(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:n=w(t),r=Co(n),i=n.Kc.length>0?n.Kc[n.Kc.length-1].batchId:-1,e.label=1;case 1:if(!function(t){return bo(t)&&t.Kc.length<10}(n))return[3,7];e.label=2;case 2:return e.trys.push([2,4,,6]),[4,Zi(n.Bc,i)];case 3:return null===(o=e.sent())?(0===n.Kc.length&&r.rc(),[3,7]):(i=o.batchId,function(t,e){t.Kc.push(e);var n=Co(t);n.nc()&&n.Rc&&n.Pc(e.mutations)}(n,o),[3,6]);case 4:return s=e.sent(),[4,Ao(n,s)];case 5:return e.sent(),[3,6];case 6:return[3,1];case 7:return So(n)&&ko(n),[2]}})})}function So(t){return bo(t)&&!Co(t).ec()&&t.Kc.length>0}function ko(t){Co(t).start()}function Oo(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){return Co(t).Vc(),[2]})})}function Po(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,e.__generator)(this,function(e){for(n=Co(t),r=0,i=t.Kc;r<i.length;r++)o=i[r],n.Pc(o.mutations);return[2]})})}function Lo(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return i=t.Kc.shift(),o=xr.from(i,n,r),[4,Do(t,function(){return t.Uc.Zc(o)})];case 1:return e.sent(),[4,xo(t)];case 2:return e.sent(),[2]}})})}function Vo(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(r){switch(r.label){case 0:return n&&Co(t).Rc?[4,function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return et(i=n.code)&&i!==c.ABORTED?(r=t.Kc.shift(),Co(t).ic(),[4,Do(t,function(){return t.Uc.tu(r.batchId,n)})]):[3,3];case 1:return e.sent(),[4,xo(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})}(t,n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return So(t)&&ko(t),[2]}})})}function Ro(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=w(t),n?(r.Wc.delete(2),[4,lo(r)]):[3,2];case 1:return e.sent(),[3,5];case 2:return n?[3,4]:(r.Wc.add(2),[4,po(r)]);case 3:e.sent(),r.Hc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}})})}function Uo(t){var n=this;return t.eu||(t.eu=function(t,e,n){var r=w(t);return r.vc(),new uo(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:Eo.bind(null,t),hc:To.bind(null,t),Tc:No.bind(null,t)}),t.jc.push(function(r){return(0,e.__awaiter)(n,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r?(t.eu.ic(),_o(t)?wo(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:e.sent(),Io(t),e.label=3;case 3:return[2]}})})})),t.eu}function Co(t){var n=this;return t.nu||(t.nu=function(t,e,n){var r=w(t);return r.vc(),new ao(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:Oo.bind(null,t),hc:Vo.bind(null,t),yc:Po.bind(null,t),gc:Lo.bind(null,t)}),t.jc.push(function(r){return(0,e.__awaiter)(n,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r?(t.nu.ic(),[4,xo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:e.sent(),t.Kc.length>0&&(p("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),e.label=4;case 4:return[2]}})})})),t.nu}var qo=function(){function t(){this.su=new st(Mo.iu),this.ru=new st(Mo.ou)}return t.prototype.P=function(){return this.su.P()},t.prototype.qo=function(t,e){var n=new Mo(t,e);this.su=this.su.add(n),this.ru=this.ru.add(n)},t.prototype.au=function(t,e){var n=this;t.forEach(function(t){return n.qo(t,e)})},t.prototype.Ko=function(t,e){this.cu(new Mo(t,e))},t.prototype.uu=function(t,e){var n=this;t.forEach(function(t){return n.Ko(t,e)})},t.prototype.hu=function(t){var e=this,n=new j(new M([])),r=new Mo(n,t),i=new Mo(n,t+1),o=[];return this.ru.xt([r,i],function(t){e.cu(t),o.push(t.key)}),o},t.prototype.lu=function(){var t=this;this.su.forEach(function(e){return t.cu(e)})},t.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},t.prototype._u=function(t){var e=new j(new M([])),n=new Mo(e,t),r=new Mo(e,t+1),i=vt();return this.ru.xt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ro=function(t){var e=new Mo(t,0),n=this.su.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),Mo=function(){function t(t,e){this.key=t,this.fu=e}return t.iu=function(t,e){return j.D(t.key,e.key)||I(t.fu,e.fu)},t.ou=function(t,e){return I(t.fu,e.fu)||j.D(t.key,e.key)},t}();function Fo(t,e){return"firestore_clients_"+t+"_"+e}function Bo(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function jo(t,e){return"firestore_targets_"+t+"_"+e}var zo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.du=function(e,n,r){var i=JSON.parse(r),o="object"==a(i)&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==a(i.error)),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Go=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.du=function(e,n){var r=JSON.parse(n),i="object"==a(r)&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==a(r.error)),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ko=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.du=function(e,n){for(var r=JSON.parse(n),i="object"==a(r)&&r.activeTargetIds instanceof Array,o=gt(),s=0;i&&s<r.activeTargetIds.length;++s)i=K(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.du=function(e){var n=JSON.parse(e);return"object"==a(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qo=function(){function t(){this.activeTargetIds=gt()}return t.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ho=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new rt(I),this.br=!1,this.gu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yu=Fo(this.persistenceKey,this.Iu),this.Vu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Pu=this.Pu.ot(this.Iu,new Qo),this.pu=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Su=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Au)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,u,a,c,h,f,l=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,this.mu.va()];case 1:for(t=e.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Iu&&(o=this.getItem(Fo(this.persistenceKey,i)))&&(s=Ko.du(i,o))&&(this.Pu=this.Pu.ot(s.clientId,s));for(this.Du(),(u=this.storage.getItem(this.Su))&&(a=this.Cu(u))&&this.Nu(a),c=0,h=this.gu;c<h.length;c++)f=h[c],this.Ru(f);return this.gu=[],this.window.addEventListener("unload",function(){return l.ga()}),this.br=!0,[2]}})})},t.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},t.prototype.xu=function(){return this.Fu(this.Pu)},t.prototype.Ou=function(t){var e=!1;return this.Pu.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.ku=function(t){this.Mu(t,"pending")},t.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},t.prototype.Bu=function(t){var e="not-current";if(this.Ou(t)){var n=this.storage.getItem(jo(this.persistenceKey,t));if(n){var r=Go.du(t,n);r&&(e=r.state)}}return this.qu.Eu(t),this.Du(),e},t.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},t.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},t.prototype.Qu=function(t){this.removeItem(jo(this.persistenceKey,t))},t.prototype.Wu=function(t,e,n){this.ju(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach(function(t){r.Lu(t)}),this.currentUser=t,n.forEach(function(t){r.ku(t)})},t.prototype.zu=function(t){this.Hu(t)},t.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ru=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(p("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yu)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var t,n,i,o,s,u;return(0,e.__generator)(this,function(e){if(this.br){if(null!==r.key)if(this.pu.test(r.key)){if(null==r.newValue)return t=this.Yu(r.key),[2,this.Ju(t,null)];if(n=this.Xu(r.key,r.newValue))return[2,this.Ju(n.clientId,n)]}else if(this.bu.test(r.key)){if(null!==r.newValue&&(i=this.Zu(r.key,r.newValue)))return[2,this.th(i)]}else if(this.vu.test(r.key)){if(null!==r.newValue&&(o=this.eh(r.key,r.newValue)))return[2,this.nh(o)]}else if(r.key===this.Su){if(null!==r.newValue&&(s=this.Cu(r.newValue)))return[2,this.Nu(s)]}else r.key===this.Vu&&(u=function(t){var e=Vr.ir;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(r.newValue))!==Vr.ir&&this.tr(u)}else this.gu.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),t.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},t.prototype.Mu=function(t,e,n){var r=new zo(this.currentUser,t,e,n),i=Bo(this.persistenceKey,this.currentUser,t);this.setItem(i,r.wu())},t.prototype.Lu=function(t){var e=Bo(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hu=function(t){var e={clientId:this.Iu,onlineState:t};this.storage.setItem(this.Su,JSON.stringify(e))},t.prototype.ju=function(t,e,n){var r=jo(this.persistenceKey,t),i=new Go(t,e,n);this.setItem(r,i.wu())},t.prototype.Yu=function(t){var e=this.pu.exec(t);return e?e[1]:null},t.prototype.Xu=function(t,e){var n=this.Yu(t);return Ko.du(n,e)},t.prototype.Zu=function(t,e){var n=this.bu.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zo.du(new br(i),r,e)},t.prototype.eh=function(t,e){var n=this.vu.exec(t),r=Number(n[1]);return Go.du(r,e)},t.prototype.Cu=function(t){return Wo.du(t)},t.prototype.th=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},t.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),o=this.Fu(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.mu.rh(s,u).then(function(){n.Pu=r})},t.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},t.prototype.Fu=function(t){var e=gt();return t.forEach(function(t,n){e=e.kt(n.activeTargetIds)}),e},t}(),Yo=function(){function t(){this.oh=new Qo,this.ah={},this.Cc=null,this.tr=null}return t.prototype.ku=function(t){},t.prototype.$u=function(t,e,n){},t.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},t.prototype.Wu=function(t,e,n){this.ah[t]=e},t.prototype.Uu=function(t){this.oh.Tu(t)},t.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.Qu=function(t){delete this.ah[t]},t.prototype.xu=function(){return this.oh.activeTargetIds},t.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.start=function(){return this.oh=new Qo,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.zu=function(t){},t.prototype.ga=function(){},t.prototype.sr=function(t){},t}(),Jo=function(t){this.key=t},Xo=function(t){this.key=t},Zo=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=vt(),this.Qt=vt(),this._h=Ln(t),this.fh=new mt(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new wt,i=e?e.fh:this.fh,o=e?e.Qt:this.Qt,s=i,u=!1,a=wn(this.query)&&i.size===this.query.limit?i.last():null,c=_n(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht(function(t,e){var h=i.get(t),f=e instanceof pn?e:null;f&&(f=Pn(n.query,f)?f:null);var l=!!h&&n.Qt.has(h.key),p=!!f&&(f.Je||n.Qt.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.Th(h,f)||(r.track({type:2,doc:f}),d=!0,(a&&n._h(f,a)>0||c&&n._h(f,c)<0)&&(u=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(a||c)&&(u=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),wn(this.query)||_n(this.query))for(;s.size>this.query.limit;){var h=wn(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fh:s,Eh:r,Ih:u,Qt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var o=t.Eh.Ut();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)}),this.mh(n);var s=e?this.Ah():[],u=0===this.lh.size&&this.te?1:0,a=u!==this.hh;return this.hh=u,0!==o.length||a?{snapshot:new _t(this.query,t.fh,i,o,t.Qt,0===u,a,!1),Rh:s}:{Rh:s}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new wt,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},t.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.mh=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uh=e.uh.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uh=e.uh.delete(t)}),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=vt(),this.fh.forEach(function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))});var n=[];return e.forEach(function(e){t.lh.has(e)||n.push(new Xo(e))}),this.lh.forEach(function(t){e.has(t)||n.push(new Jo(t))}),n},t.prototype.gh=function(t){this.uh=t.za,this.lh=vt();var e=this.wh(t.documents);return this.Di(e,!0)},t.prototype.yh=function(){return _t.Gt(this.query,this.fh,this.Qt,0===this.hh)},t}(),$o=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ts=function(t){this.key=t,this.Vh=!1},es=function(){function t(t,e,n,r,i,o){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new R(function(t){return kn(t)},Sn),this.xh=new Map,this.Fh=[],this.Oh=new rt(j.D),this.kh=new Map,this.Mh=new qo,this.$h={},this.Lh=new Map,this.Bh=Vi.Vo(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function ns(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=ks(t),(s=r.Nh.get(n))?(i=s.targetId,r.Sh.Bu(i),o=s.view.yh(),[3,4]):[3,1];case 1:return[4,$i(r.Bc,Nn(n))];case 2:return u=e.sent(),a=r.Sh.Bu(u.targetId),i=u.targetId,[4,rs(r,n,i,"current"===a)];case 3:o=e.sent(),r.Uh&&vo(r.ph,u),e.label=4;case 4:return[2,o]}})})}function rs(t,n,r,i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,s,u,a,c,h;return(0,e.__generator)(this,function(f){switch(f.label){case 0:return t.Kh=function(n,r,i){return function(t,n,r,i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,s,u;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(o=n.view.wh(r)).Ih?[4,eo(t.Bc,n.query,!1).then(function(t){var e=t.documents;return n.view.wh(e,o)})]:[3,2];case 1:o=e.sent(),e.label=2;case 2:return s=i&&i.zt.get(n.targetId),u=n.view.Di(o,t.Uh,s),[2,(ys(t,n.targetId,u.Rh),u.snapshot)]}})})}(t,n,r,i)},[4,eo(t.Bc,n,!0)];case 1:return o=f.sent(),s=new Zo(n,o.za),u=s.wh(o.documents),a=It.Zt(r,i&&"Offline"!==t.onlineState),c=s.Di(u,t.Uh,a),ys(t,r,c.Rh),h=new $o(n,r,s),[2,(t.Nh.set(n,h),t.xh.has(r)?t.xh.get(r).push(n):t.xh.set(r,[n]),c.snapshot)]}})})}function is(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=w(t),i=r.Nh.get(n),(o=r.xh.get(i.targetId)).length>1?[2,(r.xh.set(i.targetId,o.filter(function(t){return!Sn(t,n)})),void r.Nh.delete(n))]:r.Uh?(r.Sh.Uu(i.targetId),r.Sh.Ou(i.targetId)?[3,2]:[4,to(r.Bc,i.targetId,!1).then(function(){r.Sh.Qu(i.targetId),yo(r.ph,i.targetId),ds(r,i.targetId)}).catch(oo)]):[3,3];case 1:e.sent(),e.label=2;case 2:return[3,5];case 3:return ds(r,i.targetId),[4,to(r.Bc,i.targetId,!0)];case 4:e.sent(),e.label=5;case 5:return[2]}})})}function os(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u;return(0,e.__generator)(this,function(e){switch(e.label){case 0:i=Os(t),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,function(t,e){var n,r=w(t),i=U.now(),o=e.reduce(function(t,e){return t.add(e.key)},vt());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ka.qi(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],h=Xe(c,n.get(c.key));null!=h&&s.push(new en(c.key,h,fn(h.proto.mapValue),We.exists(!0)))}return r.Oi.Wr(t,i,s,e)})}).then(function(t){var e=t.Ii(n);return{batchId:t.batchId,Ri:e}})}(i.Bc,n)];case 2:return o=e.sent(),i.Sh.ku(o.batchId),function(t,e,n){var r=t.$h[t.currentUser.ti()];r||(r=new rt(I)),r=r.ot(e,n),t.$h[t.currentUser.ti()]=r}(i,o.batchId,r),[4,ws(i,o.Ri)];case 3:return e.sent(),[4,xo(i.ph)];case 4:return e.sent(),[3,6];case 5:return s=e.sent(),u=lr(s,"Failed to persist write"),r.reject(u),[3,6];case 6:return[2]}})})}function ss(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:r=w(t),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,Xi(r.Bc,n)];case 2:return i=e.sent(),n.zt.forEach(function(t,e){var n=r.kh.get(e);n&&(m(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?n.Vh=!0:t.ne.size>0?m(n.Vh):t.se.size>0&&(m(n.Vh),n.Vh=!1))}),[4,ws(r,i,n)];case 3:return e.sent(),[3,6];case 4:return[4,oo(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}})})}function us(t,e,n){var r=w(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach(function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=w(t);n.onlineState=e;var r=!1;n.Bs.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(e)&&(r=!0)}),r&&wr(n)}(r.bh,e),i.length&&r.Ch.Tc(i),r.onlineState=e,r.Uh&&r.Sh.zu(e)}}function as(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,a,c;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(i=w(t)).Sh.Wu(n,"rejected",r),o=i.kh.get(n),(s=o&&o.key)?(u=(u=new rt(j.D)).ot(s,new dn(s,C.min())),a=vt().add(s),c=new bt(C.min(),new Map,new st(I),u,a),[4,ss(i,c)]):[3,2];case 1:return e.sent(),i.Oh=i.Oh.remove(s),i.kh.delete(n),ms(i),[3,4];case 2:return[4,to(i.Bc,n,!1).then(function(){return ds(i,n,r)}).catch(oo)];case 3:e.sent(),e.label=4;case 4:return[2]}})})}function cs(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:r=w(t),i=n.batch.batchId,e.label=1;case 1:return e.trys.push([1,4,,6]),[4,Yi(r.Bc,n)];case 2:return o=e.sent(),ps(r,i,null),ls(r,i),r.Sh.$u(i,"acknowledged"),[4,ws(r,o)];case 3:return e.sent(),[3,6];case 4:return[4,oo(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}})})}function hs(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:i=w(t),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Oi.Gr(t,e).next(function(e){return m(null!==e),r=e.keys(),n.Oi.Zr(t,e)}).next(function(){return n.Oi.io(t)}).next(function(){return n.Ka.qi(t,r)})})}(i.Bc,n)];case 2:return o=e.sent(),ps(i,n,r),ls(i,n),i.Sh.$u(n,"rejected",r),[4,ws(i,o)];case 3:return e.sent(),[3,6];case 4:return[4,oo(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}})})}function fs(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u;return(0,e.__generator)(this,function(e){switch(e.label){case 0:bo((r=w(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,function(t){var e=w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Oi.Yr(t)})}(r.Bc)];case 2:return-1===(i=e.sent())?[2,void n.resolve()]:((o=r.Lh.get(i)||[]).push(n),r.Lh.set(i,o),[3,4]);case 3:return s=e.sent(),u=lr(s,"Initialization of waitForPendingWrites() operation failed"),n.reject(u),[3,4];case 4:return[2]}})})}function ls(t,e){(t.Lh.get(e)||[]).forEach(function(t){t.resolve()}),t.Lh.delete(e)}function ps(t,e,n){var r=w(t),i=r.$h[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i}}function ds(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Qh(o,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach(function(e){t.Mh.ro(e)||vs(t,e)})}function vs(t,e){var n=t.Oh.get(e);null!==n&&(yo(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),ms(t))}function ys(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jo?(t.Mh.qo(o.key,e),gs(t,o)):o instanceof Xo?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Ko(o.key,e),t.Mh.ro(o.key)||vs(t,o.key)):g()}}function gs(t,e){var n=e.key;t.Oh.get(n)||(p("SyncEngine","New document in limbo: "+n),t.Fh.push(n),ms(t))}function ms(t){for(;t.Fh.length>0&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new ts(e)),t.Oh=t.Oh.ot(e,n),vo(t.ph,new $(Nn(mn(e.path)),n,2,Vr.ir))}}function ws(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u;return(0,e.__generator)(this,function(a){switch(a.label){case 0:return i=w(t),o=[],s=[],u=[],i.Nh.P()?[3,3]:(i.Nh.forEach(function(t,e){u.push(i.Kh(e,n,r).then(function(t){if(t){i.Uh&&i.Sh.Wu(e.targetId,t.fromCache?"not-current":"current"),o.push(t);var n=Lr.Zi(e.targetId,t);s.push(n)}}))}),[4,Promise.all(u)]);case 1:return a.sent(),i.Ch.Tc(o),[4,function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,h,f;return(0,e.__generator)(this,function(e){switch(e.label){case 0:r=w(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Zn.forEach(n,function(e){return Zn.forEach(e.Ji,function(n){return r.persistence.qr.qo(t,e.targetId,n)}).next(function(){return Zn.forEach(e.Xi,function(n){return r.persistence.qr.Ko(t,e.targetId,n)})})})})];case 2:return e.sent(),[3,4];case 3:if(!nr(i=e.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=n;o<s.length;o++)u=s[o],a=u.targetId,u.fromCache||(c=r.La.get(a),h=c.nt,f=c.rt(h),r.La=r.La.ot(a,f));return[2]}})})}(i.Bc,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function _s(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(r=w(t)).currentUser.isEqual(n)?[3,3]:(p("SyncEngine","User change. New user:",n.ti()),[4,Hi(r.Bc,n)]);case 1:return i=e.sent(),r.currentUser=n,function(t,e){t.Lh.forEach(function(t){t.forEach(function(t){t.reject(new h(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lh.clear()}(r),r.Sh.Gu(n,i.ja,i.Ga),[4,ws(r,i.Wa)];case 2:e.sent(),e.label=3;case 3:return[2]}})})}function bs(t,e){var n=w(t),r=n.kh.get(e);if(r&&r.Vh)return vt().add(r.key);var i=vt(),o=n.xh.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],c=n.Nh.get(a);i=i.kt(c.view.dh)}return i}function Is(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,eo((r=w(t)).Bc,n.query,!0)];case 1:return i=e.sent(),o=n.view.gh(i),[2,(r.Uh&&ys(r,n.targetId,o.Rh),o)]}})})}function Es(t,n,r,i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,function(t,e){var n=w(t),r=w(n.Oi);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.zr(t,e).next(function(e){return e?n.Ka.qi(t,e):Zn.resolve(null)})})}((o=w(t)).Bc,n)];case 1:return null===(s=e.sent())?[3,6]:"pending"!==r?[3,3]:[4,xo(o.ph)];case 2:return e.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(ps(o,n,i||null),ls(o,n),function(t,e){w(w(t).Oi).no(e)}(o.Bc,n)):g(),e.label=4;case 4:return[4,ws(o,s)];case 5:return e.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+n),e.label=7;case 7:return[2]}})})}function Ts(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,h;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return ks(r=w(t)),Os(r),!0!==n||!0===r.qh?[3,3]:(i=r.Sh.xu(),[4,Ns(r,i.L())]);case 1:return o=e.sent(),r.qh=!0,[4,Ro(r.ph,!0)];case 2:for(e.sent(),s=0,u=o;s<u.length;s++)a=u[s],vo(r.ph,a);return[3,7];case 3:return!1!==n||!1===r.qh?[3,7]:(c=[],h=Promise.resolve(),r.xh.forEach(function(t,e){r.Sh.Ku(e)?c.push(e):h=h.then(function(){return ds(r,e),to(r.Bc,e,!0)}),yo(r.ph,e)}),[4,h]);case 4:return e.sent(),[4,Ns(r,c)];case 5:return e.sent(),function(t){var e=w(t);e.kh.forEach(function(t,n){yo(e.ph,n)}),e.Mh.lu(),e.kh=new Map,e.Oh=new rt(j.D)}(r),r.qh=!1,[4,Ro(r.ph,!1)];case 6:e.sent(),e.label=7;case 7:return[2]}})})}function Ns(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,h,f,l,p,d,v,y;return(0,e.__generator)(this,function(e){switch(e.label){case 0:r=w(t),i=[],o=[],s=0,u=n,e.label=1;case 1:return s<u.length?(a=u[s],c=void 0,(h=r.xh.get(a))&&0!==h.length?[4,$i(r.Bc,Nn(h[0]))]:[3,7]):[3,13];case 2:c=e.sent(),f=0,l=h,e.label=3;case 3:return f<l.length?(p=l[f],d=r.Nh.get(p),[4,Is(r,d)]):[3,6];case 4:(v=e.sent()).snapshot&&o.push(v.snapshot),e.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,no(r.Bc,a)];case 8:return y=e.sent(),[4,$i(r.Bc,y)];case 9:return c=e.sent(),[4,rs(r,As(y),a,!1)];case 10:e.sent(),e.label=11;case 11:i.push(c),e.label=12;case 12:return s++,[3,1];case 13:return[2,(r.Ch.Tc(o),i)]}})})}function As(t){return gn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ds(t){var e=w(t);return w(w(e.Bc).persistence).va()}function xs(t,n,r,i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,s,u;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(o=w(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xh.has(n))return[3,8];switch(r){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ro(o.Bc)];case 3:return s=e.sent(),u=bt.Xt(n,"current"===r),[4,ws(o,s,u)];case 4:return e.sent(),[3,8];case 5:return[4,to(o.Bc,n,!0)];case 6:return e.sent(),ds(o,n,i),[3,8];case 7:g(),e.label=8;case 8:return[2]}})})}function Ss(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,a,c,h,f,l,d;return(0,e.__generator)(this,function(v){switch(v.label){case 0:if(!(i=ks(t)).qh)return[3,10];o=0,s=n,v.label=1;case 1:return o<s.length?(u=s[o],i.xh.has(u)?(p("SyncEngine","Adding an already active target "+u),[3,5]):[4,no(i.Bc,u)]):[3,6];case 2:return a=v.sent(),[4,$i(i.Bc,a)];case 3:return c=v.sent(),[4,rs(i,As(a),c.targetId,!1)];case 4:v.sent(),vo(i.ph,c),v.label=5;case 5:return o++,[3,1];case 6:h=function(t){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return i.xh.has(t)?[4,to(i.Bc,t,!1).then(function(){yo(i.ph,t),ds(i,t)}).catch(oo)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},f=0,l=r,v.label=7;case 7:return f<l.length?(d=l[f],[5,h(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function ks(t){var e=w(t);return e.ph.Uc.Xc=ss.bind(null,e),e.ph.Uc.qe=bs.bind(null,e),e.ph.Uc.Jc=as.bind(null,e),e.Ch.Tc=gr.bind(null,e.bh),e.Ch.Qh=mr.bind(null,e.bh),e}function Os(t){var e=w(t);return e.ph.Uc.Zc=cs.bind(null,e),e.ph.Uc.tu=hs.bind(null,e),e}var Ps=function(){function t(){}return t.prototype.Qa=function(t){this.Wh=t},t.prototype.Qi=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(C.min())?this.jh(t,e):this.Wh.qi(t,i).next(function(s){var u=o.Gh(e,s);return(wn(e)||_n(e))&&o.Ih(e.an,u,i,n)?o.jh(t,e):(l()<=r.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),On(e)),o.Wh.Qi(t,e,n).next(function(t){return u.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Gh=function(t,e){var n=new st(Ln(t));return e.forEach(function(e,r){r instanceof pn&&Pn(t,r)&&(n=n.add(r))}),n},t.prototype.Ih=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.jh=function(t,e){return l()<=r.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",On(e)),this.Wh.Qi(t,e,C.min())},t}(),Ls=function(){function t(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new st(Mo.iu)}return t.prototype.Qr=function(t){return Zn.resolve(0===this.Oi.length)},t.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++,this.Oi.length>0&&this.Oi[this.Oi.length-1];var o=new Dr(i,e,n,r);this.Oi.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Hh=this.Hh.add(new Mo(a.key,i)),this.ki.jr(t,a.key.path.F())}return Zn.resolve(o)},t.prototype.Gr=function(t,e){return Zn.resolve(this.Yh(e))},t.prototype.Hr=function(t,e){var n=e+1,r=this.Jh(n),i=r<0?0:r;return Zn.resolve(this.Oi.length>i?this.Oi[i]:null)},t.prototype.Yr=function(){return Zn.resolve(0===this.Oi.length?-1:this.zh-1)},t.prototype.Jr=function(t){return Zn.resolve(this.Oi.slice())},t.prototype.$i=function(t,e){var n=this,r=new Mo(e,0),i=new Mo(e,Number.POSITIVE_INFINITY),o=[];return this.Hh.xt([r,i],function(t){var e=n.Yh(t.fu);o.push(e)}),Zn.resolve(o)},t.prototype.Ki=function(t,e){var n=this,r=new st(I);return e.forEach(function(t){var e=new Mo(t,0),i=new Mo(t,Number.POSITIVE_INFINITY);n.Hh.xt([e,i],function(t){r=r.add(t.fu)})}),Zn.resolve(this.Xh(r))},t.prototype.Hi=function(t,e){var n=e.path,r=n.length+1,i=n;j.X(i)||(i=i.child(""));var o=new Mo(new j(i),0),s=new st(I);return this.Hh.Ft(function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(s=s.add(t.fu)),!0)},o),Zn.resolve(this.Xh(s))},t.prototype.Xh=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Yh(t);null!==r&&n.push(r)}),n},t.prototype.Zr=function(t,e){var n=this;m(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return Zn.forEach(e.mutations,function(i){var o=new Mo(i.key,e.batchId);return r=r.delete(o),n.qr.so(t,i.key)}).next(function(){n.Hh=r})},t.prototype.no=function(t){},t.prototype.ro=function(t,e){var n=new Mo(e,0),r=this.Hh.Ot(n);return Zn.resolve(e.isEqual(r&&r.key))},t.prototype.io=function(t){return this.Oi.length,Zn.resolve()},t.prototype.Zh=function(t,e){return this.Jh(t)},t.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},t.prototype.Yh=function(t){var e=this.Jh(t);return e<0||e>=this.Oi.length?null:this.Oi[e]},t}(),Vs=function(){function t(t,e){this.ki=t,this.tl=e,this.docs=new rt(j.D),this.size=0}return t.prototype.yi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:s,readTime:n}),this.size+=s-o,this.ki.jr(t,r.path.F())},t.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.bi=function(t,e){var n=this.docs.get(e);return Zn.resolve(n?n.ho:null)},t.prototype.getEntries=function(t,e){var n=this,r=ht();return e.forEach(function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)}),Zn.resolve(r)},t.prototype.Qi=function(t,e,n){for(var r=lt(),i=new j(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),u=s.key,a=s.value,c=a.ho,h=a.readTime;if(!e.path.M(u.path))break;h.u(n)<=0||c instanceof pn&&Pn(e,c)&&(r=r.ot(c.key,c))}return Zn.resolve(r)},t.prototype.el=function(t,e){return Zn.forEach(this.docs,function(t){return e(t)})},t.prototype.wo=function(t){return new Rs(this)},t.prototype.To=function(t){return Zn.resolve(this.size)},t}(),Rs=function(t){function n(e){var n=this;return(n=t.call(this)||this).Io=e,n}return(0,e.__extends)(n,t),n.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach(function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)}),Zn.On(n)},n.prototype.vi=function(t,e){return this.Io.bi(t,e)},n.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},n}(Sr),Us=function(){function t(t){this.persistence=t,this.nl=new R(function(t){return H(t)},Y),this.lastRemoteSnapshotVersion=C.min(),this.highestTargetId=0,this.sl=0,this.il=new qo,this.targetCount=0,this.rl=Vi.yo()}return t.prototype.Ce=function(t,e){return this.nl.forEach(function(t,n){return e(n)}),Zn.resolve()},t.prototype.So=function(t){return Zn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Do=function(t){return Zn.resolve(this.sl)},t.prototype.po=function(t){return this.highestTargetId=this.rl.next(),Zn.resolve(this.highestTargetId)},t.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),Zn.resolve()},t.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new Vi(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},t.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,Zn.resolve()},t.prototype.Oo=function(t,e){return this.xo(e),Zn.resolve()},t.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),this.targetCount-=1,Zn.resolve()},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return this.nl.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.nl.delete(s),o.push(r.Mo(t,u.targetId)),i++)}),Zn.On(o).next(function(){return i})},t.prototype.$o=function(t){return Zn.resolve(this.targetCount)},t.prototype.Lo=function(t,e){var n=this.nl.get(e)||null;return Zn.resolve(n)},t.prototype.Bo=function(t,e,n){return this.il.au(e,n),Zn.resolve()},t.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach(function(e){i.push(r.so(t,e))}),Zn.On(i)},t.prototype.Mo=function(t,e){return this.il.hu(e),Zn.resolve()},t.prototype.Qo=function(t,e){var n=this.il._u(e);return Zn.resolve(n)},t.prototype.ro=function(t,e){return Zn.resolve(this.il.ro(e))},t}(),Cs=function(){function t(t){var e=this;this.ol={},this.zo=new Vr(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new Us(this),this.ki=new pi,this.Fi=function(t,n){return new Vs(t,function(t){return e.qr.al(t)})}(this.ki)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.ha=function(){},t.prototype.la=function(){},t.prototype.Na=function(){return this.ki},t.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new Ls(this.ki,this.qr),this.ol[t.ti()]=e),e},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new qs(this.zo.next());return this.qr.cl(),n(i).next(function(t){return r.qr.ul(i).next(function(){return t})}).xn().then(function(t){return i.xi(),t})},t.prototype.hl=function(t,e){return Zn.kn(Object.values(this.ol).map(function(n){return function(){return n.ro(t,e)}}))},t}(),qs=function(t){function n(e){var n=this;return(n=t.call(this)||this).Wo=e,n}return(0,e.__extends)(n,t),n}(Or),Ms=function(){function t(t){this.persistence=t,this.ll=new qo,this._l=null}return t.fl=function(e){return new t(e)},Object.defineProperty(t.prototype,"dl",{get:function(){if(this._l)return this._l;throw g()},enumerable:!1,configurable:!0}),t.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),Zn.resolve()},t.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),Zn.resolve()},t.prototype.so=function(t,e){return this.dl.add(e.toString()),Zn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach(function(t){return n.dl.add(t.toString())});var r=this.persistence.Da();return r.Qo(t,e.targetId).next(function(t){t.forEach(function(t){return n.dl.add(t.toString())})}).next(function(){return r.ko(t,e)})},t.prototype.cl=function(){this._l=new Set},t.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return Zn.forEach(this.dl,function(r){var i=j.H(r);return e.wl(t,i).next(function(t){t||n.pi(i)})}).next(function(){return e._l=null,n.apply(t)})},t.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next(function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())})},t.prototype.al=function(t){return 0},t.prototype.wl=function(t,e){var n=this;return Zn.kn([function(){return Zn.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},t}(),Fs=function(){function t(t){this.El=t.El,this.Tl=t.Tl}return t.prototype.wc=function(t){this.Il=t},t.prototype.hc=function(t){this.ml=t},t.prototype.onMessage=function(t){this.Al=t},t.prototype.close=function(){this.Tl()},t.prototype.send=function(t){this.El(t)},t.prototype.Rl=function(){this.Il()},t.prototype.Pl=function(t){this.ml(t)},t.prototype.gl=function(t){this.Al(t)},t}(),Bs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},js=function(t){function n(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return(0,e.__extends)(n,t),n.prototype.Sl=function(t,e,n,r){return new Promise(function(i,s){var u=new o.XhrIo;u.listenOnce(o.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case o.ErrorCode.NO_ERROR:var e=u.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),s(new h(c.DEADLINE_EXCEEDED,"Request time out"));break;case o.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=r.status.toLowerCase().replace("_","-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}();s(new h(a,r.message))}else s(new h(c.UNKNOWN,"Server responded with status "+u.getStatus()))}else s(new h(c.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{p("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);u.send(e,"POST",a,n,15)})},n.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=(0,o.createWebChannelTransport)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.vl(s.initMessageHeaders,e),(0,i.isMobileCordova)()||(0,i.isReactNative)()||(0,i.isElectron)()||(0,i.isIE)()||(0,i.isUWP)()||(0,i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");p("Connection","Creating WebChannel: "+u,s);var a=r.createWebChannel(u,s),f=!1,l=!1,d=new Fs({El:function(t){l?p("Connection","Not sending because WebChannel is closed:",t):(f||(p("Connection","Opening WebChannel transport."),a.open(),f=!0),p("Connection","WebChannel sending:",t),a.send(t))},Tl:function(){return a.close()}}),y=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return y(o.WebChannel.EventType.OPEN,function(){l||p("Connection","WebChannel transport opened.")}),y(o.WebChannel.EventType.CLOSE,function(){l||(l=!0,p("Connection","WebChannel transport closed"),d.Pl())}),y(o.WebChannel.EventType.ERROR,function(t){l||(l=!0,v("Connection","WebChannel transport errored:",t),d.Pl(new h(c.UNAVAILABLE,"The operation could not be completed")))}),y(o.WebChannel.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];m(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){p("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=X[o];if(void 0!==e)return nt(e)}(),u=i.message;void 0===s&&(s=c.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,d.Pl(new h(s,u)),a.close()}else p("Connection","WebChannel received:",n),d.gl(n)}}),setTimeout(function(){d.Rl()},0),d},n}(function(){function t(t){this.yl=t,this._=t._;var e=t.ssl?"https":"http";this.Vl=e+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.vl(o,r),this.Sl(t,i,o,n).then(function(t){return p("RestConnection","Received: ",t),t},function(e){throw v("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},t.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},t.prototype.bl=function(t,e){var n=Bs[t];return this.Vl+"/v1/"+e+":"+n},t}()),zs=function(){function t(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}return t.prototype.zc=function(t){this.Fl.push(t)},t.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},t.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},t.prototype.Cl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Gs=function(){function t(){}return t.prototype.zc=function(t){},t.prototype.ga=function(){},t}();function Ks(t){return new Zt(t,!0)}var Ws=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}})})},t.prototype.Ll=function(t){return null},t.prototype.Bl=function(t){return e=this.persistence,n=new Ps,r=t.ql,new Qi(e,n,r);var e,n,r},t.prototype.Ml=function(t){return new Cs(Ms.fl)},t.prototype.kl=function(t){return new Yo},t.prototype.terminate=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}})})},t}(),Qs=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).Ul=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,e.__extends)(n,t),n.prototype.initialize=function(n){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return e.sent(),[4,io(this.Bc)];case 2:return e.sent(),[4,this.Ul.initialize(this,n)];case 3:return e.sent(),[4,Os(this.Ul.mu)];case 4:return e.sent(),[4,xo(this.Ul.ph)];case 5:return e.sent(),[2]}})})},n.prototype.Ll=function(t){var e=this.persistence.qr.gr;return new Mr(e,t.cs)},n.prototype.Ml=function(t){var e=Wi(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?qr.Ir(this.cacheSizeBytes):qr.Rr,r=Ks(t.yl._);return new Bi(this.synchronizeTabs,e,t.clientId,n,t.cs,ar(),cr(),r,this.Sh,!!this.forceOwnership)},n.prototype.kl=function(t){return new Yo},n}(Ws),Hs=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ul=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,e.__extends)(n,t),n.prototype.initialize=function(n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i=this;return(0,e.__generator)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Ul.mu,this.Sh instanceof Ho?(this.Sh.mu={sh:Es.bind(null,r),ih:xs.bind(null,r),rh:Ss.bind(null,r),va:Ds.bind(null,r)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.ua(function(t){return(0,e.__awaiter)(i,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,Ts(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},n.prototype.kl=function(t){var e=ar();if(!Ho.Ln(e))throw new h(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wi(t.yl._,t.yl.persistenceKey);return new Ho(e,t.cs,n,t.clientId,t.ql)},n}(Qs),Ys=function(){function t(){}return t.prototype.initialize=function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(n),this.ph=this.Ql(n),this.bh=this.Wl(n),this.mu=this.jl(n,!t.synchronizeTabs),this.Sh.Cc=function(t){return us(r.mu,t,1)},this.ph.Uc.Gl=_s.bind(null,this.mu),[4,Ro(this.ph,this.mu.Uh)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.Wl=function(t){return new dr},t.prototype.Kl=function(t){var e,n=Ks(t.yl._),r=(e=t.yl,new js(e));return function(t,e,n){return new co(t,r,n)}(t.credentials,0,n)},t.prototype.Ql=function(t){var e,n,r,i,o,s=this;return e=this.Bc,n=this.qc,r=t.cs,i=function(t){return us(s.mu,t,0)},o=zs.Ln()?new zs:new Gs,new fo(e,n,r,i,o)},t.prototype.jl=function(t,e){return function(t,e,n,r,i,o,s){var u=new es(t,e,n,r,i,o);return s&&(u.qh=!0),u}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},t.prototype.terminate=function(){return function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=w(t),p("RemoteStore","RemoteStore shutting down."),n.Wc.add(5),[4,po(n)];case 1:return e.sent(),n.Gc.ga(),n.Hc.set("Unknown"),[2]}})})}(this.ph)},t}(),Js=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Hl=function(){this.muted=!0},t.prototype.zl=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Xs(t,e,n){if(!n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Zs(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new h(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $s(t,e,n,r){if(!0===e&&!0===r)throw new h(c.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function tu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==a(t)){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function eu(t,e){if(e<=0)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var nu=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new h(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new B(t)},ru=function(t){function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return(0,e.__extends)(n,t),n.documentId=function(){return new n(B.j().B())},n.prototype.isEqual=function(t){return t instanceof n&&this.Yl.isEqual(t.Yl)},n}(nu),iu=new RegExp("[~\\*/\\[\\]]"),ou=function(t){this.Jl=t},su=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.Xl=function(t){if(2!==t.Zl)throw 1===t.Zl?t.t_(this.Jl+"() can only appear at the top level of your update data"):t.t_(this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},n.prototype.isEqual=function(t){return t instanceof n},n}(ou);function uu(t,e,n){return new wu({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var au=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.Xl=function(t){return new Ge(t.path,new Re)},n.prototype.isEqual=function(t){return t instanceof n},n}(ou),cu=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return(0,e.__extends)(n,t),n.prototype.Xl=function(t){var e=uu(this,t,!0),n=this.s_.map(function(t){return Nu(t,e)}),r=new Ue(n);return new Ge(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(ou),hu=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return(0,e.__extends)(n,t),n.prototype.Xl=function(t){var e=uu(this,t,!0),n=this.s_.map(function(t){return Nu(t,e)}),r=new qe(n);return new Ge(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(ou),fu=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).i_=n,r}return(0,e.__extends)(n,t),n.prototype.Xl=function(t){var e=new Fe(t.serializer,ee(t.serializer,this.i_));return new Ge(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(ou),lu=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new h(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},t.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},t.prototype.g=function(t){return I(this.r_,t.r_)||I(this.o_,t.o_)},t}(),pu=function(t){this.a_=t},du=/^__.*__$/,vu=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},yu=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[];return null!==this.Qe?n.push(new en(t,this.data,this.Qe,e)):n.push(new tn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new rn(t,this.fieldTransforms)),n},t}(),gu=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[new en(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new rn(t,this.fieldTransforms)),n},t}();function mu(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var wu=function(){function t(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),t.prototype.f_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.d_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.w_(t),r},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.__(),r},t.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},t.prototype.t_=function(t){return Ou(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},t.prototype.contains=function(t){return void 0!==this.Qe.find(function(e){return t.M(e)})||void 0!==this.fieldTransforms.find(function(e){return t.M(e.field)})},t.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},t.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(mu(this.Zl)&&du.test(t))throw this.t_('Document fields cannot begin and end with "__"')},t}(),_u=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ks(t)}return t.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new wu({Zl:t,methodName:e,e_:n,path:B.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function bu(t,e,n,r,i,o){void 0===o&&(o={});var s=t.m_(o.merge||o.mergeFields?2:0,e,n,i);xu("Data must be an object, but it was:",s,r);var u,a,f=Au(r,s);if(o.merge)u=new ze(s.Qe),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],p=0,d=o.mergeFields;p<d.length;p++){var v=d[p],y=void 0;if(v instanceof nu)y=v.Yl;else{if("string"!=typeof v)throw g();y=ku(e,v,n)}if(!s.contains(y))throw new h(c.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Pu(l,y)||l.push(y)}u=new ze(l),a=s.fieldTransforms.filter(function(t){return u.Ye(t.field)})}else u=null,a=s.fieldTransforms;return new yu(new cn(f),u,a)}function Iu(t,e,n,r){var i=t.m_(1,e,n);xu("Data must be an object, but it was:",i,r);var o=[],s=new hn;L(r,function(t,r){var u=ku(e,t,n),a=i.E_(u);if(r instanceof su||r instanceof pu&&r.a_ instanceof su)o.push(u);else{var c=Nu(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new ze(o);return new gu(s.Xe(),u,i.fieldTransforms)}function Eu(t,e,n,r,i,o){var s=t.m_(1,e,n),u=[Su(e,r,n)],a=[i];if(o.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<o.length;f+=2)u.push(Su(e,o[f])),a.push(o[f+1]);for(var l=[],p=new hn,d=u.length-1;d>=0;--d)if(!Pu(l,u[d])){var v=u[d],y=a[d],g=s.E_(v);if(y instanceof su||y instanceof pu&&y.a_ instanceof su)l.push(v);else{var m=Nu(y,g);null!=m&&(l.push(v),p.set(v,m))}}var w=new ze(l);return new gu(p.Xe(),w,s.fieldTransforms)}function Tu(t,e,n,r){return void 0===r&&(r=!1),Nu(n,t.m_(r?4:3,e))}function Nu(t,e){if(t instanceof pu&&(t=t.a_),Du(t))return xu("Unsupported field value:",e,t),Au(t,e);if(t instanceof ou)return function(t,e){if(!mu(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");var n=t.Xl(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Nu(o[i],e.T_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ee(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=U.fromDate(t);return{timestampValue:ne(e.serializer,n)}}if(t instanceof U){var r=new U(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ne(e.serializer,r)}}if(t instanceof lu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof A)return{bytesValue:re(e.serializer,t.l)};if(t instanceof vu){var i=e._,o=t.c_;if(!o.isEqual(i))throw e.t_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:se(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+tu(t))}(t,e)}function Au(t,e){var n={};return V(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):L(t,function(t,r){var i=Nu(r,e.d_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Du(t){return!("object"!=a(t)||null===t||t instanceof Array||t instanceof Date||t instanceof U||t instanceof lu||t instanceof A||t instanceof vu||t instanceof ou)}function xu(t,e,n){if(!Du(n)||!function(t){return"object"==a(t)&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=tu(n);throw"an object"===r?e.t_(t+" a custom object"):e.t_(t+" "+r)}}function Su(t,e,n){if(e instanceof nu)return e.Yl;if("string"==typeof e)return ku(t,e);throw Ou("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function ku(t,n,r){try{return function(t){if(t.search(iu)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ru.bind.apply(ru,(0,e.__spreadArrays)([void 0],t.split("."))))}catch(n){throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(n).Yl}catch(n){throw Ou((i=n)instanceof Error?i.message:i.toString(),t,!1,void 0,r)}var i}function Ou(t,e,n,r,i){var o=r&&!r.P(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new h(c.INVALID_ARGUMENT,(u+=". ")+t+a)}function Pu(t,e){return t.some(function(t){return t.isEqual(e)})}var Lu=function(){function t(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}return t.prototype.y_=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,e.__generator)(this,function(i){switch(i.label){case 0:if(this.V_(),this.mutations.length>0)throw new h(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,a;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=w(t),i=le(r.serializer)+"/documents",o={documents:n.map(function(t){return ae(r.serializer,t)})},[4,r.Dc("BatchGetDocuments",i,o)];case 1:return s=e.sent(),u=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found),e.found.name,e.found.updateTime;var n=ce(t,e.found.name),r=oe(e.found.updateTime),i=new cn({mapValue:{fields:e.found.fields}});return new pn(n,r,i,{})}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ce(t,e.missing),r=oe(e.readTime);return new dn(n,r)}(t,e):g()}(r.serializer,t);u.set(e.key.toString(),e)}),a=[],[2,(n.forEach(function(t){var e=u.get(t.toString());m(!!e),a.push(e)}),a)]}})})}(this.qc,t)];case 1:return[2,((n=i.sent()).forEach(function(t){t instanceof dn||t instanceof pn?r.p_(t):g()}),n)]}})})},t.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},t.prototype.delete=function(t){this.write([new un(t,this.Ge(t))]),this.g_.add(t.toString())},t.prototype.commit=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,e.__generator)(this,function(r){switch(r.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,e){var r=j.H(e);n.mutations.push(new an(r,n.Ge(r)))}),[4,function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=w(t),i=le(r.serializer)+"/documents",o={writes:n.map(function(t){return ve(r.serializer,t)})},[4,r.Sc("Commit",i,o)];case 1:return e.sent(),[2]}})})}(this.qc,this.mutations)];case 1:return r.sent(),this.R_=!0,[2]}})})},t.prototype.p_=function(t){var e;if(t instanceof pn)e=t.version;else{if(!(t instanceof dn))throw g();e=C.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(c.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?We.updateTime(e):We.ze()},t.prototype.b_=function(t){var e=this.A_.get(t.toString());if(!this.g_.has(t.toString())&&e){if(e.isEqual(C.min()))throw new h(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return We.updateTime(e)}return We.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),Vu=function(){function t(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new Xn(this.cs,"transaction_retry")}return t.prototype.run=function(){this.S_()},t.prototype.S_=function(){var t=this;this.ys.Pn(function(){return(0,e.__awaiter)(t,void 0,void 0,function(){var t,n,r=this;return(0,e.__generator)(this,function(e){return t=new Lu(this.qc),(n=this.D_(t))&&n.then(function(e){r.cs.ws(function(){return t.commit().then(function(){r.ls.resolve(e)}).catch(function(t){r.C_(t)})})}).catch(function(t){r.C_(t)}),[2]})})})},t.prototype.D_=function(t){try{var e=this.updateFunction(t);return!z(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.C_=function(t){var e=this;this.v_>0&&this.N_(t)?(this.v_-=1,this.cs.ws(function(){return e.S_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.N_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!et(e)}return!1},t}(),Ru=function(){function t(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=br.UNAUTHENTICATED,this.clientId=b.t(),this.x_=function(){},this.ui=new Jn,this.credentials.oi(function(t){p("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()})}return t.prototype.getConfiguration=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}})})},t.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then(function(){return e.x_(e.user)})},t.prototype.O_=function(){if(this.cs.ps)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.cs.Ds();var n=new Jn;return this.cs.bs(function(){return(0,e.__awaiter)(t,void 0,void 0,function(){var t,r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:e.sent(),e.label=4;case 4:return this.credentials.ai(),n.resolve(),[3,6];case 5:return t=e.sent(),r=lr(t,"Failed to shutdown persistence"),n.reject(r),[3,6];case 6:return[2]}})})}),n.promise},t}();function Uu(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i=this;return(0,e.__generator)(this,function(o){switch(o.label){case 0:return t.cs.Fs(),p("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return r=o.sent(),[4,n.initialize(r)];case 2:return o.sent(),t.F_(function(r){return t.cs.Cs(function(){return(0,e.__awaiter)(i,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return[4,Hi(n.Bc,r)];case 1:return t.sent(),[2]}})})})}),n.persistence.ha(function(){return t.terminate()}),t.M_=n,[2]}})})}function Cu(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,e.__generator)(this,function(o){switch(o.label){case 0:return t.cs.Fs(),[4,qu(t)];case 1:return r=o.sent(),p("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,n.initialize(r,i)];case 3:return o.sent(),t.F_(function(r){return t.cs.Cs(function(){return function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(r=w(t)).cs.Fs(),p("RemoteStore","RemoteStore received new credentials"),i=bo(r),r.Wc.add(3),[4,po(r)];case 1:return e.sent(),i&&r.Hc.set("Unknown"),[4,r.Uc.Gl(n)];case 2:return e.sent(),r.Wc.delete(3),[4,lo(r)];case 3:return e.sent(),[2]}})})}(n.ph,r)})}),t.k_=n,[2]}})})}function qu(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return t.M_?[3,2]:(p("FirestoreClient","Using default OfflineComponentProvider"),[4,Uu(t,new Ws)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}})})}function Mu(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return t.k_?[3,2]:(p("FirestoreClient","Using default OnlineComponentProvider"),[4,Cu(t,new Ys)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}})})}function Fu(t){return qu(t).then(function(t){return t.persistence})}function Bu(t){return qu(t).then(function(t){return t.Bc})}function ju(t){return Mu(t).then(function(t){return t.ph})}function zu(t){return Mu(t).then(function(t){return t.mu})}function Gu(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,Mu(t)];case 1:return n=e.sent(),[2,((r=n.bh).Us=ns.bind(null,n.mu),r.Ws=is.bind(null,n.mu),r)]}})})}function Ku(t,n,r,i){var o=this,s=new Js(i),u=new _r(n,s,r);return t.cs.ws(function(){return(0,e.__awaiter)(o,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=vr,[4,Gu(t)];case 1:return[2,n.apply(void 0,[e.sent(),u])]}})})}),function(){s.Hl(),t.cs.ws(function(){return(0,e.__awaiter)(o,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=yr,[4,Gu(t)];case 1:return[2,n.apply(void 0,[e.sent(),u])]}})})})}}function Wu(t,n){var r=this,i=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return r=os,[4,zu(t)];case 1:return[2,r.apply(void 0,[e.sent(),n,i])]}})})}),i.promise}function Qu(t,n){var r=this,i=new Js(n);return t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=function(t,e){w(t).qs.add(e),e.next()},[4,Gu(t)];case 1:return[2,n.apply(void 0,[e.sent(),i])]}})})}),function(){i.Hl(),t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=function(t,e){w(t).qs.delete(e)},[4,Gu(t)];case 1:return[2,n.apply(void 0,[e.sent(),i])]}})})})}}function Hu(t){return function(t,e){if("object"!=a(t)||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Yu=function(){function t(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}return t.prototype.U_=function(t){switch(Vt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(zt(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw g()}},t.prototype.z_=function(t){var e=this,n={};return L(t.fields||{},function(t,r){n[t]=e.U_(r)}),n},t.prototype.j_=function(t){return new lu(jt(t.latitude),jt(t.longitude))},t.prototype.G_=function(t){var e=this;return(t.values||[]).map(function(t){return e.U_(t)})},t.prototype.Q_=function(t){switch(this.L_){case"previous":var e=Ot(t);return null==e?null:this.U_(e);case"estimate":return this.K_(Pt(t));default:return null}},t.prototype.K_=function(t){var e=Bt(t);return new U(e.seconds,e.nanos)},t.prototype.W_=function(t){var e=M.q(t);m(ke(e));var n=new O(e.get(1),e.get(3)),r=new j(e.N(5));return n.isEqual(this._)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(r)},t}(),Ju=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new h(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new h(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,$s("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function Xu(t){ta(t);var e=oa(t),n=t.H_(),r=new Ys;return Zu(e,r,new Hs(r,n.cacheSizeBytes))}function Zu(t,n,r){var i=this,o=new Jn;return t.cs.enqueue(function(){return(0,e.__awaiter)(i,void 0,void 0,function(){var i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,Uu(t,r)];case 1:return e.sent(),[4,Cu(t,n)];case 2:return e.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=e.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function $u(t){var n=this;if(t.Y_&&!t.J_)throw new h(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Jn;return t.X_.bs(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return $n.Ln()?(n=t+"main",[4,$n.delete(n)]):[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Wi(t.c_,t.Z_))];case 1:return i.sent(),r.resolve(),[3,3];case 2:return n=i.sent(),r.reject(n),[3,3];case 3:return[2]}})})}),r.promise}function ta(t){if(t.Y_||t.J_)throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ea="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",na=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new h(c.FAILED_PRECONDITION,ea)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new h(c.FAILED_PRECONDITION,ea)},t.prototype.clearIndexedDbPersistence=function(t){throw new h(c.FAILED_PRECONDITION,ea)},t}(),ra=function(){function t(){this.enableMultiTabIndexedDbPersistence=Xu.bind(null),this.clearIndexedDbPersistence=$u.bind(null)}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ta(t);var n=oa(t),r=t.H_(),i=new Ys;return Zu(n,i,new Qs(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},t}(),ia=function(){function t(n,r,i){var o=this;if(void 0===i&&(i=new na),this.tf=i,this.ef=null,this.X_=new fr,this.INTERNAL={delete:function(){return(0,e.__awaiter)(o,void 0,void 0,function(){return(0,e.__generator)(this,function(t){switch(t.label){case 0:return this.nf||sa(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==a(n.options)){var s=n;this.ef=s,this.c_=t.sf(s),this.Z_=s.name,this.if=new Tr(r)}else{var u=n;if(!u.projectId)throw new h(c.INVALID_ARGUMENT,"Must provide projectId");this.c_=new O(u.projectId,u.database),this.Z_="[DEFAULT]",this.if=new Er}this.rf=new Ju({})}return Object.defineProperty(t.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.cf||(this.cf=new _u(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge;var e=new Ju(t);if(this.nf&&!this.rf.isEqual(e))throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.rf=e,void 0!==e.credentials&&(this.if=function(t){if(!t)return new Er;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=a(e)||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ar(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&v("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return oa(this),function(t){var n=this;return t.cs.enqueue(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var n,r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,Fu(t)];case 1:return n=e.sent(),[4,ju(t)];case 2:return r=e.sent(),[2,(n.la(!0),function(t){var e=w(r);return e.Wc.delete(0),lo(e)}())]}})})})}(this.nf)},t.prototype.disableNetwork=function(){return oa(this),function(t){var n=this;return t.cs.enqueue(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var n,r;return(0,e.__generator)(this,function(i){switch(i.label){case 0:return[4,Fu(t)];case 1:return n=i.sent(),[4,ju(t)];case 2:return r=i.sent(),[2,(n.la(!1),function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return(n=w(t)).Wc.add(0),[4,po(n)];case 1:return e.sent(),n.Hc.set("Offline"),[2]}})})}(r))]}})})})}(this.nf)},t.prototype.enablePersistence=function(t){if(this.nf)throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&$s("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){return[2,this.tf.clearIndexedDbPersistence(this)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},t.prototype.waitForPendingWrites=function(){return oa(this),function(t){var n=this,r=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(n,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return n=fs,[4,zu(t)];case 1:return[2,n.apply(void 0,[e.sent(),r])]}})})}),r.promise}(this.nf)},t.prototype.onSnapshotsInSync=function(t){if(oa(this),Hu(t))return Qu(this.nf,t);var e={next:t};return Qu(this.nf,e)},t.sf=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new h(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new h(c.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new O(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ef)throw new h(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Xs("Firestore.collection","path",t),oa(this),new wa(M.q(t),this,null)},t.prototype.doc=function(t){return Xs("Firestore.doc","path",t),oa(this),ca.uf(M.q(t),this,null)},t.prototype.collectionGroup=function(t){if(Xs("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return oa(this),new ga(function(t){return new yn(M.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var n=this;return function(t,n){var r=this,i=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,function(t){return Mu(t).then(function(t){return t.qc})}(t)];case 1:return r=e.sent(),new Vu(t.cs,r,n,i).run(),[2]}})})}),i.promise}(oa(this),function(e){return t(new ua(n,e))})},t.prototype.batch=function(){return oa(this),new aa(this)},t.prototype.H_=function(){return this.rf},t}();function oa(t){return t.nf||sa(t),t.nf.O_(),t.nf}function sa(t){var e=t.H_(),n=function(t,e,n){return new k(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.c_,t.Z_,e);t.nf=new Ru(t.if,t.X_,n)}var ua=function(){function t(t,e){this.hf=t,this.lf=e}return t.prototype.get=function(t){var e=this,n=_a("Transaction.get",t,this.hf);return this.lf.y_([n.u_]).then(function(t){if(!t||1!==t.length)return g();var r=t[0];if(r instanceof dn)return new fa(e.hf,n.u_,null,!1,!1,n.h_);if(r instanceof pn)return new fa(e.hf,n.u_,r,!1,!1,n.h_);throw g()})},t.prototype.set=function(t,e,n){var r=_a("Transaction.set",t,this.hf);n=Zs("Transaction.set",n);var i=Ia(r.h_,e,n),o=bu(this.hf.af,"Transaction.set",r.u_,i,null!==r.h_,n);return this.lf.set(r.u_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ru?(r=_a("Transaction.update",t,this.hf),i=Eu(this.hf.af,"Transaction.update",r.u_,e,n,o)):(r=_a("Transaction.update",t,this.hf),i=Iu(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,i),this},t.prototype.delete=function(t){var e=_a("Transaction.delete",t,this.hf);return this.lf.delete(e.u_),this},t}(),aa=function(){function t(t){this.hf=t,this._f=[],this.ff=!1}return t.prototype.set=function(t,e,n){this.df();var r=_a("WriteBatch.set",t,this.hf);n=Zs("WriteBatch.set",n);var i=Ia(r.h_,e,n),o=bu(this.hf.af,"WriteBatch.set",r.u_,i,null!==r.h_,n);return this._f=this._f.concat(o.l_(r.u_,We.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.df(),"string"==typeof e||e instanceof ru?(r=_a("WriteBatch.update",t,this.hf),i=Eu(this.hf.af,"WriteBatch.update",r.u_,e,n,o)):(r=_a("WriteBatch.update",t,this.hf),i=Iu(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(i.l_(r.u_,We.exists(!0))),this},t.prototype.delete=function(t){this.df();var e=_a("WriteBatch.delete",t,this.hf);return this._f=this._f.concat(new un(e.u_,We.ze())),this},t.prototype.commit=function(){return this.df(),this.ff=!0,this._f.length>0?Wu(oa(this.hf),this._f):Promise.resolve()},t.prototype.df=function(){if(this.ff)throw new h(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ca=function(t){function n(e,n,r){var i=this;return(i=t.call(this,n.c_,e,r)||this).u_=e,i.firestore=n,i.h_=r,i.nf=oa(n),i}return(0,e.__extends)(n,t),n.uf=function(t,e,r){if(t.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new n(new j(t),e,r)},Object.defineProperty(n.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new wa(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){if(Xs("DocumentReference.collection","path",t),!t)throw new h(c.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=M.q(t);return new wa(this.u_.path.child(e),this.firestore,null)},n.prototype.isEqual=function(t){return t instanceof n&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},n.prototype.set=function(t,e){e=Zs("DocumentReference.set",e);var n=Ia(this.h_,t,e),r=bu(this.firestore.af,"DocumentReference.set",this.u_,n,null!==this.h_,e);return Wu(this.nf,r.l_(this.u_,We.ze()))},n.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof ru?Eu(this.firestore.af,"DocumentReference.update",this.u_,t,e,r):Iu(this.firestore.af,"DocumentReference.update",this.u_,t),Wu(this.nf,n.l_(this.u_,We.exists(!0)))},n.prototype.delete=function(){return Wu(this.nf,[new un(this.u_,We.ze())])},n.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={includeMetadataChanges:!1},u=0;"object"!=a(i[u])||Hu(i[u])||(s=i[u],u++);var c={includeMetadataChanges:s.includeMetadataChanges};if(Hu(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(e=h.error)||void 0===e?void 0:e.bind(h),i[u+2]=null===(n=h.complete)||void 0===n?void 0:n.bind(h)}var f={next:function(t){i[u]&&i[u](r.wf(t))},error:i[u+1],complete:i[u+2]};return Ku(this.nf,mn(this.u_.path),c,f)},n.prototype.get=function(t){var n=this;return t&&"cache"===t.source?function(t,n){var r=this,i=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ka.Mi(t,e)})}(t,n)];case 1:return(i=e.sent())instanceof pn?r.resolve(i):i instanceof dn?r.resolve(null):r.reject(new h(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=e.sent(),s=lr(o,"Failed to get document '"+n+" from cache"),r.reject(s),[3,3];case 3:return[2]}})})},[4,Bu(t)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}})})}),i.promise}(this.nf,this.u_).then(function(t){return new fa(n.firestore,n.u_,t,!0,t instanceof pn&&t.Je,n.h_)}):function(t,n,r){var i=this;void 0===r&&(r={});var o=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(i,void 0,void 0,function(){var i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return i=function(t,e,n,r,i){var o=new Js({next:function(o){e.ws(function(){return yr(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new h(c.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new _r(mn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return vr(t,s)},[4,Gu(t)];case 1:return[2,i.apply(void 0,[e.sent(),t.cs,n,r,o])]}})})}),o.promise}(this.nf,this.u_,t).then(function(t){return n.wf(t)})},n.prototype.withConverter=function(t){return new n(this.u_,this.firestore,t)},n.prototype.wf=function(t){var e=t.docs.get(this.u_);return new fa(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},n}(vu),ha=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),fa=function(){function t(t,e,n,r,i,o){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=o}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new la(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new Yu(this.hf.c_,t.serverTimestamps||"none",function(t){return new ca(t,e.hf,null)},function(t){return new S(t)}).U_(this.Ef.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef){var r=this.Ef.data().field(Su("DocumentSnapshot.get",t,this.u_));if(null!==r)return new Yu(this.hf.c_,e.serverTimestamps||"none",function(t){return new ca(t,n.hf,n.h_)},function(t){return new S(t)}).U_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ca(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ha(this.If,this.Tf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&this.Tf===e.Tf&&this.u_.isEqual(e.u_)&&(null===this.Ef?null===e.Ef:this.Ef.isEqual(e.Ef))&&this.h_===e.h_},t}(),la=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.data=function(e){return t.prototype.data.call(this,e)},n}(fa);function pa(t,e,n){if("string"==typeof n){if(""===n)throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!En(e)&&-1!==n.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(M.q(n));if(!j.X(r))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gt(t,new j(r))}if(n instanceof vu)return Gt(t,n.u_);throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+tu(n)+".")}function da(t,e){if(!Array.isArray(t)||0===t.length)throw new h(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function va(t,e,n){if(!n.isEqual(e))throw new h(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ya(t){if(_n(t)&&0===t.on.length)throw new h(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ga=function(){function t(t,e,n){this.mf=t,this.firestore=e,this.h_=n}return t.prototype.where=function(e,n,r){var i=Su("Query.where",e),o=function(t,e,n,r,i,o,s){var u;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new h(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){da(s,o);for(var a=[],f=0,l=s;f<l.length;f++){var p=l[f];a.push(pa(r,t,p))}u={arrayValue:{values:a}}}else u=pa(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||da(s,o),u=Tu(n,"Query.where",s,"in"===o||"not-in"===o);var d=Vn.create(i,o,u);return function(t,e){if(e.hn()){var n=In(t);if(null!==n&&!n.isEqual(e.field))throw new h(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bn(t);null!==r&&va(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===e.op?new h(c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new h(c.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}(this.mf,0,this.firestore.af,this.firestore.c_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new yn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(c.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Su("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qn(e,n);return function(t,e){if(null===bn(t)){var n=In(t);null!==n&&va(0,n,e.field)}}(t,r),r}(this.mf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new yn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.limit=function(e){return eu("Query.limit",e),new t(An(this.mf,e,"F"),this.firestore,this.h_)},t.prototype.limitToLast=function(e){return eu("Query.limitToLast",e),new t(An(this.mf,e,"L"),this.firestore,this.h_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAt",e,n,!0);return new t(Dn(this.mf,i),this.firestore,this.h_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAfter",e,n,!1);return new t(Dn(this.mf,i),this.firestore,this.h_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endBefore",e,n,!0);return new t(xn(this.mf,i),this.firestore,this.h_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endAt",e,n,!1);return new t(xn(this.mf,i),this.firestore,this.h_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&Sn(this.mf,e.mf)&&this.h_===e.h_},t.prototype.withConverter=function(e){return new t(this.mf,this.firestore,e)},t.prototype.Af=function(t,e,n,r){if(e instanceof fa)return function(t,e,n,r,i){if(!r)throw new h(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Tn(t);s<u.length;s++){var a=u[s];if(a.field.W())o.push(Gt(e,r.key));else{var f=r.field(a.field);if(kt(f))throw new h(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var l=a.field.B();throw new h(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(f)}}return new zn(o,i)}(this.mf,this.firestore.c_,t,e.Ef,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new h(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],f=0;f<i.length;f++){var l=i[f];if(s[f].field.W()){if("string"!=typeof l)throw new h(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+a(l));if(!En(t)&&-1!==l.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var p=t.path.child(M.q(l));if(!j.X(p))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+p+"' is not because it contains an odd number of segments.");var d=new j(p);u.push(Gt(e,d))}else{var v=Tu(n,r,l);u.push(v)}}return new zn(u,o)}(this.mf,this.firestore.c_,this.firestore.af,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={},u=0;if("object"!=a(i[u])||Hu(i[u])||(s=i[u],u++),Hu(i[u])){var c=i[u];i[u]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[u+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[u+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var h={next:function(t){i[u]&&i[u](new ma(r.firestore,r.mf,t,r.h_))},error:i[u+1],complete:i[u+2]};return ya(this.mf),Ku(oa(this.firestore),this.mf,s,h)},t.prototype.get=function(t){var n=this;ya(this.mf);var r=oa(this.firestore);return(t&&"cache"===t.source?function(t,n){var r=this,i=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(r,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,n,r){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,a,c;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,eo(t,n,!0)];case 1:return i=e.sent(),o=new Zo(n,i.za),s=o.wh(i.documents),u=o.Di(s,!1),r.resolve(u.snapshot),[3,3];case 2:return a=e.sent(),c=lr(a,"Failed to execute query '"+n+" against cache"),r.reject(c),[3,3];case 3:return[2]}})})},[4,Bu(t)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}})})}),i.promise}(r,this.mf):function(t,n,r){var i=this;void 0===r&&(r={});var o=new Jn;return t.cs.ws(function(){return(0,e.__awaiter)(i,void 0,void 0,function(){var i;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return i=function(t,e,n,r,i){var o=new Js({next:function(n){e.ws(function(){return yr(t,s)}),n.fromCache&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new _r(n,o,{includeMetadataChanges:!0,Xs:!0});return vr(t,s)},[4,Gu(t)];case 1:return[2,i.apply(void 0,[e.sent(),t.cs,n,r,o])]}})})}),o.promise}(r,this.mf,t)).then(function(t){return new ma(n.firestore,n.mf,t,n.h_)})},t}(),ma=function(){function t(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new ha(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach(function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new ga(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pf.jt)throw new h(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===e||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map(function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var i=t.Kt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:ba(e.type),doc:r,oldIndex:o,newIndex:s}})}(this.Pf,e,this.Vf.bind(this)),this.yf=e),this.gf},t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&Sn(this.Rf,e.Rf)&&this.Pf.isEqual(e.Pf)&&this.h_===e.h_},t.prototype.Vf=function(t,e,n){return new la(this.hf,t.key,t,e,n,this.h_)},t}(),wa=function(t){function n(e,n,r){var i=this;if((i=t.call(this,mn(e),n,r)||this).pf=e,e.length%2!=1)throw new h(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return(0,e.__extends)(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new ca(new j(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),n.prototype.doc=function(t){0===arguments.length&&(t=b.t()),Xs("CollectionReference.doc","path",t);var e=M.q(t);return ca.uf(this.mf.path.child(e),this.firestore,this.h_)},n.prototype.add=function(t){var e=this.h_?this.h_.toFirestore(t):t,n=this.doc();return new ca(n.u_,this.firestore,null).set(e).then(function(){return n})},n.prototype.withConverter=function(t){return new n(this.pf,this.firestore,t)},n}(ga);function _a(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new h(c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tu(t);throw new h(c.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,ca);if(r.firestore!==n)throw new h(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function ba(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Ia(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ea=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.serverTimestamp=function(){var t=new au("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new n(t)},n.delete=function(){var t=new su("deleteField");return t.Jl="FieldValue.delete",new n(t)},n.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cu("arrayUnion",t)}.apply(void 0,t);return r.Jl="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hu("arrayRemove",t)}.apply(void 0,t);return r.Jl="FieldValue.arrayRemove",new n(r)},n.increment=function(t){var e=function(t){return new fu("increment",t)}(t);return e.Jl="FieldValue.increment",new n(e)},n.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)},n}(pu),Ta={Firestore:ia,GeoPoint:lu,Timestamp:U,Blob:S,Transaction:ua,WriteBatch:aa,DocumentReference:ca,DocumentSnapshot:fa,Query:ga,QueryDocumentSnapshot:la,QuerySnapshot:ma,CollectionReference:wa,FieldPath:ru,FieldValue:Ea,setLogLevel:function(t){var e;e=t,f.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function Na(t){!function(t,e){t.INTERNAL.registerComponent(new s.Component("firestore",function(t){return function(t,e){return new ia(t,e,new ra)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ta)))}(t),t.registerVersion("@firebase/firestore","2.0.1")}Na(n.default);
},{"tslib":"vCxL","@firebase/app":"VxYX","@firebase/logger":"TUpU","@firebase/util":"KxmD","@firebase/webchannel-wrapper":"ueHA","@firebase/component":"sLOu","process":"pBGv"}],"vHL5":[function(require,module,exports) {
"use strict";require("@firebase/firestore");
},{"@firebase/firestore":"A6C1"}],"BsVE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.firebaseConfig=void 0;var e={apiKey:"AIzaSyAHlaBZSz8cvAB2_Dt_dpQXA6hnriwxtGA",authDomain:"fir-app-c58af.firebaseapp.com",databaseURL:"https://fir-app-c58af.firebaseio.com",projectId:"fir-app-c58af",storageBucket:"fir-app-c58af.appspot.com",messagingSenderId:"576389478387",appId:"1:576389478387:web:f28e54e9951ac428728486"};exports.firebaseConfig=e;
},{}],"pfhK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"FirebaseApp",{enumerable:!0,get:function(){return r.default}}),exports.FirebaseContext=exports.Firebase=void 0;var e=require("react"),r=i(require("firebase/app"));require("firebase/firestore");var t=require("./config");function i(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var a=function e(){n(this,e),r.default.apps.length||(r.default.initializeApp(t.firebaseConfig),r.default.firestore().enablePersistence({synchronizeTabs:!0}).catch(function(e){return console.log(e)})),this.db=r.default.firestore(),this.ideasCollection=this.db.collection("ideas")};exports.Firebase=a;var o=(0,e.createContext)(null);exports.FirebaseContext=o;
},{"react":"n8MK","firebase/app":"OJEJ","firebase/firestore":"vHL5","./config":"BsVE"}],"OXFW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withFirebase=void 0;var e=t(require("react")),r=require(".");function t(e){return e&&e.__esModule?e:{default:e}}function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var u=function(t){return function(u){return e.default.createElement(r.FirebaseContext.Consumer,null,function(r){return e.default.createElement(t,n({},u,{firebase:r}))})}};exports.withFirebase=u;
},{"react":"n8MK",".":"pfhK"}],"X8le":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("react")),t=n(require("./Idea")),r=require("../firebase/withFirebase");function n(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function u(e,t){return s(e)||f(e,t)||l(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}function s(e){if(Array.isArray(e))return e}require("./App.less");var d=function(r){var n=r.firebase.ideasCollection,a=(0,e.useRef)(null),o=u((0,e.useState)(""),2),i=o[0],l=o[1],c=u((0,e.useState)([]),2),f=c[0],s=c[1];(0,e.useEffect)(function(){var e=n.orderBy("timestamp","desc").onSnapshot(function(e){var t=e.docs,r=[];t.forEach(function(e){var t={id:e.id,content:e.data().idea,timestamp:e.data().timestamp};r.push(t)}),s(r)});return function(){return e()}},[]);var d=function(e){var t=e.target.id;n.doc(t).delete()};return e.default.createElement("div",{className:"app"},e.default.createElement("header",{className:"app__header"},e.default.createElement("h1",{className:"app__header__h1"},"Idea Box")),e.default.createElement("section",{ref:a,className:"app__content"},f.length?f.map(function(r){return e.default.createElement(t.default,{key:r.id,idea:r,onDelete:d})}):e.default.createElement("h2",{className:"app__content__no-idea"},"Add a new Idea...")),e.default.createElement("form",{className:"app__footer",onSubmit:function(e){e.preventDefault(),i.trim().length&&(l(""),a.current.scrollTop=0,n.add({idea:i,timestamp:new Date}))}},e.default.createElement("input",{type:"text",className:"app__footer__input",placeholder:"Add a new idea",value:i,onChange:function(e){return l(e.target.value)}}),e.default.createElement("button",{type:"submit",className:"app__btn app__footer__submit-btn"},"+")))},p=(0,r.withFirebase)(d);exports.default=p;
},{"react":"n8MK","./Idea":"F7UB","../firebase/withFirebase":"OXFW","./App.less":"tC0Y"}],"uBxZ":[function(require,module,exports) {
"use strict";var e=a(require("react")),r=a(require("react-dom")),t=a(require("./components/App")),u=require("./firebase");function a(e){return e&&e.__esModule?e:{default:e}}var l=document.querySelector("#root");r.default.render(e.default.createElement(u.FirebaseContext.Provider,{value:new u.Firebase},e.default.createElement(t.default,null)),l);
},{"react":"n8MK","react-dom":"NKHc","./components/App":"X8le","./firebase":"pfhK"}]},{},["uBxZ"], null)